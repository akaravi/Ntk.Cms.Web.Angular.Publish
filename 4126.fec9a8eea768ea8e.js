"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[4126],{95631:(W,f,l)=>{l.d(f,{z:()=>U});var C=l(8239),a=l(86889),e=l(64537),c=l(20092),i=l(34511),O=l(57445),M=l(51927),E=l(83151),g=l(42147),S=l(61528),A=l(27969),D=l(60656),v=l(56707),m=l(88692),u=l(61637),P=l(1379),h=l(88659),y=l(83331),I=l(39665),T=l(75738);function R(_,r){if(1&_&&(e.TgZ(0,"mat-option",7)(1,"span"),e._uU(2),e.qZA()()),2&_){const p=r.$implicit,t=e.oxw();e.Q6J("value",p)("disabled",t.optionDisabled),e.xp6(2),e.Oqu(t.displayOption(p))}}function Z(_,r){if(1&_){const p=e.EpF();e.TgZ(0,"mat-icon",8),e.NdJ("click",function(){e.CHM(p);const o=e.oxw();return e.KtG(o.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const L=["*"];let U=(()=>{var _;class r{constructor(t,o,s,d){(0,a.Z)(this,"coreEnumService",void 0),(0,a.Z)(this,"cdr",void 0),(0,a.Z)(this,"translate",void 0),(0,a.Z)(this,"categoryService",void 0),(0,a.Z)(this,"id",++r.nextId),(0,a.Z)(this,"dataModelResult",new i.y$4),(0,a.Z)(this,"dataModelSelect",new i.MCb),(0,a.Z)(this,"loading",new D.O),(0,a.Z)(this,"formControl",new c.NI),(0,a.Z)(this,"filteredOptions",void 0),(0,a.Z)(this,"optionDisabled",!1),(0,a.Z)(this,"optionSelectFirstItem",!1),(0,a.Z)(this,"optionPlaceholder",""),(0,a.Z)(this,"optionChange",new e.vpe),(0,a.Z)(this,"optionReload",()=>this.onActionReload()),this.coreEnumService=t,this.cdr=o,this.translate=s,this.categoryService=d,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,M.O)(""),(0,E.b)(1500),(0,g.x)(),(0,S.w)(t=>this.DataGetAll("string"==typeof t||"number"==typeof t?t:"")))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){var o=this;return(0,C.Z)(function*(){const s=new i.Hay;if(s.rowPerPage=20,s.accessLoad=!0,t&&t.length>0){let n=new i.AO3;n=new i.AO3,n.propertyName="SubDomain",n.value=t,n.searchType=i.J6G.Contains,n.clauseType=i.ppe.Or,s.filters.push(n),n=new i.AO3,n.propertyName="Domain",n.value=t,n.searchType=i.J6G.Contains,n.clauseType=i.ppe.Or,s.filters.push(n),n=new i.AO3,n.propertyName="Title",n.value=t,n.searchType=i.J6G.Contains,n.clauseType=i.ppe.Or,s.filters.push(n),t&&"number"==typeof+t&&+t>0&&(n=new i.AO3,n.propertyName="Id",n.value=t,n.searchType=i.J6G.Equal,n.clauseType=i.ppe.Or,s.filters.push(n))}const d=o.constructor.name+"main";return o.loading.Start(d),yield(0,O.z)(o.categoryService.ServiceGetAll(s)).then(n=>(o.dataModelResult=n,o.optionSelectFirstItem&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect.id<=0)&&o.dataModelResult.listItems.length>0&&(o.optionSelectFirstItem=!1,setTimeout(()=>{o.formControl.setValue(o.dataModelResult.listItems[0])},1e3),o.onActionSelect(o.dataModelResult.listItems[0])),o.loading.Stop(d),n.listItems))})()}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe((0,A.U)(o=>(o.find(s=>s.id===t.id)||o.push(t),o)))}onActionSelectForce(t){if("number"==typeof t&&t>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.id===t)){const o=this.dataModelResult.listItems.find(s=>s.id===t);return this.dataModelSelect=o,void this.formControl.setValue(o)}this.categoryService.ServiceGetOneById(t).subscribe(o=>{o.isSuccess&&(this.filteredOptions=this.push(o.item),this.dataModelSelect=o.item,this.formControl.setValue(o.item),this.optionChange.emit(o.item))})}else{if(typeof t==typeof i.MCb)return this.filteredOptions=this.push(t),this.dataModelSelect=t,void this.formControl.setValue(t);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new i.MCb,this.loadOptions()}}return _=r,(0,a.Z)(r,"nextId",0),(0,a.Z)(r,"\u0275fac",function(t){return new(t||_)(e.Y36(i.FLW),e.Y36(e.sBO),e.Y36(v.sK),e.Y36(i.PwI))}),(0,a.Z)(r,"\u0275cmp",e.Xpm({type:_,selectors:[["app-cms-sitecategory-selector"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:L,decls:9,vars:10,consts:[[1,"ntk-full-width"],[3,"options"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,o){if(1&t&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"app-progress-spinner",1)(2,"input",2),e.TgZ(3,"mat-autocomplete",3,4),e.NdJ("optionSelected",function(d){return o.onActionSelect(d.option.value)}),e.YNc(5,R,3,3,"mat-option",5),e.ALo(6,"async"),e.qZA(),e.YNc(7,Z,2,0,"mat-icon",6),e.Hsn(8),e.qZA()),2&t){const s=e.MAs(4);e.xp6(1),e.Q6J("options",o.loading),e.xp6(1),e.s9C("placeholder",o.optionPlaceholder),e.Q6J("formControl",o.formControl)("matAutocomplete",s),e.uIk("disabled",!!o.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",o.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(6,8,o.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==o.dataModelSelect?null:o.dataModelSelect.id)}},dependencies:[m.sg,m.O5,c.Fj,c.JJ,c.oH,u.XC,P.ey,u.ZL,h.KE,h.R9,y.Hw,I.Nt,T.O,m.Ov],encapsulation:2})),r})()},6586:(W,f,l)=>{l.d(f,{w:()=>U});var C=l(8239),a=l(86889),e=l(64537),c=l(20092),i=l(34511),O=l(57445),M=l(51927),E=l(83151),g=l(42147),S=l(61528),A=l(27969),D=l(60656),v=l(56707),m=l(88692),u=l(61637),P=l(1379),h=l(88659),y=l(83331),I=l(39665),T=l(75738);function R(_,r){if(1&_&&(e.TgZ(0,"mat-option",7)(1,"span"),e._uU(2),e.qZA()()),2&_){const p=r.$implicit,t=e.oxw();e.Q6J("value",p)("disabled",t.optionDisabled),e.xp6(2),e.Oqu(t.displayOption(p))}}function Z(_,r){if(1&_){const p=e.EpF();e.TgZ(0,"mat-icon",8),e.NdJ("click",function(){e.CHM(p);const o=e.oxw();return e.KtG(o.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const L=["*"];let U=(()=>{var _;class r{constructor(t,o,s,d){(0,a.Z)(this,"coreEnumService",void 0),(0,a.Z)(this,"cdr",void 0),(0,a.Z)(this,"translate",void 0),(0,a.Z)(this,"categoryService",void 0),(0,a.Z)(this,"id",++r.nextId),(0,a.Z)(this,"dataModelResult",new i.y$4),(0,a.Z)(this,"dataModelSelect",new i.fsQ),(0,a.Z)(this,"loading",new D.O),(0,a.Z)(this,"formControl",new c.NI),(0,a.Z)(this,"filteredOptions",void 0),(0,a.Z)(this,"optionDisabled",!1),(0,a.Z)(this,"optionSelectFirstItem",!1),(0,a.Z)(this,"optionPlaceholder",""),(0,a.Z)(this,"optionChange",new e.vpe),(0,a.Z)(this,"optionReload",()=>this.onActionReload()),this.coreEnumService=t,this.cdr=o,this.translate=s,this.categoryService=d,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,M.O)(""),(0,E.b)(1500),(0,g.x)(),(0,S.w)(t=>this.DataGetAll("string"==typeof t||"number"==typeof t?t:"")))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){var o=this;return(0,C.Z)(function*(){const s=new i.Hay;if(s.rowPerPage=20,s.accessLoad=!0,t&&t.length>0){let n=new i.AO3;n=new i.AO3,n.propertyName="username",n.value=t,n.searchType=i.J6G.Contains,n.clauseType=i.ppe.Or,s.filters.push(n),n=new i.AO3,n.propertyName="name",n.value=t,n.searchType=i.J6G.Contains,n.clauseType=i.ppe.Or,s.filters.push(n),n=new i.AO3,n.propertyName="email",n.value=t,n.searchType=i.J6G.Contains,n.clauseType=i.ppe.Or,s.filters.push(n),n=new i.AO3,n.propertyName="lastname",n.value=t,n.searchType=i.J6G.Contains,n.clauseType=i.ppe.Or,s.filters.push(n),t&&"number"==typeof+t&&+t>0&&(n=new i.AO3,n.propertyName="Id",n.value=t,n.searchType=i.J6G.Equal,n.clauseType=i.ppe.Or,s.filters.push(n))}const d=o.constructor.name+"main";return o.loading.Start(d),yield(0,O.z)(o.categoryService.ServiceGetAll(s)).then(n=>(o.dataModelResult=n,o.optionSelectFirstItem&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect.id<=0)&&o.dataModelResult.listItems.length>0&&(o.optionSelectFirstItem=!1,setTimeout(()=>{o.formControl.setValue(o.dataModelResult.listItems[0])},1e3),o.onActionSelect(o.dataModelResult.listItems[0])),o.loading.Stop(d),n.listItems))})()}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe((0,A.U)(o=>(o.find(s=>s.id===t.id)||o.push(t),o)))}onActionSelectForce(t){if("number"==typeof t&&t>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.id===t)){const o=this.dataModelResult.listItems.find(s=>s.id===t);return this.dataModelSelect=o,void this.formControl.setValue(o)}this.categoryService.ServiceGetOneById(t).subscribe(o=>{o.isSuccess&&(this.filteredOptions=this.push(o.item),this.dataModelSelect=o.item,this.formControl.setValue(o.item),this.optionChange.emit(o.item))})}else{if(typeof t==typeof i.fsQ)return this.filteredOptions=this.push(t),this.dataModelSelect=t,void this.formControl.setValue(t);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new i.fsQ,this.loadOptions()}}return _=r,(0,a.Z)(r,"nextId",0),(0,a.Z)(r,"\u0275fac",function(t){return new(t||_)(e.Y36(i.FLW),e.Y36(e.sBO),e.Y36(v.sK),e.Y36(i.dyD))}),(0,a.Z)(r,"\u0275cmp",e.Xpm({type:_,selectors:[["app-cms-usergroup-selector"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:L,decls:9,vars:10,consts:[[1,"ntk-full-width"],[3,"options"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,o){if(1&t&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"app-progress-spinner",1)(2,"input",2),e.TgZ(3,"mat-autocomplete",3,4),e.NdJ("optionSelected",function(d){return o.onActionSelect(d.option.value)}),e.YNc(5,R,3,3,"mat-option",5),e.ALo(6,"async"),e.qZA(),e.YNc(7,Z,2,0,"mat-icon",6),e.Hsn(8),e.qZA()),2&t){const s=e.MAs(4);e.xp6(1),e.Q6J("options",o.loading),e.xp6(1),e.s9C("placeholder",o.optionPlaceholder),e.Q6J("formControl",o.formControl)("matAutocomplete",s),e.uIk("disabled",!!o.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",o.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(6,8,o.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==o.dataModelSelect?null:o.dataModelSelect.id)}},dependencies:[m.sg,m.O5,c.Fj,c.JJ,c.oH,u.XC,P.ey,u.ZL,h.KE,h.R9,y.Hw,I.Nt,T.O,m.Ov],encapsulation:2})),r})()}}]);