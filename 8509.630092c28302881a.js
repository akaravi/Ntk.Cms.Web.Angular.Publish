"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[8509],{58509:(K,N,c)=>{c.r(N),c.d(N,{CoreUserSupportAccessCmsModule:()=>Lt});var M=c(88692),i=c(20092),m=c(34511),g=c(6087),v=c(52337),E=c(26114),A=c(80418),I=c(8918),h=c(97147),_=c(60656),Y=c(76997),P=c(57154),O=c(8239),Z=c(54536),e=c(64537),b=c(32607),L=c(94032),x=c(56707),B=c(1379),D=c(9638),T=c(88659),J=c(83331),F=c(39665),W=c(18033),q=c(64639),G=c(56599),C=c(63181),y=c(75738),d=c(22379);const r=["vform"];function f(n,a){if(1&n&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function w(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function p(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.dataModel.moduleName="")}),e._uU(1,"close"),e.qZA()}}function z(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function X(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",34)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",35,36),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleName=o)}),e.qZA(),e.YNc(5,p,2,0,"mat-icon",37),e.TgZ(6,"mat-icon",38),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",39)(9,"mat-icon",40),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",41),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,z,5,4,"mat-error",10),e.qZA()}if(2&n){const t=e.MAs(4),s=e.oxw();e.xp6(2),e.Oqu(null==s.fieldsInfo.moduleName?null:s.fieldsInfo.moduleName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=s.fieldsInfo.moduleName&&s.fieldsInfo.moduleName.accessAddField)),e.s9C("placeholder",null==s.fieldsInfo.moduleName?null:s.fieldsInfo.moduleName.fieldTitle),e.Q6J("ngModel",s.dataModel.moduleName),e.xp6(2),e.Q6J("ngIf",s.dataModel.moduleName),e.xp6(7),e.Oqu(null==s.fieldsInfo.moduleName?null:s.fieldsInfo.moduleName.fieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function ee(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.dataModel.moduleEntityName="")}),e._uU(1,"close"),e.qZA()}}function te(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function oe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",34)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",43,44),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleEntityName=o)}),e.qZA(),e.YNc(5,ee,2,0,"mat-icon",37),e.TgZ(6,"mat-icon",38),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",39)(9,"mat-icon",40),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",41),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,te,5,4,"mat-error",10),e.qZA()}if(2&n){const t=e.MAs(4),s=e.oxw();e.xp6(2),e.Oqu(null==s.fieldsInfo.moduleEntityName?null:s.fieldsInfo.moduleEntityName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=s.fieldsInfo.moduleEntityName&&s.fieldsInfo.moduleEntityName.accessAddField)),e.s9C("placeholder",null==s.fieldsInfo.moduleEntityName?null:s.fieldsInfo.moduleEntityName.fieldTitle),e.Q6J("ngModel",s.dataModel.moduleEntityName),e.xp6(2),e.Q6J("ngIf",s.dataModel.moduleEntityName),e.xp6(7),e.Oqu(null==s.fieldsInfo.moduleEntityName?null:s.fieldsInfo.moduleEntityName.fieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function ne(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRow=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRow)("disabled",!(null!=t.fieldsInfo.accessDeleteRow&&t.fieldsInfo.accessDeleteRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessDeleteRow?null:t.fieldsInfo.accessDeleteRow.fieldTitle," ")}}function se(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRow=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRow)("disabled",!(null!=t.fieldsInfo.accessWatchRow&&t.fieldsInfo.accessWatchRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRow?null:t.fieldsInfo.accessWatchRow.fieldTitle," ")}}function le(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRow=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRow)("disabled",!(null!=t.fieldsInfo.accessCountRow&&t.fieldsInfo.accessCountRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRow?null:t.fieldsInfo.accessCountRow.fieldTitle," ")}}function ie(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRow=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRow)("disabled",!(null!=t.fieldsInfo.accessEditRow&&t.fieldsInfo.accessEditRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRow?null:t.fieldsInfo.accessEditRow.fieldTitle," ")}}function ae(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessAddRow=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessAddRow)("disabled",!(null!=t.fieldsInfo.accessAddRow&&t.fieldsInfo.accessAddRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessAddRow?null:t.fieldsInfo.accessAddRow.fieldTitle," ")}}function de(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessExportFile=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessExportFile)("disabled",!(null!=t.fieldsInfo.accessExportFile&&t.fieldsInfo.accessExportFile.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessExportFile?null:t.fieldsInfo.accessExportFile.fieldTitle," ")}}function ce(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherSiteId=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessWatchRowOtherSiteId&&t.fieldsInfo.accessWatchRowOtherSiteId.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRowOtherSiteId?null:t.fieldsInfo.accessWatchRowOtherSiteId.fieldTitle," ")}}function re(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",52),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessWatchRowOtherCreatedBy&&t.fieldsInfo.accessWatchRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRowOtherCreatedBy?null:t.fieldsInfo.accessWatchRowOtherCreatedBy.fieldTitle," ")}}function ue(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",53),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherSiteId=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessCountRowOtherSiteId&&t.fieldsInfo.accessCountRowOtherSiteId.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRowOtherSiteId?null:t.fieldsInfo.accessCountRowOtherSiteId.fieldTitle," ")}}function me(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",54),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessCountRowOtherCreatedBy&&t.fieldsInfo.accessCountRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRowOtherCreatedBy?null:t.fieldsInfo.accessCountRowOtherCreatedBy.fieldTitle," ")}}function pe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherSiteId=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessEditRowOtherSiteId&&t.fieldsInfo.accessEditRowOtherSiteId.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRowOtherSiteId?null:t.fieldsInfo.accessEditRowOtherSiteId.fieldTitle," ")}}function fe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessEditRowOtherCreatedBy&&t.fieldsInfo.accessEditRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRowOtherCreatedBy?null:t.fieldsInfo.accessEditRowOtherCreatedBy.fieldTitle," ")}}function ge(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessDeleteRowOtherCreatedBy&&t.fieldsInfo.accessDeleteRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessDeleteRowOtherCreatedBy?null:t.fieldsInfo.accessDeleteRowOtherCreatedBy.fieldTitle," ")}}function _e(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",59),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",60),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormSubmit())}),e._UZ(6,"i",61),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let he=(()=>{class n{data;dialogRef;coreEnumService;coreUserSupportAccessService;cmsToastrService;publicHelper;cdr;translate;constructor(t,s,o,l,u,S,k,Q){this.data=t,this.dialogRef=s,this.coreEnumService=o,this.coreUserSupportAccessService=l,this.cmsToastrService=u,this.publicHelper=S,this.cdr=k,this.translate=Q,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),t&&(this.dataModel.linkSiteId=+t.linkSiteId||0,this.dataModel.linkUserId=+t.linkUserId||0,this.dataModel.moduleName=t.moduleName,this.dataModel.moduleEntityName=t.moduleEntityName)}formGroup;fieldsInfo=new Map;fileManagerTree;appLanguage="fa";loading=new _.O;dataModelResult=new m.y$4;dataModel=new m.gwb;formInfo=new m.LEF;dataModelEnumRecordStatusResult=new m.y$4;dataModelEnumManageUserAccessUserTypesResult=new m.y$4;fileManagerOpenForm=!1;ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.ADD"),this.getEnumManageUserAccessUserTypes(),this.DataGetAccess(),this.getEnumRecordStatus()}getEnumRecordStatus(){var t=this;return(0,O.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}DataGetAccess(){const t=this.constructor.name+"DataGetAccess";this.loading.Start(t),this.coreUserSupportAccessService.ServiceViewModel().subscribe({next:s=>{s.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),console.log(this.fieldsInfo)):this.cmsToastrService.typeErrorGetAccess(s.errorMessage),this.loading.Stop(t)},error:s=>{this.cmsToastrService.typeErrorGetAccess(s),this.loading.Stop(t)}})}DataAddContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreUserSupportAccessService.ServiceAdd(this.dataModel).subscribe({next:s=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=s,s.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.loading.Stop(t)},error:s=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(s),this.loading.Stop(t)}})}onActionSelectorModuleEntitySelect(t){this.dataModel.moduleName="",this.dataModel.moduleEntityName="",t&&t.id>0&&(this.dataModel.moduleName=t.moduleName,this.dataModel.moduleEntityName=t.moduleEntityName)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(s){return new(s||n)(e.Y36(Z.WI),e.Y36(Z.so),e.Y36(m.FLW),e.Y36(m.fuJ),e.Y36(b.e),e.Y36(L.i),e.Y36(e.sBO),e.Y36(x.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-user-support-access-add"]],viewQuery:function(s,o){if(1&s&&e.Gf(r,5),2&s){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:54,vars:39,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionLoading","optionSelectForce","optionPlaceholder","optionLoadingChange"],[3,"optionDisabled","optionLoading","optionPlaceholder","optionChange","optionLoadingChange"],["class","ntk-full-width mb-1",4,"ngIf"],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessExportFile",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],[1,"ntk-full-width","mb-1"],["matInput","","name","dataModel.moduleName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleName",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["align","start"],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.moduleEntityName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleEntityName",""],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessExportFile",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit","mat-raised-button","",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(s,o){if(1&s&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(u){return o.dataModel.recordStatus=u}),e.YNc(9,f,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,w,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"app-cms-site-selector",11),e.NdJ("optionLoadingChange",function(u){return o.loading=u}),e.qZA(),e.TgZ(15,"app-cms-user-selector",11),e.NdJ("optionLoadingChange",function(u){return o.loading=u}),e.qZA(),e.TgZ(16,"app-core-module-entity-selector",12),e.NdJ("optionChange",function(u){return o.onActionSelectorModuleEntitySelect(u)})("optionLoadingChange",function(u){return o.loading=u}),e.qZA(),e.YNc(17,X,16,8,"mat-form-field",13),e.YNc(18,oe,16,8,"mat-form-field",13),e._UZ(19,"hr"),e.TgZ(20,"div",5),e.YNc(21,ne,2,3,"mat-slide-toggle",14),e.qZA(),e.TgZ(22,"div",5),e.YNc(23,se,2,3,"mat-slide-toggle",15),e.qZA(),e.TgZ(24,"div",5),e.YNc(25,le,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(26,"div",5),e.YNc(27,ie,2,3,"mat-slide-toggle",17),e.qZA(),e.TgZ(28,"div",5),e.YNc(29,ae,2,3,"mat-slide-toggle",18),e.qZA(),e.TgZ(30,"div",5),e.YNc(31,de,2,3,"mat-slide-toggle",19),e.qZA(),e.TgZ(32,"div",5),e.YNc(33,ce,2,3,"mat-slide-toggle",20),e.qZA(),e.TgZ(34,"div",5),e.YNc(35,re,2,3,"mat-slide-toggle",21),e.qZA(),e.TgZ(36,"div",5),e.YNc(37,ue,2,3,"mat-slide-toggle",22),e.qZA(),e.TgZ(38,"div",5),e.YNc(39,me,2,3,"mat-slide-toggle",23),e.qZA(),e.TgZ(40,"div",5),e.YNc(41,pe,2,3,"mat-slide-toggle",24),e.qZA(),e.TgZ(42,"div",5),e.YNc(43,fe,2,3,"mat-slide-toggle",25),e.qZA(),e.TgZ(44,"div",5),e.YNc(45,ge,2,3,"mat-slide-toggle",26),e.qZA()(),e.TgZ(46,"div",27)(47,"div",28)(48,"small",29),e._uU(49),e.qZA(),e.TgZ(50,"small",30),e._uU(51),e.qZA()()(),e.TgZ(52,"div",31),e.YNc(53,_e,9,7,"div",32),e.qZA()()),2&s){const l=e.MAs(8);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,37,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessAddField))("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessAddField))("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessAddField))("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.MODULE")),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.moduleName?null:o.fieldsInfo.moduleName.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.moduleEntityName?null:o.fieldsInfo.moduleEntityName.accessWatchField),e.xp6(3),e.Q6J("ngIf",null==o.fieldsInfo.accessDeleteRow?null:o.fieldsInfo.accessDeleteRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRow?null:o.fieldsInfo.accessWatchRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRow?null:o.fieldsInfo.accessCountRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRow?null:o.fieldsInfo.accessEditRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessAddRow?null:o.fieldsInfo.accessAddRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessExportFile?null:o.fieldsInfo.accessExportFile.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRowOtherSiteId?null:o.fieldsInfo.accessWatchRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRowOtherCreatedBy?null:o.fieldsInfo.accessWatchRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRowOtherSiteId?null:o.fieldsInfo.accessCountRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRowOtherCreatedBy?null:o.fieldsInfo.accessCountRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRowOtherSiteId?null:o.fieldsInfo.accessEditRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRowOtherCreatedBy?null:o.fieldsInfo.accessEditRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessDeleteRowOtherCreatedBy?null:o.fieldsInfo.accessDeleteRowOtherCreatedBy.accessWatchField),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[M.mk,M.sg,M.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.wO,i.nD,i.On,i.F,B.ey,D.lW,T.KE,T.hX,T.bx,T.TO,T.R9,J.Hw,F.Nt,W.gD,q.Rr,G.P,C.g,y.O,d.l,x.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Ce=["vform"];function Se(n,a){if(1&n&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Me(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Ae(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.dataModel.moduleName="")}),e._uU(1,"close"),e.qZA()}}function Ie(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Te(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",34)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",35,36),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleName=o)}),e.qZA(),e.YNc(5,Ae,2,0,"mat-icon",37),e.TgZ(6,"mat-icon",38),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",39)(9,"mat-icon",40),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",41),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,Ie,5,4,"mat-error",10),e.qZA()}if(2&n){const t=e.MAs(4),s=e.oxw();e.xp6(2),e.Oqu(null==s.fieldsInfo.moduleName?null:s.fieldsInfo.moduleName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=s.fieldsInfo.moduleName&&s.fieldsInfo.moduleName.accessEditField)),e.s9C("placeholder",null==s.fieldsInfo.moduleName?null:s.fieldsInfo.moduleName.fieldTitle),e.Q6J("ngModel",s.dataModel.moduleName),e.xp6(2),e.Q6J("ngIf",s.dataModel.moduleName),e.xp6(7),e.Oqu(null==s.fieldsInfo.moduleName?null:s.fieldsInfo.moduleName.fieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Ee(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.dataModel.moduleEntityName="")}),e._uU(1,"close"),e.qZA()}}function we(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Re(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",34)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",43,44),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleEntityName=o)}),e.qZA(),e.YNc(5,Ee,2,0,"mat-icon",37),e.TgZ(6,"mat-icon",38),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",39)(9,"mat-icon",40),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",41),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,we,5,4,"mat-error",10),e.qZA()}if(2&n){const t=e.MAs(4),s=e.oxw();e.xp6(2),e.Oqu(null==s.fieldsInfo.moduleEntityName?null:s.fieldsInfo.moduleEntityName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=s.fieldsInfo.moduleEntityName&&s.fieldsInfo.moduleEntityName.accessEditField)),e.s9C("placeholder",null==s.fieldsInfo.moduleEntityName?null:s.fieldsInfo.moduleEntityName.fieldTitle),e.Q6J("ngModel",s.dataModel.moduleEntityName),e.xp6(2),e.Q6J("ngIf",s.dataModel.moduleEntityName),e.xp6(7),e.Oqu(null==s.fieldsInfo.moduleEntityName?null:s.fieldsInfo.moduleEntityName.fieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Ze(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRow=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRow)("disabled",!(null!=t.fieldsInfo.accessDeleteRow&&t.fieldsInfo.accessDeleteRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessDeleteRow?null:t.fieldsInfo.accessDeleteRow.fieldTitle," ")}}function xe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRow=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRow)("disabled",!(null!=t.fieldsInfo.accessWatchRow&&t.fieldsInfo.accessWatchRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRow?null:t.fieldsInfo.accessWatchRow.fieldTitle," ")}}function Ue(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRow=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRow)("disabled",!(null!=t.fieldsInfo.accessCountRow&&t.fieldsInfo.accessCountRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRow?null:t.fieldsInfo.accessCountRow.fieldTitle," ")}}function be(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRow=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRow)("disabled",!(null!=t.fieldsInfo.accessEditRow&&t.fieldsInfo.accessEditRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRow?null:t.fieldsInfo.accessEditRow.fieldTitle," ")}}function ye(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessAddRow=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessAddRow)("disabled",!(null!=t.fieldsInfo.accessAddRow&&t.fieldsInfo.accessAddRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessAddRow?null:t.fieldsInfo.accessAddRow.fieldTitle," ")}}function Ne(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessExportFile=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessExportFile)("disabled",!(null!=t.fieldsInfo.accessExportFile&&t.fieldsInfo.accessExportFile.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessExportFile?null:t.fieldsInfo.accessExportFile.fieldTitle," ")}}function Oe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherSiteId=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessWatchRowOtherSiteId&&t.fieldsInfo.accessWatchRowOtherSiteId.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRowOtherSiteId?null:t.fieldsInfo.accessWatchRowOtherSiteId.fieldTitle," ")}}function ve(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",52),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessWatchRowOtherCreatedBy&&t.fieldsInfo.accessWatchRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRowOtherCreatedBy?null:t.fieldsInfo.accessWatchRowOtherCreatedBy.fieldTitle," ")}}function Le(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",53),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherSiteId=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessCountRowOtherSiteId&&t.fieldsInfo.accessCountRowOtherSiteId.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRowOtherSiteId?null:t.fieldsInfo.accessCountRowOtherSiteId.fieldTitle," ")}}function De(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",54),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessCountRowOtherCreatedBy&&t.fieldsInfo.accessCountRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRowOtherCreatedBy?null:t.fieldsInfo.accessCountRowOtherCreatedBy.fieldTitle," ")}}function Je(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherSiteId=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessEditRowOtherSiteId&&t.fieldsInfo.accessEditRowOtherSiteId.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRowOtherSiteId?null:t.fieldsInfo.accessEditRowOtherSiteId.fieldTitle," ")}}function Fe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessEditRowOtherCreatedBy&&t.fieldsInfo.accessEditRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRowOtherCreatedBy?null:t.fieldsInfo.accessEditRowOtherCreatedBy.fieldTitle," ")}}function qe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessDeleteRowOtherCreatedBy&&t.fieldsInfo.accessDeleteRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessDeleteRowOtherCreatedBy?null:t.fieldsInfo.accessDeleteRowOtherCreatedBy.fieldTitle," ")}}function ke(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",59),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",60),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormSubmit())}),e._UZ(6,"i",61),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Qe=(()=>{class n{data;dialogRef;coreEnumService;coreUserSupportAccessService;cmsToastrService;publicHelper;cdr;translate;requestLinkSiteId=0;requestLinkUserId=0;requestModuleName="";requestModuleEntityName="";constructor(t,s,o,l,u,S,k,Q){this.data=t,this.dialogRef=s,this.coreEnumService=o,this.coreUserSupportAccessService=l,this.cmsToastrService=u,this.publicHelper=S,this.cdr=k,this.translate=Q,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestLinkSiteId=+t.linkSiteId||0,this.requestLinkUserId=+t.linkUserId||0,this.requestModuleName=t.moduleName,this.requestModuleEntityName=t.moduleEntityName),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;fieldsInfo=new Map;fileManagerTree;appLanguage="fa";loading=new _.O;dataModelResult=new m.ODe;dataModel=new m.gwb;formInfo=new m.LEF;dataModelEnumRecordStatusResult=new m.y$4;dataModelEnumManageUserAccessUserTypesResult=new m.y$4;fileManagerOpenForm=!1;ngOnInit(){if(!(this.requestLinkSiteId>0&&this.requestLinkUserId>0&&this.requestModuleName&&this.requestModuleName.length>0&&this.requestModuleEntityName&&this.requestModuleEntityName.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.getEnumManageUserAccessUserTypes(),this.getEnumRecordStatus()}getEnumRecordStatus(){var t=this;return(0,O.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}DataGetOneContent(){if(this.requestLinkSiteId<=0||this.requestLinkUserId<=0||!this.requestModuleName||0==this.requestModuleName.length||!this.requestModuleEntityName||this.requestModuleEntityName.length<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t);const s=new m.Hay;let o=new m.AO3;o.propertyName="LinkSiteId",o.value=this.requestLinkSiteId,s.filters.push(o),o=new m.AO3,o.propertyName="LinkUserId",o.value=this.requestLinkUserId,s.filters.push(o),o=new m.AO3,o.propertyName="ModuleName",o.value=this.requestModuleName,s.filters.push(o),o=new m.AO3,o.propertyName="ModuleEntityName",o.value=this.requestModuleEntityName,s.filters.push(o),this.coreUserSupportAccessService.setAccessLoad(),this.coreUserSupportAccessService.setAccessDataType(m.dR.Editor),this.coreUserSupportAccessService.ServiceGetAll(s).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?l.listItems&&l.listItems.length>0?(this.dataModel=l.listItems[0],this.formInfo.formAlert=""):this.cmsToastrService.typeError(this.translate.instant("MESSAGE.Module_not_found_for_editing")):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=l.errorMessage,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.sending_information_to_the_server")),this.coreUserSupportAccessService.ServiceEdit(this.dataModel).subscribe({next:s=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=s,s.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.loading.Stop(t)},error:s=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(s),this.loading.Stop(t)}})}onActionSelectorModuleEntitySelect(t){this.dataModel.moduleName="",this.dataModel.moduleEntityName="",t&&t.id>0&&(this.dataModel.moduleName=t.moduleName,this.dataModel.moduleEntityName=t.moduleEntityName)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(s){return new(s||n)(e.Y36(Z.WI),e.Y36(Z.so),e.Y36(m.FLW),e.Y36(m.fuJ),e.Y36(b.e),e.Y36(L.i),e.Y36(e.sBO),e.Y36(x.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-user-support-access-edit"]],viewQuery:function(s,o){if(1&s&&e.Gf(Ce,5),2&s){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:53,vars:39,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionLoading","optionSelectForce","optionPlaceholder","optionLoadingChange"],[3,"optionDisabled","optionLoading","optionPlaceholder","optionChange","optionLoadingChange"],["class","ntk-full-width mb-1",4,"ngIf"],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessExportFile",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],[1,"ntk-full-width","mb-1"],["matInput","","name","dataModel.moduleName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleName",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["align","start"],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.moduleEntityName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleEntityName",""],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessExportFile",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit","mat-raised-button","",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(s,o){if(1&s&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(u){return o.dataModel.recordStatus=u}),e.YNc(9,Se,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Me,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"app-cms-site-selector",11),e.NdJ("optionLoadingChange",function(u){return o.loading=u}),e.qZA(),e.TgZ(15,"app-cms-user-selector",11),e.NdJ("optionLoadingChange",function(u){return o.loading=u}),e.qZA(),e.TgZ(16,"app-core-module-entity-selector",12),e.NdJ("optionChange",function(u){return o.onActionSelectorModuleEntitySelect(u)})("optionLoadingChange",function(u){return o.loading=u}),e.qZA(),e.YNc(17,Te,16,8,"mat-form-field",13),e.YNc(18,Re,16,8,"mat-form-field",13),e.TgZ(19,"div",5),e.YNc(20,Ze,2,3,"mat-slide-toggle",14),e.qZA(),e.TgZ(21,"div",5),e.YNc(22,xe,2,3,"mat-slide-toggle",15),e.qZA(),e.TgZ(23,"div",5),e.YNc(24,Ue,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(25,"div",5),e.YNc(26,be,2,3,"mat-slide-toggle",17),e.qZA(),e.TgZ(27,"div",5),e.YNc(28,ye,2,3,"mat-slide-toggle",18),e.qZA(),e.TgZ(29,"div",5),e.YNc(30,Ne,2,3,"mat-slide-toggle",19),e.qZA(),e.TgZ(31,"div",5),e.YNc(32,Oe,2,3,"mat-slide-toggle",20),e.qZA(),e.TgZ(33,"div",5),e.YNc(34,ve,2,3,"mat-slide-toggle",21),e.qZA(),e.TgZ(35,"div",5),e.YNc(36,Le,2,3,"mat-slide-toggle",22),e.qZA(),e.TgZ(37,"div",5),e.YNc(38,De,2,3,"mat-slide-toggle",23),e.qZA(),e.TgZ(39,"div",5),e.YNc(40,Je,2,3,"mat-slide-toggle",24),e.qZA(),e.TgZ(41,"div",5),e.YNc(42,Fe,2,3,"mat-slide-toggle",25),e.qZA(),e.TgZ(43,"div",5),e.YNc(44,qe,2,3,"mat-slide-toggle",26),e.qZA()(),e.TgZ(45,"div",27)(46,"div",28)(47,"small",29),e._uU(48),e.qZA(),e.TgZ(49,"small",30),e._uU(50),e.qZA()()(),e.TgZ(51,"div",31),e.YNc(52,ke,9,7,"div",32),e.qZA()()),2&s){const l=e.MAs(8);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,37,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessEditField))("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessEditField))("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessEditField))("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.MODULE")),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.moduleName?null:o.fieldsInfo.moduleName.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.moduleEntityName?null:o.fieldsInfo.moduleEntityName.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessDeleteRow?null:o.fieldsInfo.accessDeleteRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRow?null:o.fieldsInfo.accessWatchRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRow?null:o.fieldsInfo.accessCountRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRow?null:o.fieldsInfo.accessEditRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessAddRow?null:o.fieldsInfo.accessAddRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessExportFile?null:o.fieldsInfo.accessExportFile.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRowOtherSiteId?null:o.fieldsInfo.accessWatchRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRowOtherCreatedBy?null:o.fieldsInfo.accessWatchRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRowOtherSiteId?null:o.fieldsInfo.accessCountRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRowOtherCreatedBy?null:o.fieldsInfo.accessCountRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRowOtherSiteId?null:o.fieldsInfo.accessEditRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRowOtherCreatedBy?null:o.fieldsInfo.accessEditRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessDeleteRowOtherCreatedBy?null:o.fieldsInfo.accessDeleteRowOtherCreatedBy.accessWatchField),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[M.mk,M.sg,M.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.wO,i.nD,i.On,i.F,B.ey,D.lW,T.KE,T.hX,T.bx,T.TO,T.R9,J.Hw,F.Nt,W.gD,q.Rr,G.P,C.g,y.O,d.l,x.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();var U=c(92340),j=c(83914),Be=c(50727),H=c(83319),We=c(53538),$=c(56558),Ge=c(43014),Ye=c(10626),Pe=c(37980),He=c(13673),Ke=c(93817),je=c(39084),$e=c(86639),Ve=c(25897),ze=c(91101);function Xe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonNewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function et(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function tt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function ot(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function nt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const st=function(n){return{display:n}};function lt(n,a){if(1&n&&e._UZ(0,"select",45),2&n){const t=e.oxw().$implicit,s=e.oxw();e.Q6J("contentService",s.contentService)("row",t)("ngStyle",e.VKq(3,st,t.linkSiteId===s.tableRowSelected.linkSiteId&&t.linkUserId===s.tableRowSelected.linkUserId?"":"none"))}}function it(n,a){if(1&n&&(e.TgZ(0,"mat-cell",43),e.ALo(1,"statusCellClass"),e._UZ(2,"i",43),e.ALo(3,"statusIconClass"),e.YNc(4,lt,1,5,"select",44),e.qZA()),2&n){const t=a.$implicit,s=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",s.dataModelResult.access.accessEditRow)}}function at(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function dt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function ct(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function rt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function ut(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function mt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleName," ")}}function pt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function ft(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleEntityName," ")}}function gt(n,a){1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.Access_Add_Row")," "))}function _t(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessAddRow))}}function ht(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRow?null:t.fieldsInfo.accessWatchRow.fieldTitle," ")}}function Ct(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessWatchRow))}}function St(n,a){1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.Access_Edit_Row")," "))}function Mt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessEditRow))}}function At(n,a){1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.Access_Delete_Row")," "))}function It(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessDeleteRow))}}function Tt(n,a){1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.Access_Count_Row")," "))}function Et(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessCountRow))}}function wt(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Rt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Zt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function xt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",46)(1,"button",47)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,48),e.YNc(6,Rt,6,3,"button",49),e.YNc(7,Zt,6,3,"button",49),e.TgZ(8,"button",50),e.NdJ("click",function(){const l=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.onActionbuttonUserList(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"person"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),s=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",s.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",s.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,4,"ACTION.USERS"))}}function Ut(n,a){1&n&&e._UZ(0,"mat-header-row")}const bt=function(n){return{background:n}};function yt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",51),e.NdJ("click",function(){const l=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const t=a.$implicit,s=e.oxw();e.Q6J("ngStyle",e.VKq(1,bt,t.linkSiteId===s.tableRowSelected.linkSiteId&&t.linkUserId===s.tableRowSelected.linkUserId?"#d3d3da":""))}}const Nt=function(){return[5,10,20,100]};let V=(()=>{class n{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;router;tokenHelper;activatedRoute;cdr;translate;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestModuleName="";requestModuleEntityName="";constructor(t,s,o,l,u,S,k,Q,Dt,Jt){if(this.contentService=t,this.publicHelper=s,this.cmsToastrService=o,this.cmsConfirmationDialogService=l,this.router=u,this.tokenHelper=S,this.activatedRoute=k,this.cdr=Q,this.translate=Dt,this.dialog=Jt,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestModuleName=this.activatedRoute.snapshot.paramMap.get("ModuleName"),this.requestModuleEntityName=this.activatedRoute.snapshot.paramMap.get("ModuleEntityName"),this.optionsSearch.parentMethods={onSubmit:R=>this.onSubmitOptionsSearch(R)},this.filteModelContent.sortColumn="LinkSiteId",this.filteModelContent.sortType=m.oYR.Descending,this.requestLinkSiteId>0){const R=new m.AO3;R.propertyName="LinkSiteId",R.value=this.requestLinkSiteId,this.filteModelContent.filters.push(R)}if(this.requestLinkUserId>0){const R=new m.AO3;R.propertyName="LinkUserId",R.value=this.requestLinkUserId,this.filteModelContent.filters.push(R)}}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new m.Hay;dataModelResult=new m.y$4;optionsSearch=new I.dj;optionsStatist=new h.TV;tokenInfo=new m.OdC;loading=new _.O;tableRowsSelected=[];tableRowSelected=new m.gwb;tableSource=new A.by;fieldsInfo=new Map;tabledisplayedColumns=[];tabledisplayedColumnsSource=["RecordStatus","LinkUserId","LinkSiteId","ModuleName","ModuleEntityName","AccessAddRow","AccessWatchRow","AccessEditRow","AccessDeleteRow","AccessCountRow","Action"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new m.gwb);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const s=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(s).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=m.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=m.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=m.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(he,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:U.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.N.cmsViewConfig.exitAnimationDuration,data:{linkSiteId:this.requestLinkSiteId,linkUserId:this.requestLinkUserId,moduleName:this.requestModuleName,moduleEntityName:this.requestModuleEntityName}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.linkSiteId&&0!==t.linkSiteId&&t.linkUserId&&0!==t.linkUserId?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Qe,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:U.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.N.cmsViewConfig.exitAnimationDuration,data:{linkSiteId:this.tableRowSelected.linkSiteId,linkUserId:this.tableRowSelected.linkUserId,moduleName:this.tableRowSelected.moduleName,moduleEntityName:this.tableRowSelected.moduleEntityName}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.linkSiteId||0===t.linkSiteId||!t.linkUserId||0===t.linkUserId){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const s=this.translate.instant("MESSAGE.Please_Confirm"),o=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.linkSiteId+" ) ";this.cmsConfirmationDialogService.confirm(s,o).then(l=>{if(l){const u=this.constructor.name+"main";this.loading.Start(u),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:S=>{S.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(u)},error:S=>{this.cmsToastrService.typeError(S),this.loading.Stop(u)}})}}).catch(()=>{})}onActionbuttonUserList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),this.router.navigate(["/core/site/userlist/LinkUserSupportAccessId/",this.tableRowSelected.id]);else{const s=this.translate.instant("MESSAGE.no_row_selected_to_display");this.cmsToastrService.typeErrorSelected(s)}}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const s=this.constructor.name+".ServiceStatist";this.loading.Start(s,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),u.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.loading.Stop(s)},error:u=>{this.cmsToastrService.typeError(u),this.loading.Stop(s)}});const o=JSON.parse(JSON.stringify(this.filteModelContent)),l=new m.AO3;l.propertyName="RecordStatus",l.value=m.Anr.Available,o.filters.push(l),this.contentService.ServiceGetCount(o).subscribe({next:u=>{u.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),u.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.loading.Stop(s)},error:u=>{this.cmsToastrService.typeError(u),this.loading.Stop(s)}})}onActionbuttonExport(){this.dialog.open(P.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:U.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Y.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:U.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}static \u0275fac=function(s){return new(s||n)(e.Y36(m.fuJ),e.Y36(L.i),e.Y36(b.e),e.Y36(j.s),e.Y36(E.F0),e.Y36(Be.v),e.Y36(E.gz),e.Y36(e.sBO),e.Y36(x.sK),e.Y36(Z.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-user-support-access-list"]],decls:69,vars:29,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-primary","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","RecordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],[4,"matCellDef"],["matColumnDef","LinkUserId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","AccessAddRow"],["matColumnDef","AccessWatchRow"],["matColumnDef","AccessEditRow"],["matColumnDef","AccessDeleteRow"],["matColumnDef","AccessCountRow"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-primary",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(s,o){if(1&s){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,Xe,3,3,"button",4),e.YNc(6,et,3,3,"button",5),e.YNc(7,tt,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(S){return o.optionsSearch.data.show=S}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,ot,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.BQk(),e.ynx(25,13),e.TgZ(26,"app-cms-search-list",14),e.NdJ("optionsChange",function(S){return o.optionsSearch=S}),e.qZA(),e.TgZ(27,"app-cms-statist-list",14),e.NdJ("optionsChange",function(S){return o.optionsStatist=S}),e.qZA(),e.BQk(),e.ynx(28,15),e.TgZ(29,"mat-table",16,17),e.NdJ("matSortChange",function(){e.CHM(l);const S=e.MAs(30);return e.KtG(o.onTableSortData(S))}),e.ynx(31,18),e.YNc(32,nt,2,1,"mat-header-cell",19),e.YNc(33,it,5,7,"mat-cell",20),e.BQk(),e.ynx(34,21),e.YNc(35,at,2,1,"mat-header-cell",19),e.YNc(36,dt,4,5,"mat-cell",22),e.BQk(),e.ynx(37,23),e.YNc(38,ct,2,1,"mat-header-cell",19),e.YNc(39,rt,4,5,"mat-cell",22),e.BQk(),e.ynx(40,24),e.YNc(41,ut,2,1,"mat-header-cell",19),e.YNc(42,mt,2,1,"mat-cell",22),e.BQk(),e.ynx(43,25),e.YNc(44,pt,2,1,"mat-header-cell",19),e.YNc(45,ft,2,1,"mat-cell",22),e.BQk(),e.ynx(46,26),e.YNc(47,gt,3,3,"mat-header-cell",19),e.YNc(48,_t,3,3,"mat-cell",22),e.BQk(),e.ynx(49,27),e.YNc(50,ht,2,1,"mat-header-cell",19),e.YNc(51,Ct,3,3,"mat-cell",22),e.BQk(),e.ynx(52,28),e.YNc(53,St,3,3,"mat-header-cell",19),e.YNc(54,Mt,3,3,"mat-cell",22),e.BQk(),e.ynx(55,29),e.YNc(56,At,3,3,"mat-header-cell",19),e.YNc(57,It,3,3,"mat-cell",22),e.BQk(),e.ynx(58,30),e.YNc(59,Tt,3,3,"mat-header-cell",19),e.YNc(60,Et,3,3,"mat-cell",22),e.BQk(),e.ynx(61,31),e.YNc(62,wt,3,3,"mat-header-cell",32),e.YNc(63,xt,14,6,"mat-cell",33),e.BQk(),e.YNc(64,Ut,1,0,"mat-header-row",34),e.YNc(65,yt,1,3,"mat-row",35),e.qZA(),e.BQk(),e.ynx(66,36),e.TgZ(67,"mat-paginator",37,38),e.NdJ("page",function(S){return o.onTablePageingData(S)}),e.qZA(),e.BQk(),e.qZA()}2&s&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&o.tableRowSelected.linkSiteId>0&&o.tableRowSelected.linkUserId>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&o.tableRowSelected.linkSiteId>0&&o.tableRowSelected.linkUserId>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,20,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,22,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,24,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,26,"ACTION.RELOAD")),e.xp6(4),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(35),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(28,Nt)))},dependencies:[M.mk,M.O5,M.PC,i.JJ,i.On,D.RK,J.Hw,F.Nt,H.VK,H.OP,H.p6,We.NW,q.Rr,$.YE,$.nU,A.BZ,A.fO,A.as,A.w1,A.Dz,A.nj,A.ge,A.ev,A.XQ,A.Gk,Ge.y,Ye.q,Pe.Z,He.G,M.Ov,x.X$,Ke.J,je.Y,$e.G,Ve.Y,ze.r],encapsulation:2})}return n})();const Ot=[{path:"",children:[{path:"",component:V},{path:"list/LinkSiteId/:LinkSiteId/LinkUserId/:LinkUserId",component:V}]}];let vt=(()=>{class n{static \u0275fac=function(s){return new(s||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[E.Bz.forChild(Ot),E.Bz]})}return n})(),Lt=(()=>{class n{static \u0275fac=function(s){return new(s||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({providers:[m.fuJ,j.s,m.EAm],imports:[M.ez,i.u5,vt,i.UX.withConfig({warnOnNgModelWithFormControl:"never"}),g.m.forRoot(),v.CoreModuleEntityModule]})}return n})()},39084:(K,N,c)=>{c.d(N,{Y:()=>v});var M=c(87241),i=c(27969),m=c(64537),g=c(34511);let v=(()=>{class E{service;constructor(I){this.service=I}transform(I){return!I||I<=0?new M.y:this.service.ServiceGetOneById(I,1e6).pipe((0,i.U)(h=>{var _="";return h.isSuccess&&(h.item.title&&h.item.title.length>0&&(_=h.item.title),h.item.id&&h.item.id>0&&(_.length>0&&(_+=" | "),_+=h.item.id),h.item.domain&&h.item.domain.length>0&&h.item.subDomain&&h.item.subDomain.length>0?(_.length>0&&(_+=" | "),_=_+h.item.subDomain+"."+h.item.domain):h.item.domain&&h.item.domain.length>0&&(_.length>0&&(_+=" | "),_+=h.item.domain)),0===_.length&&(_=I.toString()),_},h=>I.toString()))}static \u0275fac=function(h){return new(h||E)(m.Y36(g._0e,16))};static \u0275pipe=m.Yjl({name:"cmssiteinfo",type:E,pure:!0})}return E})()},63181:(K,N,c)=>{c.d(N,{g:()=>G});var M=c(8239),i=c(64537),m=c(20092),g=c(34511),v=c(57445),E=c(51927),A=c(83151),I=c(42147),h=c(61528),_=c(27969),Y=c(60656),P=c(56707),O=c(88692),Z=c(61637),e=c(1379),b=c(88659),L=c(83331),x=c(39665),B=c(75738),D=c(81418);function T(C,y){if(1&C&&(i._UZ(0,"img",9),i.ALo(1,"cmsthumbnail")),2&C){const d=i.oxw();i.s9C("src",i.lcZ(1,1,null==d.dataModelSelect?null:d.dataModelSelect.linkMainImageIdSrc),i.LSH)}}function J(C,y){if(1&C&&(i._UZ(0,"img",9),i.ALo(1,"cmsthumbnail")),2&C){const d=i.oxw().$implicit;i.s9C("src",i.lcZ(1,1,d.linkMainImageIdSrc),i.LSH)}}function F(C,y){if(1&C&&(i.TgZ(0,"mat-option",10),i.YNc(1,J,2,3,"img",11),i.TgZ(2,"span"),i._uU(3),i.qZA()()),2&C){const d=y.$implicit,r=i.oxw();i.Q6J("value",d)("disabled",r.optionDisabled),i.xp6(1),i.Q6J("ngIf",d.linkMainImageIdSrc),i.xp6(2),i.Oqu(r.displayOption(d))}}function W(C,y){if(1&C){const d=i.EpF();i.TgZ(0,"mat-icon",12),i.NdJ("click",function(){i.CHM(d);const f=i.oxw();return i.KtG(f.onActionSelectClear())}),i._uU(1,"close"),i.qZA()}}const q=["*"];let G=(()=>{class C{coreEnumService;cdr;translate;categoryService;static nextId=0;id=++C.nextId;constructor(d,r,f,w){this.coreEnumService=d,this.cdr=r,this.translate=f,this.categoryService=w,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}dataModelResult=new g.y$4;dataModelSelect=new g.NCo;loading=new Y.O;get optionLoading(){return this.loading}set optionLoading(d){this.loading=d}formControl=new m.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionChange=new i.vpe;optionReload=()=>this.onActionReload();set optionSelectForce(d){this.onActionSelectForce(d)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,E.O)(""),(0,A.b)(1500),(0,I.x)(),(0,h.w)(d=>this.DataGetAll("string"==typeof d||"number"==typeof d?d:"")))}displayFn(d){let r="";return d&&(d.username&&d.username.length>0&&(r=r+" "+d.username),d.name&&d.name.length>0&&(r=r+" "+d.name),d.lastName&&d.lastName.length>0&&(r=r+" "+d.lastName),r=r+"#:"+d.id),r}displayOption(d){let r="";return d&&(d.username&&d.username.length>0&&(r=r+" "+d.username),d.name&&d.name.length>0&&(r=r+" "+d.name),d.lastName&&d.lastName.length>0&&(r=r+" "+d.lastName),r=r+"#:"+d.id),r}DataGetAll(d){var r=this;return(0,M.Z)(function*(){const f=new g.Hay;if(f.rowPerPage=20,f.accessLoad=!0,d&&d.length>0){let p=new g.AO3;p=new g.AO3,p.propertyName="username",p.value=d,p.searchType=g.J6G.Contains,p.clauseType=g.ppe.Or,f.filters.push(p),p=new g.AO3,p.propertyName="name",p.value=d,p.searchType=g.J6G.Contains,p.clauseType=g.ppe.Or,f.filters.push(p),p=new g.AO3,p.propertyName="email",p.value=d,p.searchType=g.J6G.Contains,p.clauseType=g.ppe.Or,f.filters.push(p),p=new g.AO3,p.propertyName="lastname",p.value=d,p.searchType=g.J6G.Contains,p.clauseType=g.ppe.Or,f.filters.push(p),d&&"number"==typeof+d&&+d>0&&(p=new g.AO3,p.propertyName="Id",p.value=d,p.searchType=g.J6G.Equal,p.clauseType=g.ppe.Or,f.filters.push(p))}const w=r.constructor.name+"main";return r.loading.Start(w),yield(0,v.z)(r.categoryService.ServiceGetAll(f)).then(p=>(r.dataModelResult=p,r.optionSelectFirstItem&&(!r.dataModelSelect||!r.dataModelSelect.id||r.dataModelSelect.id<=0)&&r.dataModelResult.listItems.length>0&&(r.optionSelectFirstItem=!1,setTimeout(()=>{r.formControl.setValue(r.dataModelResult.listItems[0])},1e3),r.onActionSelect(r.dataModelResult.listItems[0])),r.loading.Stop(w),p.listItems))})()}onActionSelect(d){this.optionDisabled||(this.dataModelSelect=d,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(d){return this.filteredOptions.pipe((0,_.U)(r=>(r.find(f=>f.id===d.id)||r.push(d),r)))}onActionSelectForce(d){if("number"==typeof d&&d>0){if(this.dataModelSelect&&this.dataModelSelect.id===d)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(r=>r.id===d)){const r=this.dataModelResult.listItems.find(f=>f.id===d);return this.dataModelSelect=r,void this.formControl.setValue(r)}this.categoryService.ServiceGetOneById(d).subscribe(r=>{r.isSuccess&&(this.filteredOptions=this.push(r.item),this.dataModelSelect=r.item,this.formControl.setValue(r.item),this.optionChange.emit(r.item))})}else{if(typeof d==typeof g.NCo)return this.filteredOptions=this.push(d),this.dataModelSelect=d,void this.formControl.setValue(d);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new g.NCo,this.loadOptions()}static \u0275fac=function(r){return new(r||C)(i.Y36(g.FLW),i.Y36(i.sBO),i.Y36(P.sK),i.Y36(g.k$Z))};static \u0275cmp=i.Xpm({type:C,selectors:[["app-cms-user-selector"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:q,decls:12,vars:11,consts:[[1,"ntk-full-width"],[3,"options"],["matPrefix",""],["class","ntk-hover-zoom","style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(r,f){if(1&r&&(i.F$t(),i.TgZ(0,"mat-form-field",0),i._UZ(1,"app-progress-spinner",1),i.TgZ(2,"span",2),i.YNc(3,T,2,3,"img",3),i._uU(4," \xa0"),i.qZA(),i._UZ(5,"input",4),i.TgZ(6,"mat-autocomplete",5,6),i.NdJ("optionSelected",function(p){return f.onActionSelect(p.option.value)}),i.YNc(8,F,4,4,"mat-option",7),i.ALo(9,"async"),i.qZA(),i.YNc(10,W,2,0,"mat-icon",8),i.Hsn(11),i.qZA()),2&r){const w=i.MAs(7);i.xp6(1),i.Q6J("options",f.loading),i.xp6(2),i.Q6J("ngIf",f.dataModelSelect&&(null==f.dataModelSelect?null:f.dataModelSelect.linkMainImageIdSrc)),i.xp6(2),i.s9C("placeholder",f.optionPlaceholder),i.Q6J("formControl",f.formControl)("matAutocomplete",w),i.uIk("disabled",!!f.optionDisabled||null),i.xp6(1),i.Q6J("displayWith",f.displayFn),i.xp6(2),i.Q6J("ngForOf",i.lcZ(9,9,f.filteredOptions)),i.xp6(2),i.Q6J("ngIf",null==f.dataModelSelect?null:f.dataModelSelect.id)}},dependencies:[O.sg,O.O5,m.Fj,m.JJ,m.oH,Z.XC,e.ey,Z.ZL,b.KE,b.qo,b.R9,L.Hw,x.Nt,B.O,O.Ov,D.v],encapsulation:2})}return C})()}}]);