"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[7086],{59027:(Z,T,s)=>{s.d(T,{Q:()=>h});var t=s(64537),e=s(78435);let h=(()=>{class r{persianCalendarService;constructor(m){this.persianCalendarService=m}transform(m){if("string"==typeof m){if(!m||0===m.length)return"";const C=new Date(m);return C?this.persianCalendarService.PersianCalendar(C):""}if(typeof m==typeof Date)return m?this.persianCalendarService.PersianCalendar(m):""}static \u0275fac=function(C){return new(C||r)(t.Y36(e.T,16))};static \u0275pipe=t.Yjl({name:"persianDate",type:r,pure:!0});static \u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})()},50738:(Z,T,s)=>{s.d(T,{Y:()=>I});var t=s(64537),e=s(88692),h=s(46997);function r(p,E){if(1&p&&(t.ynx(0),t._UZ(1,"span",4),t.BQk()),2&p){const g=t.oxw(2);t.xp6(1),t.Q6J("inlineSVG",g.svg)}}function x(p,E){if(1&p&&(t.ynx(0),t._UZ(1,"i",5),t.BQk()),2&p){const g=t.oxw(2);t.xp6(1),t.Q6J("ngClass",g.icon)}}function m(p,E){if(1&p&&(t.ynx(0),t.TgZ(1,"div",3),t.YNc(2,r,2,1,"ng-container",1),t.YNc(3,x,2,1,"ng-container",1),t.qZA(),t.BQk()),2&p){const g=t.oxw();t.xp6(2),t.Q6J("ngIf",g.svg),t.xp6(1),t.Q6J("ngIf",g.icon)}}const C=["*"];let I=(()=>{class p{static nextId=0;id=++p.nextId;classes;icon;svg;constructor(){}ngOnInit(){}static \u0275fac=function(M){return new(M||p)};static \u0275cmp=t.Xpm({type:p,selectors:[["app-cms-html-notice"]],inputs:{classes:"classes",icon:"icon",svg:"svg"},ngContentSelectors:C,decls:4,vars:2,consts:[["role","alert",1,"alert","alert-custom","alert-white","alert-shadow","gutter-b",3,"ngClass"],[4,"ngIf"],[1,"alert-text"],[1,"alert-icon","alert-icon-top"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[3,"ngClass"]],template:function(M,v){1&M&&(t.F$t(),t.TgZ(0,"div",0),t.YNc(1,m,4,2,"ng-container",1),t.TgZ(2,"div",2),t.Hsn(3),t.qZA()()),2&M&&(t.Q6J("ngClass",v.classes),t.xp6(1),t.Q6J("ngIf",v.icon||v.svg))},dependencies:[e.mk,e.O5,h.d$],encapsulation:2})}return p})()},42370:(Z,T,s)=>{s.d(T,{v:()=>L});var t=s(64537),e=s(88692),h=s(56707);let r=(()=>{class i{transform(a,c){if(!a)return[];let f=Object.keys(a);return f=f.filter(O=>O&&O.length>0&&O.toLowerCase().indexOf("antiinjection")<0),c&&c.size>0&&(f=f.filter(O=>O&&O.length>0&&c.has(O))),f}static \u0275fac=function(c){return new(c||i)};static \u0275pipe=t.Yjl({name:"keys",type:i,pure:!0})}return i})();function x(i,_){1&i&&(t.TgZ(0,"div",4)(1,"div",5),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",5),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"div",6),t.qZA()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"TITLE.parameter")),t.xp6(3),t.Oqu(t.lcZ(6,4,"TITLE.Values")))}function m(i,_){if(1&i&&(t.TgZ(0,"div",7)(1,"div",5),t._uU(2),t.qZA(),t.TgZ(3,"div",5),t._uU(4),t.qZA(),t._UZ(5,"div",8),t.qZA()),2&i){const a=_.$implicit,c=t.oxw(2);t.xp6(2),t.Oqu(c.optionFields&&c.optionFields.size>0?c.optionFields.get(a):a),t.xp6(2),t.Oqu(c.dataModel[a])}}function C(i,_){if(1&i&&(t.TgZ(0,"div",1),t.YNc(1,x,8,6,"div",2),t.YNc(2,m,6,2,"div",3),t.ALo(3,"keys"),t.qZA()),2&i){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.optionViewHead),t.xp6(1),t.Q6J("ngForOf",t.xi3(3,2,a.dataModel,a.optionFields))}}function I(i,_){if(1&i&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&i){const a=_.$implicit,c=t.oxw(3);t.xp6(1),t.Oqu(c.optionFields&&c.optionFields.size>0?c.optionFields.get(a):a)}}function p(i,_){if(1&i&&(t.TgZ(0,"div",4),t.YNc(1,I,2,1,"div",9),t.ALo(2,"keys"),t._UZ(3,"div",6),t.qZA()),2&i){const a=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,a.dataModel[0],a.optionFields))}}function E(i,_){if(1&i&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&i){const a=_.$implicit,c=t.oxw().$implicit;t.xp6(1),t.Oqu(c[a])}}function g(i,_){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,E,2,1,"div",9),t.ALo(2,"keys"),t._UZ(3,"div",8),t.qZA()),2&i){const a=_.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,a,c.optionFields))}}function M(i,_){if(1&i&&(t.TgZ(0,"div",1),t.YNc(1,p,4,4,"div",2),t.YNc(2,g,4,4,"div",3),t.qZA()),2&i){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.optionViewHead),t.xp6(1),t.Q6J("ngForOf",a.dataModel)}}function v(i,_){if(1&i&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&i){const a=_.$implicit,c=t.oxw(3);t.xp6(1),t.Oqu(c.optionFields&&c.optionFields.size>0?c.optionFields.get(a):a)}}function y(i,_){if(1&i&&(t.TgZ(0,"div",4),t.YNc(1,v,2,1,"div",9),t.ALo(2,"keys"),t._UZ(3,"div",6),t.qZA()),2&i){const a=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,a.dataModel[0],a.optionFields))}}function D(i,_){if(1&i&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&i){const a=_.$implicit,c=t.oxw(2);t.xp6(1),t.Oqu(c.dataModel[a])}}function S(i,_){if(1&i&&(t.TgZ(0,"div",1),t.YNc(1,y,4,4,"div",2),t.TgZ(2,"div",7),t.YNc(3,D,2,1,"div",9),t.ALo(4,"keys"),t._UZ(5,"div",8),t.qZA()()),2&i){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.optionViewHead),t.xp6(2),t.Q6J("ngForOf",t.xi3(4,2,a.dataModel,a.optionFields))}}let L=(()=>{class i{static nextId=0;id=++i.nextId;constructor(){}optionMethod=1;dataModel;optionFields;optionViewHead=!0;ngOnInit(){}static \u0275fac=function(c){return new(c||i)};static \u0275cmp=t.Xpm({type:i,selectors:[["app-cms-json-list"]],inputs:{optionMethod:"optionMethod",dataModel:"dataModel",optionFields:"optionFields",optionViewHead:"optionViewHead"},decls:3,vars:3,consts:[["class","table",4,"ngIf"],[1,"table"],["class","th",4,"ngIf"],["class","tr",4,"ngFor","ngForOf"],[1,"th"],[1,"td"],[1,"clear"],[1,"tr"],[2,"clear","both"],["class","td",4,"ngFor","ngForOf"]],template:function(c,f){1&c&&(t.YNc(0,C,4,5,"div",0),t.YNc(1,M,3,2,"div",0),t.YNc(2,S,6,5,"div",0)),2&c&&(t.Q6J("ngIf",1===f.optionMethod&&f.dataModel),t.xp6(1),t.Q6J("ngIf",2===f.optionMethod&&f.dataModel),t.xp6(1),t.Q6J("ngIf",3===f.optionMethod&&f.dataModel))},dependencies:[e.sg,e.O5,h.X$,r],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f5;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.clear[_ngcontent-%COMP%]{clear:both}"]})}return i})()},63181:(Z,T,s)=>{s.d(T,{g:()=>J});var t=s(8239),e=s(64537),h=s(20092),r=s(34511),x=s(57445),m=s(51927),C=s(83151),I=s(42147),p=s(61528),E=s(27969),g=s(60656),M=s(56707),v=s(88692),y=s(61637),D=s(1379),S=s(88659),L=s(83331),i=s(39665),_=s(75738),a=s(81418);function c(u,P){if(1&u&&(e._UZ(0,"img",9),e.ALo(1,"cmsthumbnail")),2&u){const n=e.oxw();e.s9C("src",e.lcZ(1,1,null==n.dataModelSelect?null:n.dataModelSelect.linkMainImageIdSrc),e.LSH)}}function f(u,P){if(1&u&&(e._UZ(0,"img",9),e.ALo(1,"cmsthumbnail")),2&u){const n=e.oxw().$implicit;e.s9C("src",e.lcZ(1,1,n.linkMainImageIdSrc),e.LSH)}}function O(u,P){if(1&u&&(e.TgZ(0,"mat-option",10),e.YNc(1,f,2,3,"img",11),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&u){const n=P.$implicit,o=e.oxw();e.Q6J("value",n)("disabled",o.optionDisabled),e.xp6(1),e.Q6J("ngIf",n.linkMainImageIdSrc),e.xp6(2),e.Oqu(o.displayOption(n))}}function U(u,P){if(1&u){const n=e.EpF();e.TgZ(0,"mat-icon",12),e.NdJ("click",function(){e.CHM(n);const d=e.oxw();return e.KtG(d.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const F=["*"];let J=(()=>{class u{coreEnumService;cdr;translate;categoryService;static nextId=0;id=++u.nextId;constructor(n,o,d,A){this.coreEnumService=n,this.cdr=o,this.translate=d,this.categoryService=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}dataModelResult=new r.y$4;dataModelSelect=new r.NCo;loading=new g.O;get optionLoading(){return this.loading}set optionLoading(n){this.loading=n}formControl=new h.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionChange=new e.vpe;optionReload=()=>this.onActionReload();set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,m.O)(""),(0,C.b)(1500),(0,I.x)(),(0,p.w)(n=>this.DataGetAll("string"==typeof n||"number"==typeof n?n:"")))}displayFn(n){let o="";return n&&(n.username&&n.username.length>0&&(o=o+" "+n.username),n.name&&n.name.length>0&&(o=o+" "+n.name),n.lastName&&n.lastName.length>0&&(o=o+" "+n.lastName),o=o+"#:"+n.id),o}displayOption(n){let o="";return n&&(n.username&&n.username.length>0&&(o=o+" "+n.username),n.name&&n.name.length>0&&(o=o+" "+n.name),n.lastName&&n.lastName.length>0&&(o=o+" "+n.lastName),o=o+"#:"+n.id),o}DataGetAll(n){var o=this;return(0,t.Z)(function*(){const d=new r.Hay;if(d.rowPerPage=20,d.accessLoad=!0,n&&n.length>0){let l=new r.AO3;l=new r.AO3,l.propertyName="username",l.value=n,l.searchType=r.J6G.Contains,l.clauseType=r.ppe.Or,d.filters.push(l),l=new r.AO3,l.propertyName="name",l.value=n,l.searchType=r.J6G.Contains,l.clauseType=r.ppe.Or,d.filters.push(l),l=new r.AO3,l.propertyName="email",l.value=n,l.searchType=r.J6G.Contains,l.clauseType=r.ppe.Or,d.filters.push(l),l=new r.AO3,l.propertyName="lastname",l.value=n,l.searchType=r.J6G.Contains,l.clauseType=r.ppe.Or,d.filters.push(l),n&&"number"==typeof+n&&+n>0&&(l=new r.AO3,l.propertyName="Id",l.value=n,l.searchType=r.J6G.Equal,l.clauseType=r.ppe.Or,d.filters.push(l))}const A=o.constructor.name+"main";return o.loading.Start(A),yield(0,x.z)(o.categoryService.ServiceGetAll(d)).then(l=>(o.dataModelResult=l,o.optionSelectFirstItem&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect.id<=0)&&o.dataModelResult.listItems.length>0&&(o.optionSelectFirstItem=!1,setTimeout(()=>{o.formControl.setValue(o.dataModelResult.listItems[0])},1e3),o.onActionSelect(o.dataModelResult.listItems[0])),o.loading.Stop(A),l.listItems))})()}onActionSelect(n){this.optionDisabled||(this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(n){return this.filteredOptions.pipe((0,E.U)(o=>(o.find(d=>d.id===n.id)||o.push(n),o)))}onActionSelectForce(n){if("number"==typeof n&&n>0){if(this.dataModelSelect&&this.dataModelSelect.id===n)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.id===n)){const o=this.dataModelResult.listItems.find(d=>d.id===n);return this.dataModelSelect=o,void this.formControl.setValue(o)}this.categoryService.ServiceGetOneById(n).subscribe(o=>{o.isSuccess&&(this.filteredOptions=this.push(o.item),this.dataModelSelect=o.item,this.formControl.setValue(o.item),this.optionChange.emit(o.item))})}else{if(typeof n==typeof r.NCo)return this.filteredOptions=this.push(n),this.dataModelSelect=n,void this.formControl.setValue(n);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new r.NCo,this.loadOptions()}static \u0275fac=function(o){return new(o||u)(e.Y36(r.FLW),e.Y36(e.sBO),e.Y36(M.sK),e.Y36(r.k$Z))};static \u0275cmp=e.Xpm({type:u,selectors:[["app-cms-user-selector"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:F,decls:12,vars:11,consts:[[1,"ntk-full-width"],[3,"options"],["matPrefix",""],["class","ntk-hover-zoom","style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,d){if(1&o&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"span",2),e.YNc(3,c,2,3,"img",3),e._uU(4," \xa0"),e.qZA(),e._UZ(5,"input",4),e.TgZ(6,"mat-autocomplete",5,6),e.NdJ("optionSelected",function(l){return d.onActionSelect(l.option.value)}),e.YNc(8,O,4,4,"mat-option",7),e.ALo(9,"async"),e.qZA(),e.YNc(10,U,2,0,"mat-icon",8),e.Hsn(11),e.qZA()),2&o){const A=e.MAs(7);e.xp6(1),e.Q6J("options",d.loading),e.xp6(2),e.Q6J("ngIf",d.dataModelSelect&&(null==d.dataModelSelect?null:d.dataModelSelect.linkMainImageIdSrc)),e.xp6(2),e.s9C("placeholder",d.optionPlaceholder),e.Q6J("formControl",d.formControl)("matAutocomplete",A),e.uIk("disabled",!!d.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",d.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(9,9,d.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==d.dataModelSelect?null:d.dataModelSelect.id)}},dependencies:[v.sg,v.O5,h.Fj,h.JJ,h.oH,y.XC,D.ey,y.ZL,S.KE,S.qo,S.R9,L.Hw,i.Nt,_.O,v.Ov,a.v],encapsulation:2})}return u})()}}]);