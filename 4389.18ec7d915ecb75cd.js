"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[4389,6784,918,9907],{46272:(k,T,o)=>{o.r(T),o.d(T,{WebDesignerBuilderModule:()=>R});var t=o(86889),n=o(27165),C=o(88692),g=o(20092),a=o(88659),u=o(83331),c=o(80707),v=o(4721),h=o(4467),d=o(91661),s=o(34511),A=o(6087),Z=o(17360),b=o(26114);class i{constructor(){(0,t.Z)(this,"configRouteTemplateFileImage",void 0),(0,t.Z)(this,"configRouteFileStorage",void 0),(0,t.Z)(this,"cmsSite",void 0),(0,t.Z)(this,"cmsPage",void 0),(0,t.Z)(this,"cmsParentPage",void 0),(0,t.Z)(this,"cmsPageTemplate",void 0),(0,t.Z)(this,"moduleInfoes",void 0),(0,t.Z)(this,"templateConfig",void 0),(0,t.Z)(this,"bodySetting",void 0)}}var r=o(60656),e=o(64537),S=o(50727),D=o(56707),O=o(32607),I=o(94032),M=o(75738);const B=[{path:"",component:(()=>{var f;class _{constructor(m,l,p,P,y,W){(0,t.Z)(this,"tokenHelper",void 0),(0,t.Z)(this,"cdr",void 0),(0,t.Z)(this,"translate",void 0),(0,t.Z)(this,"cmsToastrService",void 0),(0,t.Z)(this,"publicHelper",void 0),(0,t.Z)(this,"webDesignerMainPageService",void 0),(0,t.Z)(this,"requestId",""),(0,t.Z)(this,"cmsApiStoreSubscribe",void 0),(0,t.Z)(this,"tokenInfo",new s.OdC),(0,t.Z)(this,"loading",new r.O),(0,t.Z)(this,"fieldsInfo",new Map),(0,t.Z)(this,"dataModel",new i),(0,t.Z)(this,"dataPageModel",new s.RIQ),(0,t.Z)(this,"dataModelResult",new s.y$4),this.tokenHelper=m,this.cdr=l,this.translate=p,this.cmsToastrService=P,this.publicHelper=y,this.webDesignerMainPageService=W,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}ngOnInit(){this.tokenHelper.getCurrentToken().then(m=>{this.tokenInfo=m,this.DataGetOneContent(),this.tokenHelper.CheckIsAdmin()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(m=>{this.tokenInfo=m,this.DataGetOneContent(),this.tokenHelper.CheckIsAdmin()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){const m=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.loading.Start(m),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(s.dR.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe(l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataPageModel=l.item,l.isSuccess||this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(m)},l=>{this.cmsToastrService.typeError(l),this.loading.Stop(m)})}onActionAdd(){}}return f=_,(0,t.Z)(_,"\u0275fac",function(m){return new(m||f)(e.Y36(S.v),e.Y36(e.sBO),e.Y36(D.sK),e.Y36(O.e),e.Y36(I.i),e.Y36(s.SUF))}),(0,t.Z)(_,"\u0275cmp",e.Xpm({type:f,selectors:[["app-web-designer-builder"]],decls:60,vars:37,consts:[[1,"row"],["Class","col-xl-2"],[1,"ntk-cms-html-tree-header"],["type","button",1,"btn","btn-outline-primary",2,"width","98%",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"ntk-cms-html-tree-body"],[1,"ntk-cms-html-tree-footer"],["Class","col-xl-10"],[1,"ntk-cms-html-list-header"],[3,"options"],[1,"ntk-cms-html-list-footer"]],template:function(m,l){1&m&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return l.onActionAdd()}),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"button",3),e.NdJ("click",function(){return l.onActionAdd()}),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",3),e.NdJ("click",function(){return l.onActionAdd()}),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"button",3),e.NdJ("click",function(){return l.onActionAdd()}),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"button",3),e.NdJ("click",function(){return l.onActionAdd()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"button",3),e.NdJ("click",function(){return l.onActionAdd()}),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"button",3),e.NdJ("click",function(){return l.onActionAdd()}),e._uU(22),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",2),e._uU(25),e.ALo(26,"translate"),e._UZ(27,"br"),e.TgZ(28,"button",4),e.NdJ("click",function(){return l.onActionAdd()}),e._uU(29,"lg"),e.qZA(),e.TgZ(30,"button",4),e.NdJ("click",function(){return l.onActionAdd()}),e._uU(31,"md"),e.qZA(),e.TgZ(32,"button",4),e.NdJ("click",function(){return l.onActionAdd()}),e._uU(33,"sm"),e.qZA(),e.TgZ(34,"button",4),e.NdJ("click",function(){return l.onActionAdd()}),e._uU(35,"xs"),e.qZA()(),e.TgZ(36,"div",2),e._uU(37),e.ALo(38,"translate"),e._UZ(39,"br"),e.TgZ(40,"button",3),e.NdJ("click",function(){return l.onActionAdd()}),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"button",3),e.NdJ("click",function(){return l.onActionAdd()}),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",5),e._uU(47," body "),e.qZA(),e.TgZ(48,"div",6),e._uU(49," tree-footer "),e.qZA()(),e.TgZ(50,"div",7)(51,"div",8)(52,"button",4),e.NdJ("click",function(){return l.onActionAdd()}),e._uU(53),e.ALo(54,"translate"),e.qZA()(),e.TgZ(55,"div"),e._UZ(56,"app-progress-spinner",9),e._uU(57," Body "),e.qZA(),e.TgZ(58,"div",10),e._uU(59," footer "),e.qZA()()()),2&m&&(e.xp6(4),e.Oqu(e.lcZ(5,13,"ACTION.SAVE_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(8,15,"ACTION.DELETE_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(11,17,"ACTION.LOADING_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(14,19,"ACTION.ASSUMPTION_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(17,21,"ACTION.INTERNALIZATION_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(20,23,"ACTION.OUTFLOW_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(23,25,"ACTION.HISTORY_CONTENT")),e.xp6(3),e.hij(" ",e.lcZ(26,27,"TITLE.DISPLAY_SIZE")," "),e.xp6(12),e.hij(" ",e.lcZ(38,29,"TITLE.DISPLAY")," "),e.xp6(4),e.Oqu(e.lcZ(42,31,"TITLE.Preview")),e.xp6(3),e.Oqu(e.lcZ(45,33,"TITLE.Preview_MOTHER")),e.xp6(9),e.Oqu(e.lcZ(54,35,"TITLE.CREATE_ROW")),e.xp6(3),e.Q6J("options",l.loading))},dependencies:[M.O,D.X$]})),_})(),data:{title:"ROUTE.WEBDESIGNERBUILDER"},children:[]}];let N=(()=>{var f;class _{}return f=_,(0,t.Z)(_,"\u0275fac",function(m){return new(m||f)}),(0,t.Z)(_,"\u0275mod",e.oAB({type:f})),(0,t.Z)(_,"\u0275inj",e.cJS({imports:[b.Bz.forChild(B),b.Bz]})),_})(),R=(()=>{var f;class _{}return f=_,(0,t.Z)(_,"\u0275fac",function(m){return new(m||f)}),(0,t.Z)(_,"\u0275mod",e.oAB({type:f})),(0,t.Z)(_,"\u0275inj",e.cJS({providers:[s.EAm,s.FLW,s.Z8z,s.dF2,s.PwI,s.VqD,s.UIH,s.zef,s.KQH,s.SUF,s.eck,s.BeA,s.cW6,s.qgh],imports:[C.ez,N,g.u5,g.UX.withConfig({warnOnNgModelWithFormControl:"never"}),A.m.forRoot(),v.UM,u.Ps,a.lN,c.T5,d.v3,h.FR,n._t,Z.CoreModuleModule]})),_})()},13673:(k,T,o)=>{o.d(T,{G:()=>s});var t=o(8239),n=o(86889),C=o(88692),g=o(34511),a=o(64537),u=o(94032),c=o(32607);let s=(()=>{var A;class Z{constructor(i,r,e,S,D,O){(0,n.Z)(this,"elRef",void 0),(0,n.Z)(this,"renderer",void 0),(0,n.Z)(this,"publicHelper",void 0),(0,n.Z)(this,"cmsToastrService",void 0),(0,n.Z)(this,"cdr",void 0),(0,n.Z)(this,"document",void 0),(0,n.Z)(this,"row",void 0),(0,n.Z)(this,"contentService",void 0),this.elRef=i,this.renderer=r,this.publicHelper=e,this.cmsToastrService=S,this.cdr=D,this.document=O,this.getEnumRecordStatus()}getEnumRecordStatus(){var i=this;return(0,t.Z)(function*(){(yield i.publicHelper.getEnumRecordStatus()).listItems.forEach(e=>{const S=document.createElement("option");S.innerHTML=" "+e.title+' <i Class="'+i.iconStatus(e.value)+'"></i>',S.value=e.value.toString(),i.elRef.nativeElement.add(S)}),i.elRef.nativeElement.options.length>0&&i.row&&i.row.recordStatus&&i.renderer.setProperty(i.elRef.nativeElement,"value",i.row.recordStatus)})()}onChange(){const i=this.elRef.nativeElement,r=i.value;this.addLoader(i),this.contentService.setAccessDataType(g.dR.Editor),this.contentService.ServiceSetStatus(this.row.id,r).subscribe(e=>{e.isSuccess?(this.handleSuccessCase(i),this.cmsToastrService.typeSuccessSetStatus(e.errorMessage),this.row.recordStatus=0|r,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeErrorSetStatus(e.errorMessage),this.handleErrorCase(i))},e=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeError(e),this.handleErrorCase(i)})}handleSuccessCase(i){this.removeBackground(i),this.addSuccess(i),setTimeout(()=>{this.removeBackground(i)},1e3)}handleErrorCase(i){this.removeBackground(i);const r=this.document.createElement("img");r.style.width="20px",r.src="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png";const e=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(e,r),setTimeout(()=>{this.renderer.removeChild(e,r)},1e3)}addLoader(i){this.addBackground(i,"https://replit.com/public/images/loading_dots.gif",20)}addSuccess(i){this.addBackground(i,"https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",20)}addBackground(i,r,e){i.style.background=`#fff url("${r}") no-repeat right 20px center`,i.style.backgroundSize=`${e}px`}removeBackground(i){i.style.background="none"}iconStatus(i){let r="";switch(i){case 1:default:r="fa fa-check";break;case 2:r="fa fa-eye-slash";break;case 3:r="fa fa-times";break;case 4:r="fa fa-hourglass-half";break;case 5:r="far fa-thumbs-down";break;case 6:r="fa fa-archive"}return r}}return A=Z,(0,n.Z)(Z,"\u0275fac",function(i){return new(i||A)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(u.i),a.Y36(c.e),a.Y36(a.sBO),a.Y36(C.K0))}),(0,n.Z)(Z,"\u0275dir",a.lG2({type:A,selectors:[["","cmsRecordStatusSelfSave",""]],hostBindings:function(i,r){1&i&&a.NdJ("change",function(){return r.onChange()})},inputs:{row:"row",contentService:"contentService"}})),Z})()},81418:(k,T,o)=>{o.d(T,{v:()=>C});var t=o(86889),n=o(64537);let C=(()=>{var g;class a{transform(c){return(c+="").replace("/images/","/thumbnails/")}}return g=a,(0,t.Z)(a,"\u0275fac",function(c){return new(c||g)}),(0,t.Z)(a,"\u0275pipe",n.Yjl({name:"cmsthumbnail",type:g,pure:!0})),a})()},86639:(k,T,o)=>{o.d(T,{G:()=>g});var t=o(86889),n=o(64537),C=o(5998);let g=(()=>{var a;class u{constructor(v){(0,t.Z)(this,"sanitizer",void 0),this.sanitizer=v}transform(v,h=!1){let d="";switch(v){case 1:default:d="fa fa-check";break;case 2:d="fa fa-times";break;case 3:d="fa fa-trash";break;case 4:d="fa fa-hourglass-half";break;case 5:d="far fa-thumbs-down";break;case 6:d="fa fa-archive"}return d}}return a=u,(0,t.Z)(u,"\u0275fac",function(v){return new(v||a)(n.Y36(C.H7,16))}),(0,t.Z)(u,"\u0275pipe",n.Yjl({name:"statusIconClass",type:a,pure:!0})),u})()},83914:(k,T,o)=>{o.d(T,{s:()=>a});var t=o(86889),n=o(64537),C=o(58219);let g=(()=>{var u;class c{constructor(h){(0,t.Z)(this,"activeModal",void 0),(0,t.Z)(this,"id",++c.nextId),(0,t.Z)(this,"title",void 0),(0,t.Z)(this,"message",void 0),(0,t.Z)(this,"btnOkText",void 0),(0,t.Z)(this,"btnCancelText",void 0),this.activeModal=h}ngOnInit(){}decline(){this.activeModal.close(!1)}accept(){this.activeModal.close(!0)}dismiss(){this.activeModal.dismiss()}}return u=c,(0,t.Z)(c,"nextId",0),(0,t.Z)(c,"\u0275fac",function(h){return new(h||u)(n.Y36(C.Kz))}),(0,t.Z)(c,"\u0275cmp",n.Xpm({type:u,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText",btnCancelText:"btnCancelText"},decls:12,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(h,d){1&h&&(n.TgZ(0,"div",0)(1,"h4",1),n._uU(2),n.qZA(),n.TgZ(3,"button",2),n.NdJ("click",function(){return d.dismiss()}),n.TgZ(4,"span",3),n._uU(5,"\xd7"),n.qZA()()(),n._UZ(6,"div",4),n.TgZ(7,"div",5)(8,"button",6),n.NdJ("click",function(){return d.decline()}),n._uU(9),n.qZA(),n.TgZ(10,"button",7),n.NdJ("click",function(){return d.accept()}),n._uU(11),n.qZA()()),2&h&&(n.xp6(2),n.Oqu(d.title),n.xp6(4),n.Q6J("innerHTML",d.message,n.oJD),n.xp6(3),n.Oqu(d.btnCancelText),n.xp6(2),n.Oqu(d.btnOkText))},encapsulation:2})),c})(),a=(()=>{var u;class c{constructor(h){(0,t.Z)(this,"modalService",void 0),this.modalService=h}confirm(h,d,s="OK",A="Cancel",Z="sm"){const b=this.modalService.open(g,{size:Z});return b.componentInstance.title=h,b.componentInstance.message=d,b.componentInstance.btnOkText=s,b.componentInstance.btnCancelText=A,b.result}}return u=c,(0,t.Z)(c,"\u0275fac",function(h){return new(h||u)(n.LFG(C.FF))}),(0,t.Z)(c,"\u0275prov",n.Yz7({token:u,factory:u.\u0275fac})),c})()}}]);