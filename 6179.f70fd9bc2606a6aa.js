"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[6179],{16179:(de,te,p)=>{p.r(te),p.d(te,{CoreTokenModule:()=>ta});var i=p(86889),h=p(88692),_=p(20092),c=p(34511),U=p(83914),q=p(6087),b=p(26114),m=p(80418),R=p(56964),O=p(9312),Z=p(60656),J=p(76997),Y=p(57154),G=p(8239),S=p(54536),e=p(64537),M=p(32607),k=p(50727),f=p(56707),v=p(13987),Q=p(1379),A=p(88659),B=p(18033),H=p(56599),F=p(63181),E=p(75738);const me=["vform"];function ue(n,a){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function pe(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function _e(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onFormCancel())}),e._UZ(2,"i",18),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let he=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C){(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"dialogRef",void 0),(0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"coreTokenActivationService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"requestId",""),(0,i.Z)(this,"formGroup",void 0),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"dataModel",new c.$4t),(0,i.Z)(this,"formInfo",new c.LEF),(0,i.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,i.Z)(this,"fileManagerOpenForm",!1),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=s,this.coreTokenActivationService=l,this.cmsToastrService=r,this.tokenHelper=u,this.cdr=g,this.translate=T,this.publicHelper=C,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceEnumManageUserAccessAreaTypes().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceEnumManageUserAccessUserTypes().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,G.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(c.MZK.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(S.WI),e.Y36(S.so),e.Y36(c.FLW),e.Y36(c.x6v),e.Y36(M.e),e.Y36(k.v),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(v.i))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(me,5),2&t){let s;e.iGM(s=e.CRH())&&(o.formGroup=s.first)}},decls:22,vars:21,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(l){return o.dataModel.recordStatus=l}),e.YNc(7,ue,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,pe,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"app-cms-site-selector",9),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(13,"app-cms-user-selector",9),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA()(),e.TgZ(14,"div",10)(15,"div",11)(16,"small",12),e._uU(17),e.qZA(),e.TgZ(18,"small",13),e._uU(19),e.qZA()()(),e.TgZ(20,"div",14),e.YNc(21,_e,5,3,"div",15),e.qZA()),2&t){const s=e.MAs(6);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("panelClass","recordStatus-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,19,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==s.errors?null:s.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display)}},dependencies:[h.sg,h.O5,_.JJ,_.Q7,_.On,Q.ey,A.KE,A.bx,A.TO,B.gD,H.P,F.g,E.O,f.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),n})();var P=p(42370);const fe=["vform"];function ge(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Te=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C){(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"dialogRef",void 0),(0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"coreTokenActivationService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"requestId",""),(0,i.Z)(this,"formGroup",void 0),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"dataModel",new c.$4t),(0,i.Z)(this,"formInfo",new c.LEF),(0,i.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"fileManagerOpenForm",!1),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=s,this.coreTokenActivationService=l,this.cmsToastrService=r,this.tokenHelper=u,this.cdr=g,this.publicHelper=T,this.translate=C,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceEnumSendSmsStatusType().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(S.WI),e.Y36(S.so),e.Y36(c.FLW),e.Y36(c.x6v),e.Y36(M.e),e.Y36(k.v),e.Y36(e.sBO),e.Y36(v.i),e.Y36(f.sK))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(fe,5),2&t){let s;e.iGM(s=e.CRH())&&(o.formGroup=s.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,ge,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display))},dependencies:[h.O5,E.O,P.v,f.X$]})),n})();var j=p(9638),y=p(83331),N=p(39665),w=p(83319),$=p(53538),D=p(64639),L=p(56558),K=p(43014),V=p(10626),W=p(37980),oe=p(13673),X=p(99654),ne=p(86639),ie=p(25897),ee=p(91101);function Ce(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function Se(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function Ae(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function be(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function Ze(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Me(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function ke(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function ve(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function we(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkSiteId," ")}}function Ie(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Ee(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkUserId," ")}}function Le(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function xe(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function Ue(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Re=function(n){return{display:n}};function ye(n,a){if(1&n&&(e.TgZ(0,"mat-cell",47),e.ALo(1,"statusCellClass"),e._UZ(2,"i",47),e.ALo(3,"statusIconClass"),e._UZ(4,"select",48),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,t.recordStatus)),e.xp6(2),e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(9,Re,t.id===o.tableRowSelected.id?"":"none"))}}function De(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ne(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function qe(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Oe(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Je(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ye(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Ge(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Qe(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function Be(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function He(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function Fe(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Pe(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.createdDate)," ")}}function je(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function $e(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.expireDate)," ")}}function Ke(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Ve(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function We(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Xe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,51),e.YNc(6,Ve,6,3,"button",52),e.YNc(7,We,6,3,"button",52),e.TgZ(8,"button",53),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",53),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function ze(n,a){1&n&&e._UZ(0,"mat-header-row")}const et=function(n){return{background:n}};function tt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",54),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const t=a.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,et,t.id===o.tableRowSelected.id?"#d3d3da":""))}}const ot=function(){return[5,10,20,100]};let nt=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C,x){if((0,i.Z)(this,"contentService",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"cmsConfirmationDialogService",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"dialog",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"requestLinkSiteId",0),(0,i.Z)(this,"requestLinkUserId",0),(0,i.Z)(this,"requestLinkDeviceId",0),(0,i.Z)(this,"comment",void 0),(0,i.Z)(this,"author",void 0),(0,i.Z)(this,"dataSource",void 0),(0,i.Z)(this,"flag",!1),(0,i.Z)(this,"tableContentSelected",[]),(0,i.Z)(this,"filteModelContent",new c.Hay),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"optionsSearch",new R.dj),(0,i.Z)(this,"optionsStatist",new O.TV),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"tableRowsSelected",[]),(0,i.Z)(this,"tableRowSelected",new c.$4t),(0,i.Z)(this,"tableSource",new m.by),(0,i.Z)(this,"tabledisplayedColumns",[]),(0,i.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"]),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,i.Z)(this,"expandedElement",void 0),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=s,this.cmsConfirmationDialogService=l,this.activatedRoute=r,this.dialog=u,this.tokenHelper=g,this.cdr=T,this.translate=C,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oCf.Descending}ngOnInit(){this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=c.oCf.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.tableRowSelected=new c.$4t;const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:s=>{s.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.loading.Stop(t)},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oCf.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Te,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(he,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.tableRowSelected=t,null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),s=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,s).then(l=>{if(l){const r=this.constructor.name+"main";this.loading.Start(r),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(r)},error:u=>{this.cmsToastrService.typeError(u),this.loading.Stop(r)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:r=>{r.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),r.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.loading.Stop(o)},error:r=>{this.cmsToastrService.typeError(r),this.loading.Stop(o)}});const s=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.FVU.Available,s.filters.push(l),this.contentService.ServiceGetCount(s).subscribe({next:r=>{r.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),r.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.loading.Stop(o)},error:r=>{this.cmsToastrService.typeError(r),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(Y.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(J.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(s=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(c.x6v),e.Y36(v.i),e.Y36(M.e),e.Y36(U.s),e.Y36(b.gz),e.Y36(S.uw),e.Y36(k.v),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(b.F0))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:76,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,Ce,3,3,"button",4),e.YNc(6,Se,3,3,"button",5),e.YNc(7,Ae,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(r){return o.optionsSearch.data.show=r}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,be,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,Ze,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(r){return o.optionsSearch=r}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(r){return o.optionsStatist=r}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(s);const r=e.MAs(31);return e.KtG(o.onTableSortData(r))}),e.ynx(32,19),e.YNc(33,Me,2,1,"mat-header-cell",20),e.YNc(34,ke,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,ve,2,1,"mat-header-cell",20),e.YNc(37,we,2,1,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,Ie,2,1,"mat-header-cell",20),e.YNc(40,Ee,2,1,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,Le,2,1,"mat-header-cell",20),e.YNc(43,xe,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,Ue,2,1,"mat-header-cell",20),e.YNc(46,ye,5,11,"mat-cell",26),e.BQk(),e.ynx(47,27),e.YNc(48,De,2,1,"mat-header-cell",20),e.YNc(49,Ne,3,4,"mat-cell",21),e.BQk(),e.ynx(50,28),e.YNc(51,qe,2,1,"mat-header-cell",20),e.YNc(52,Oe,3,4,"mat-cell",21),e.BQk(),e.ynx(53,29),e.YNc(54,Je,2,1,"mat-header-cell",20),e.YNc(55,Ye,3,3,"mat-cell",21),e.BQk(),e.ynx(56,30),e.YNc(57,Ge,2,1,"mat-header-cell",20),e.YNc(58,Qe,3,3,"mat-cell",21),e.BQk(),e.ynx(59,31),e.YNc(60,Be,2,1,"mat-header-cell",20),e.YNc(61,He,3,3,"mat-cell",21),e.BQk(),e.ynx(62,32),e.YNc(63,Fe,2,1,"mat-header-cell",20),e.YNc(64,Pe,2,1,"mat-cell",21),e.BQk(),e.ynx(65,33),e.YNc(66,je,2,1,"mat-header-cell",20),e.YNc(67,$e,2,1,"mat-cell",21),e.BQk(),e.ynx(68,34),e.YNc(69,Ke,3,3,"mat-header-cell",35),e.YNc(70,Xe,20,9,"mat-cell",36),e.BQk(),e.YNc(71,ze,1,0,"mat-header-row",37),e.YNc(72,tt,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(73,39),e.TgZ(74,"mat-paginator",40,41),e.NdJ("page",function(r){return o.onTablePageingData(r)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,ot)))},dependencies:[h.mk,h.O5,h.PC,_.JJ,_.On,j.RK,y.Hw,N.Nt,w.VK,w.OP,w.p6,$.NW,D.Rr,L.YE,L.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,K.y,V.q,W.Z,oe.G,f.X$,X.B,ne.G,ie.Y,ee.r],encapsulation:2})),n})(),it=(()=>{class n{constructor(){}ngOnInit(){}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-token"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},dependencies:[b.lC],encapsulation:2})),n})();const st=["vform"];function at(n,a){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function lt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function rt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onFormCancel())}),e._UZ(2,"i",18),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ct=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C){(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"dialogRef",void 0),(0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"coreTokenMicroServiceLogService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"requestId",""),(0,i.Z)(this,"formGroup",void 0),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"dataModel",new c.BKj),(0,i.Z)(this,"formInfo",new c.LEF),(0,i.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,i.Z)(this,"fileManagerOpenForm",!1),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=s,this.coreTokenMicroServiceLogService=l,this.cmsToastrService=r,this.publicHelper=u,this.cdr=g,this.tokenHelper=T,this.translate=C,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceEnumManageUserAccessAreaTypes().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceEnumManageUserAccessUserTypes().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,G.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.setAccessDataType(c.MZK.Editor),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(S.WI),e.Y36(S.so),e.Y36(c.FLW),e.Y36(c.qOP),e.Y36(M.e),e.Y36(v.i),e.Y36(e.sBO),e.Y36(k.v),e.Y36(f.sK))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(st,5),2&t){let s;e.iGM(s=e.CRH())&&(o.formGroup=s.first)}},decls:22,vars:21,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(l){return o.dataModel.recordStatus=l}),e.YNc(7,at,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,lt,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"app-cms-site-selector",9),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(13,"app-cms-user-selector",9),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA()(),e.TgZ(14,"div",10)(15,"div",11)(16,"small",12),e._uU(17),e.qZA(),e.TgZ(18,"small",13),e._uU(19),e.qZA()()(),e.TgZ(20,"div",14),e.YNc(21,rt,5,3,"div",15),e.qZA()),2&t){const s=e.MAs(6);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("panelClass","recordStatus-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,19,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==s.errors?null:s.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display)}},dependencies:[h.sg,h.O5,_.JJ,_.Q7,_.On,Q.ey,A.KE,A.bx,A.TO,B.gD,H.P,F.g,E.O,f.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),n})();const dt=["vform"];function mt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ut=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C){(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"dialogRef",void 0),(0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"coreTokenMicroServiceLogService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"requestId",""),(0,i.Z)(this,"formGroup",void 0),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"dataModel",new c.BKj),(0,i.Z)(this,"formInfo",new c.LEF),(0,i.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"fileManagerOpenForm",!1),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=s,this.coreTokenMicroServiceLogService=l,this.cmsToastrService=r,this.tokenHelper=u,this.cdr=g,this.publicHelper=T,this.translate=C,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceEnumSendSmsStatusType().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(S.WI),e.Y36(S.so),e.Y36(c.FLW),e.Y36(c.qOP),e.Y36(M.e),e.Y36(k.v),e.Y36(e.sBO),e.Y36(v.i),e.Y36(f.sK))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(dt,5),2&t){let s;e.iGM(s=e.CRH())&&(o.formGroup=s.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,mt,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display))},dependencies:[h.O5,E.O,P.v,f.X$],encapsulation:2})),n})();function pt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function _t(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function ht(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function ft(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function gt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Tt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Ct(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function St(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function At(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkSiteId," ")}}function bt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Zt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkUserId," ")}}function Mt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function kt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function vt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const wt=function(n){return{display:n}};function It(n,a){if(1&n&&(e.TgZ(0,"mat-cell",47),e.ALo(1,"statusCellClass"),e._UZ(2,"i",47),e.ALo(3,"statusIconClass"),e._UZ(4,"select",48),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,t.recordStatus)),e.xp6(2),e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(9,wt,t.id===o.tableRowSelected.id?"":"none"))}}function Et(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Lt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function xt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Ut(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Rt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function yt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Dt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Nt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function qt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ot(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function Jt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Yt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.createdDate)," ")}}function Gt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function Qt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.expireDate)," ")}}function Bt(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Ht(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Ft(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Pt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,51),e.YNc(6,Ht,6,3,"button",52),e.YNc(7,Ft,6,3,"button",52),e.TgZ(8,"button",53),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",53),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function jt(n,a){1&n&&e._UZ(0,"mat-header-row")}const $t=function(n){return{background:n}};function Kt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",54),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const t=a.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,$t,t.id===o.tableRowSelected.id?"#d3d3da":""))}}const Vt=function(){return[5,10,20,100]};let Wt=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C,x){if((0,i.Z)(this,"contentService",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"cmsConfirmationDialogService",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"dialog",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"requestLinkSiteId",0),(0,i.Z)(this,"requestLinkUserId",0),(0,i.Z)(this,"requestLinkDeviceId",0),(0,i.Z)(this,"comment",void 0),(0,i.Z)(this,"author",void 0),(0,i.Z)(this,"dataSource",void 0),(0,i.Z)(this,"flag",!1),(0,i.Z)(this,"tableContentSelected",[]),(0,i.Z)(this,"filteModelContent",new c.Hay),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"optionsSearch",new R.dj),(0,i.Z)(this,"optionsStatist",new O.TV),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"tableRowsSelected",[]),(0,i.Z)(this,"tableRowSelected",new c.BKj),(0,i.Z)(this,"tableSource",new m.by),(0,i.Z)(this,"tabledisplayedColumns",[]),(0,i.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"]),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,i.Z)(this,"expandedElement",void 0),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=s,this.cmsConfirmationDialogService=l,this.activatedRoute=r,this.dialog=u,this.tokenHelper=g,this.cdr=T,this.translate=C,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oCf.Descending}ngOnInit(){this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=c.oCf.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.tableRowSelected=new c.BKj;const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:s=>{s.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.loading.Stop(t)},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oCf.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ut,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ct,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.tableRowSelected=t,null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),s=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,s).then(l=>{if(l){const r=this.constructor.name+"main";this.loading.Start(r),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(r)},error:u=>{this.cmsToastrService.typeError(u),this.loading.Stop(r)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:r=>{r.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),r.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.loading.Stop(o)},error:r=>{this.cmsToastrService.typeError(r),this.loading.Stop(o)}});const s=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.FVU.Available,s.filters.push(l),this.contentService.ServiceGetCount(s).subscribe({next:r=>{r.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),r.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.loading.Stop(o)},error:r=>{this.cmsToastrService.typeError(r),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(Y.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(J.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(s=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(c.qOP),e.Y36(v.i),e.Y36(M.e),e.Y36(U.s),e.Y36(b.gz),e.Y36(S.uw),e.Y36(k.v),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(b.F0))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservicelog-list"]],decls:76,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,pt,3,3,"button",4),e.YNc(6,_t,3,3,"button",5),e.YNc(7,ht,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(r){return o.optionsSearch.data.show=r}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,ft,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,gt,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(r){return o.optionsSearch=r}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(r){return o.optionsStatist=r}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(s);const r=e.MAs(31);return e.KtG(o.onTableSortData(r))}),e.ynx(32,19),e.YNc(33,Tt,2,1,"mat-header-cell",20),e.YNc(34,Ct,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,St,2,1,"mat-header-cell",20),e.YNc(37,At,2,1,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,bt,2,1,"mat-header-cell",20),e.YNc(40,Zt,2,1,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,Mt,2,1,"mat-header-cell",20),e.YNc(43,kt,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,vt,2,1,"mat-header-cell",20),e.YNc(46,It,5,11,"mat-cell",26),e.BQk(),e.ynx(47,27),e.YNc(48,Et,2,1,"mat-header-cell",20),e.YNc(49,Lt,3,4,"mat-cell",21),e.BQk(),e.ynx(50,28),e.YNc(51,xt,2,1,"mat-header-cell",20),e.YNc(52,Ut,3,4,"mat-cell",21),e.BQk(),e.ynx(53,29),e.YNc(54,Rt,2,1,"mat-header-cell",20),e.YNc(55,yt,3,3,"mat-cell",21),e.BQk(),e.ynx(56,30),e.YNc(57,Dt,2,1,"mat-header-cell",20),e.YNc(58,Nt,3,3,"mat-cell",21),e.BQk(),e.ynx(59,31),e.YNc(60,qt,2,1,"mat-header-cell",20),e.YNc(61,Ot,3,3,"mat-cell",21),e.BQk(),e.ynx(62,32),e.YNc(63,Jt,2,1,"mat-header-cell",20),e.YNc(64,Yt,2,1,"mat-cell",21),e.BQk(),e.ynx(65,33),e.YNc(66,Gt,2,1,"mat-header-cell",20),e.YNc(67,Qt,2,1,"mat-cell",21),e.BQk(),e.ynx(68,34),e.YNc(69,Bt,3,3,"mat-header-cell",35),e.YNc(70,Pt,20,9,"mat-cell",36),e.BQk(),e.YNc(71,jt,1,0,"mat-header-row",37),e.YNc(72,Kt,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(73,39),e.TgZ(74,"mat-paginator",40,41),e.NdJ("page",function(r){return o.onTablePageingData(r)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,Vt)))},dependencies:[h.mk,h.O5,h.PC,_.JJ,_.On,j.RK,y.Hw,N.Nt,w.VK,w.OP,w.p6,$.NW,D.Rr,L.YE,L.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,K.y,V.q,W.Z,oe.G,f.X$,X.B,ne.G,ie.Y,ee.r],encapsulation:2})),n})();var se=p(98838);const Xt=["vform"];function zt(n,a){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function eo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function to(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",17),e.ALo(2,"prettyjson"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.dataModel),e.oJD)}}function oo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"button",18),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onFormCancel())}),e._UZ(2,"i",19),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let no=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C){(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"dialogRef",void 0),(0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"coreTokenMicroServiceService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"requestId",""),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"dataModel",new c.xyf),(0,i.Z)(this,"formGroup",void 0),(0,i.Z)(this,"formInfo",new c.LEF),(0,i.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"fileManagerOpenForm",!1),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=s,this.coreTokenMicroServiceService=l,this.cmsToastrService=r,this.tokenHelper=u,this.cdr=g,this.publicHelper=T,this.translate=C,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceEnumManageUserAccessAreaTypes().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceEnumManageUserAccessUserTypes().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,G.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(c.MZK.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(S.WI),e.Y36(S.so),e.Y36(c.FLW),e.Y36(c.mPJ),e.Y36(M.e),e.Y36(k.v),e.Y36(e.sBO),e.Y36(v.i),e.Y36(f.sK))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(Xt,5),2&t){let s;e.iGM(s=e.CRH())&&(o.formGroup=s.first)}},decls:23,vars:22,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(l){return o.dataModel.recordStatus=l}),e.YNc(7,zt,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,eo,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"app-cms-site-selector",9),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(13,"app-cms-user-selector",9),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.YNc(14,to,3,3,"div",8),e.qZA(),e.TgZ(15,"div",10)(16,"div",11)(17,"small",12),e._uU(18),e.qZA(),e.TgZ(19,"small",13),e._uU(20),e.qZA()()(),e.TgZ(21,"div",14),e.YNc(22,oo,5,3,"div",15),e.qZA()),2&t){const s=e.MAs(6);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("panelClass","recordStatus-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,20,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==s.errors?null:s.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display)}},dependencies:[h.sg,h.O5,_.JJ,_.Q7,_.On,Q.ey,A.KE,A.bx,A.TO,B.gD,H.P,F.g,E.O,f.X$,se.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),n})();const io=["vform"];function so(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ao=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C){(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"dialogRef",void 0),(0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"coreTokenMicroServiceService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"requestId",""),(0,i.Z)(this,"formGroup",void 0),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"dataModel",new c.xyf),(0,i.Z)(this,"formInfo",new c.LEF),(0,i.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"fileManagerOpenForm",!1),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=s,this.coreTokenMicroServiceService=l,this.cmsToastrService=r,this.tokenHelper=u,this.cdr=g,this.publicHelper=T,this.translate=C,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceEnumSendSmsStatusType().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(S.WI),e.Y36(S.so),e.Y36(c.FLW),e.Y36(c.mPJ),e.Y36(M.e),e.Y36(k.v),e.Y36(e.sBO),e.Y36(v.i),e.Y36(f.sK))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(io,5),2&t){let s;e.iGM(s=e.CRH())&&(o.formGroup=s.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,so,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display))},dependencies:[h.O5,E.O,P.v,f.X$]})),n})();function lo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function ro(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function co(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function mo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function uo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function po(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function _o(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function ho(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function fo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkSiteId," ")}}function go(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function To(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkUserId," ")}}function Co(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function So(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function Ao(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const bo=function(n){return{display:n}};function Zo(n,a){if(1&n&&(e.TgZ(0,"mat-cell",47),e.ALo(1,"statusCellClass"),e._UZ(2,"i",47),e.ALo(3,"statusIconClass"),e._UZ(4,"select",48),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,t.recordStatus)),e.xp6(2),e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(9,bo,t.id===o.tableRowSelected.id?"":"none"))}}function Mo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ko(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function vo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function wo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Io(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Eo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Lo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function xo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function Uo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ro(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function yo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Do(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.createdDate)," ")}}function No(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function qo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.expireDate)," ")}}function Oo(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Jo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Yo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Go(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,51),e.YNc(6,Jo,6,3,"button",52),e.YNc(7,Yo,6,3,"button",52),e.TgZ(8,"button",53),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",53),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function Qo(n,a){1&n&&e._UZ(0,"mat-header-row")}const Bo=function(n){return{background:n}};function Ho(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",54),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const t=a.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,Bo,t.id===o.tableRowSelected.id?"#d3d3da":""))}}const Fo=function(){return[5,10,20,100]};let Po=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C,x){if((0,i.Z)(this,"contentService",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"cmsConfirmationDialogService",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"dialog",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"requestLinkSiteId",0),(0,i.Z)(this,"requestLinkUserId",0),(0,i.Z)(this,"requestLinkDeviceId",0),(0,i.Z)(this,"comment",void 0),(0,i.Z)(this,"author",void 0),(0,i.Z)(this,"dataSource",void 0),(0,i.Z)(this,"flag",!1),(0,i.Z)(this,"tableContentSelected",[]),(0,i.Z)(this,"filteModelContent",new c.Hay),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"optionsSearch",new R.dj),(0,i.Z)(this,"optionsStatist",new O.TV),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"tableRowsSelected",[]),(0,i.Z)(this,"tableRowSelected",new c.xyf),(0,i.Z)(this,"tableSource",new m.by),(0,i.Z)(this,"tabledisplayedColumns",[]),(0,i.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"]),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,i.Z)(this,"expandedElement",void 0),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=s,this.cmsConfirmationDialogService=l,this.activatedRoute=r,this.dialog=u,this.tokenHelper=g,this.cdr=T,this.translate=C,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oCf.Descending}ngOnInit(){this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=c.oCf.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.tableRowSelected=new c.xyf;const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:s=>{s.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.loading.Stop(t)},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oCf.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ao,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(no,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.tableRowSelected=t,null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),s=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,s).then(l=>{if(l){const r=this.constructor.name+"main";this.loading.Start(r),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(r)},error:u=>{this.cmsToastrService.typeError(u),this.loading.Stop(r)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:r=>{r.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),r.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.loading.Stop(o)},error:r=>{this.cmsToastrService.typeError(r),this.loading.Stop(o)}});const s=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.FVU.Available,s.filters.push(l),this.contentService.ServiceGetCount(s).subscribe({next:r=>{r.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),r.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.loading.Stop(o)},error:r=>{this.cmsToastrService.typeError(r),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(Y.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(J.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(s=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(c.mPJ),e.Y36(v.i),e.Y36(M.e),e.Y36(U.s),e.Y36(b.gz),e.Y36(S.uw),e.Y36(k.v),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(b.F0))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservice-list"]],decls:76,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,lo,3,3,"button",4),e.YNc(6,ro,3,3,"button",5),e.YNc(7,co,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(r){return o.optionsSearch.data.show=r}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,mo,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,uo,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(r){return o.optionsSearch=r}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(r){return o.optionsStatist=r}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(s);const r=e.MAs(31);return e.KtG(o.onTableSortData(r))}),e.ynx(32,19),e.YNc(33,po,2,1,"mat-header-cell",20),e.YNc(34,_o,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,ho,2,1,"mat-header-cell",20),e.YNc(37,fo,2,1,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,go,2,1,"mat-header-cell",20),e.YNc(40,To,2,1,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,Co,2,1,"mat-header-cell",20),e.YNc(43,So,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,Ao,2,1,"mat-header-cell",20),e.YNc(46,Zo,5,11,"mat-cell",26),e.BQk(),e.ynx(47,27),e.YNc(48,Mo,2,1,"mat-header-cell",20),e.YNc(49,ko,3,4,"mat-cell",21),e.BQk(),e.ynx(50,28),e.YNc(51,vo,2,1,"mat-header-cell",20),e.YNc(52,wo,3,4,"mat-cell",21),e.BQk(),e.ynx(53,29),e.YNc(54,Io,2,1,"mat-header-cell",20),e.YNc(55,Eo,3,3,"mat-cell",21),e.BQk(),e.ynx(56,30),e.YNc(57,Lo,2,1,"mat-header-cell",20),e.YNc(58,xo,3,3,"mat-cell",21),e.BQk(),e.ynx(59,31),e.YNc(60,Uo,2,1,"mat-header-cell",20),e.YNc(61,Ro,3,3,"mat-cell",21),e.BQk(),e.ynx(62,32),e.YNc(63,yo,2,1,"mat-header-cell",20),e.YNc(64,Do,2,1,"mat-cell",21),e.BQk(),e.ynx(65,33),e.YNc(66,No,2,1,"mat-header-cell",20),e.YNc(67,qo,2,1,"mat-cell",21),e.BQk(),e.ynx(68,34),e.YNc(69,Oo,3,3,"mat-header-cell",35),e.YNc(70,Go,20,9,"mat-cell",36),e.BQk(),e.YNc(71,Qo,1,0,"mat-header-row",37),e.YNc(72,Ho,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(73,39),e.TgZ(74,"mat-paginator",40,41),e.NdJ("page",function(r){return o.onTablePageingData(r)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,Fo)))},dependencies:[h.mk,h.O5,h.PC,_.JJ,_.On,j.RK,y.Hw,N.Nt,w.VK,w.OP,w.p6,$.NW,D.Rr,L.YE,L.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,K.y,V.q,W.Z,oe.G,f.X$,X.B,ne.G,ie.Y,ee.r],encapsulation:2})),n})();var z=p(83704),ce=p(51797);const jo=["vform"];function $o(n,a){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Ko(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Vo(n,a){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Wo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," LinkMemberId is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Xo(n,a){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function zo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function en(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",41),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToAllData=s)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.userAccessAdminAllowToAllData)("disabled",!(null!=t.fieldsInfo.userAccessAdminAllowToAllData&&t.fieldsInfo.userAccessAdminAllowToAllData.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function tn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",42),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToProfessionalData=s)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.userAccessAdminAllowToProfessionalData)("disabled",!(null!=t.fieldsInfo.userAccessAdminAllowToProfessionalData&&t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function on(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",43),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.rememberOnDevice=s)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.rememberOnDevice)("disabled",!(null!=t.fieldsInfo.rememberOnDevice&&t.fieldsInfo.rememberOnDevice.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function nn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.browserLanguage="")}),e._uU(1,"close"),e.qZA()}}function sn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.userLanguage=null)}),e._uU(1,"close"),e.qZA()}}function an(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.deviceClientMAC=null)}),e._uU(1,"close"),e.qZA()}}function ln(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.token=null)}),e._uU(1,"close"),e.qZA()}}function rn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.linkDeviceId=null)}),e._uU(1,"close"),e.qZA()}}function cn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.linkApplicationId=null)}),e._uU(1,"close"),e.qZA()}}function dn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.dataModel.expireDate=null)}),e._uU(1,"close"),e.qZA()}}function mn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",5)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",45),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.expireDate=s)}),e.qZA(),e.YNc(4,dn,2,0,"mat-icon",21),e._UZ(5,"mat-datepicker-toggle",46)(6,"mat-datepicker",47,48),e.qZA()}if(2&n){const t=e.MAs(7),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.expireDate?null:o.fieldsInfo.expireDate.fieldTitle),e.xp6(1),e.Q6J("matDatepicker",t)("ngModel",o.dataModel.expireDate),e.xp6(1),e.Q6J("ngIf",o.dataModel.expireDate&&(null==o.fieldsInfo.expireDate?null:o.fieldsInfo.expireDate.accessEditField)),e.xp6(1),e.Q6J("for",t)}}function un(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",49),e.ALo(2,"prettyjson"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.dataModel),e.oJD)}}function pn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"button",50),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onFormCancel())}),e._UZ(2,"i",51),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",52),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onFormSubmit())}),e._UZ(6,"i",53),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let _n=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C){(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"dialogRef",void 0),(0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"coreTokenUserService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"requestId",""),(0,i.Z)(this,"formGroup",void 0),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"dataModel",new c.amQ),(0,i.Z)(this,"formInfo",new c.LEF),(0,i.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,i.Z)(this,"fileManagerOpenForm",!1),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=s,this.coreTokenUserService=l,this.cmsToastrService=r,this.tokenHelper=u,this.publicHelper=g,this.cdr=T,this.translate=C,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceEnumManageUserAccessAreaTypes().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceEnumManageUserAccessUserTypes().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,G.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(c.MZK.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.sending_information_to_the_server")),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorEdit(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionSiteSelect(t){t&&t.id>0&&(this.dataModel.linkSiteId=t.id)}onActionUserSelect(t){t&&t.id>0&&(this.dataModel.linkUserId=t.id)}onActionMemberSelect(t){t&&t.id.length>0&&(this.dataModel.linkMemberId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(S.WI),e.Y36(S.so),e.Y36(c.FLW),e.Y36(c.O0p),e.Y36(M.e),e.Y36(k.v),e.Y36(v.i),e.Y36(e.sBO),e.Y36(f.sK))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(jo,5),2&t){let s;e.iGM(s=e.CRH())&&(o.formGroup=s.first)}},decls:99,vars:62,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["name","dataModel.linkMemberId","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["LinkMemberId","ngModel"],["name","dataModel.userAccessAreaType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"optionDisabled","optionLoading","optionSelectForce","optionPlaceholder","optionChange","optionLoadingChange"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["matInput","","name","dataModel.browserLanguage","type","text","placeholder","BrowserLanguage",3,"ngModel","ngModelChange"],["BrowserLanguage",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.userLanguage","type","text","placeholder","UserLanguage",3,"ngModel","ngModelChange"],["UserLanguage",""],["matInput","","name","dataModel.deviceClientMAC","type","text","placeholder","DeviceClientMAC",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],["matInput","","name","dataModel.token","type","text","placeholder","Token",3,"ngModel","ngModelChange"],["Token",""],["matInput","","name","dataModel.linkDeviceId","type","text","placeholder","LinkDeviceId",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["matInput","","name","dataModel.linkApplicationId","type","text","placeholder","LinkApplicationId",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["class","ntk-full-width",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.expireDate",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["touchUi",""],["ExpireDate",""],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(l){return o.dataModel.recordStatus=l}),e.YNc(9,$o,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Ko,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"mat-form-field",5)(15,"mat-select",11,12),e.NdJ("ngModelChange",function(l){return o.dataModel.linkMemberId=l}),e.ALo(17,"translate"),e.YNc(18,Vo,2,2,"mat-option",8),e.qZA(),e.TgZ(19,"mat-hint",9),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.YNc(22,Wo,5,3,"mat-error",10),e.qZA(),e.TgZ(23,"mat-form-field",5)(24,"mat-select",13,14),e.NdJ("ngModelChange",function(l){return o.dataModel.userAccessAreaType=l}),e.ALo(26,"translate"),e.YNc(27,Xo,2,2,"mat-option",8),e.qZA(),e.TgZ(28,"mat-hint",9),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.YNc(31,zo,5,3,"mat-error",10),e.qZA(),e.TgZ(32,"app-cms-site-selector",15),e.NdJ("optionChange",function(l){return o.onActionSiteSelect(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(33,"app-cms-user-selector",15),e.NdJ("optionChange",function(l){return o.onActionUserSelect(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(34,"app-cms-member-selector",15),e.NdJ("optionChange",function(l){return o.onActionMemberSelect(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(35,"div",5),e.YNc(36,en,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(37,"div",5),e.YNc(38,tn,2,3,"mat-slide-toggle",17),e.qZA(),e.TgZ(39,"div",5),e.YNc(40,on,2,3,"mat-slide-toggle",18),e.qZA(),e.TgZ(41,"mat-form-field",5)(42,"mat-label"),e._uU(43,"BrowserLanguage"),e.qZA(),e.TgZ(44,"input",19,20),e.NdJ("ngModelChange",function(l){return o.dataModel.browserLanguage=l}),e.qZA(),e.YNc(46,nn,2,0,"mat-icon",21),e.TgZ(47,"mat-icon",22),e._uU(48,"mode_edit"),e.qZA()(),e.TgZ(49,"mat-form-field",5)(50,"mat-label"),e._uU(51,"UserLanguage"),e.qZA(),e.TgZ(52,"input",23,24),e.NdJ("ngModelChange",function(l){return o.dataModel.userLanguage=l}),e.qZA(),e.YNc(54,sn,2,0,"mat-icon",21),e.TgZ(55,"mat-icon",22),e._uU(56,"mode_edit"),e.qZA()(),e.TgZ(57,"mat-form-field",5)(58,"mat-label"),e._uU(59,"DeviceClientMAC"),e.qZA(),e.TgZ(60,"input",25,26),e.NdJ("ngModelChange",function(l){return o.dataModel.deviceClientMAC=l}),e.qZA(),e.YNc(62,an,2,0,"mat-icon",21),e.TgZ(63,"mat-icon",22),e._uU(64,"mode_edit"),e.qZA()(),e.TgZ(65,"mat-form-field",5)(66,"mat-label"),e._uU(67,"Token"),e.qZA(),e.TgZ(68,"input",27,28),e.NdJ("ngModelChange",function(l){return o.dataModel.token=l}),e.qZA(),e.YNc(70,ln,2,0,"mat-icon",21),e.TgZ(71,"mat-icon",22),e._uU(72,"mode_edit"),e.qZA()(),e.TgZ(73,"mat-form-field",5)(74,"mat-label"),e._uU(75,"LinkDeviceId"),e.qZA(),e.TgZ(76,"input",29,30),e.NdJ("ngModelChange",function(l){return o.dataModel.linkDeviceId=l}),e.qZA(),e.YNc(78,rn,2,0,"mat-icon",21),e.TgZ(79,"mat-icon",22),e._uU(80,"mode_edit"),e.qZA()(),e.TgZ(81,"mat-form-field",5)(82,"mat-label"),e._uU(83,"LinkApplicationId"),e.qZA(),e.TgZ(84,"input",31,32),e.NdJ("ngModelChange",function(l){return o.dataModel.linkApplicationId=l}),e.qZA(),e.YNc(86,cn,2,0,"mat-icon",21),e.TgZ(87,"mat-icon",22),e._uU(88,"mode_edit"),e.qZA()(),e.YNc(89,mn,8,5,"mat-form-field",33),e.YNc(90,un,3,3,"div",10),e.qZA(),e.TgZ(91,"div",34)(92,"div",35)(93,"small",36),e._uU(94),e.qZA(),e.TgZ(95,"small",37),e._uU(96),e.qZA()()(),e.TgZ(97,"div",38),e.YNc(98,pn,9,7,"div",39),e.qZA()()),2&t){const s=e.MAs(8),l=e.MAs(16),r=e.MAs(25);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("panelClass","recordStatus-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,52,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==s.errors?null:s.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(17,54,"TITLE.Status")),e.MGl("panelClass","LinkMemberId-",o.dataModel.linkMemberId,""),e.Q6J("ngModel",o.dataModel.linkMemberId),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessUserTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(21,56,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(26,58,"TITLE.Status")),e.MGl("panelClass","UserAccessAreaType-",o.dataModel.userAccessAreaType,""),e.Q6J("ngModel",o.dataModel.userAccessAreaType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(30,60,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkMemberId)("optionPlaceholder",o.translate.instant("TITLE.Member")),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToAllData?null:o.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToProfessionalData?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.rememberOnDevice?null:o.fieldsInfo.rememberOnDevice.accessWatchField),e.xp6(4),e.Q6J("ngModel",o.dataModel.browserLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.browserLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.userLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.userLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.deviceClientMAC),e.xp6(2),e.Q6J("ngIf",o.dataModel.deviceClientMAC),e.xp6(6),e.Q6J("ngModel",o.dataModel.token),e.xp6(2),e.Q6J("ngIf",o.dataModel.token),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkDeviceId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkDeviceId),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkApplicationId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkApplicationId),e.xp6(3),e.Q6J("ngIf",null==o.fieldsInfo.expireDate?null:o.fieldsInfo.expireDate.accessWatchField),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display)}},dependencies:[h.sg,h.O5,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.On,_.F,Q.ey,z.Mq,z.hl,z.nW,A.KE,A.hX,A.bx,A.TO,A.R9,y.Hw,N.Nt,B.gD,D.Rr,H.P,F.g,ce.a,E.O,f.X$,se.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),n})();const hn=["vform"];function fn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let gn=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C){(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"dialogRef",void 0),(0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"coreTokenUserService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"requestId",""),(0,i.Z)(this,"formGroup",void 0),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"dataModel",new c.amQ),(0,i.Z)(this,"formInfo",new c.LEF),(0,i.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"fileManagerOpenForm",!1),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=s,this.coreTokenUserService=l,this.cmsToastrService=r,this.tokenHelper=u,this.cdr=g,this.publicHelper=T,this.translate=C,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceEnumSendSmsStatusType().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(S.WI),e.Y36(S.so),e.Y36(c.FLW),e.Y36(c.O0p),e.Y36(M.e),e.Y36(k.v),e.Y36(e.sBO),e.Y36(v.i),e.Y36(f.sK))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(hn,5),2&t){let s;e.iGM(s=e.CRH())&&(o.formGroup=s.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,fn,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display))},dependencies:[h.O5,E.O,P.v,f.X$]})),n})();var Tn=p(35952);function Cn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function Sn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function An(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function bn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",12),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function Zn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Mn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function kn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function vn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function wn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkSiteId," ")}}function In(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function En(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkUserId," ")}}function Ln(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function xn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkMemberId," ")}}function Un(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Rn=function(n){return{display:n}};function yn(n,a){if(1&n&&(e.TgZ(0,"mat-cell",48),e.ALo(1,"statusCellClass"),e._UZ(2,"i",48),e.ALo(3,"statusIconClass"),e._UZ(4,"select",49),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,t.recordStatus)),e.xp6(2),e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(9,Rn,t.id===o.tableRowSelected.id?"":"none"))}}function Dn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Nn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function qn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function On(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Jn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Yn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",48),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Gn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Qn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",48),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function Bn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Hn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",48),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function Fn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Pn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.createdDate)," ")}}function jn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function $n(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.expireDate)," ")}}function Kn(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Vn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Wn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Xn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,52),e.YNc(6,Vn,6,3,"button",53),e.YNc(7,Wn,6,3,"button",53),e.TgZ(8,"button",54),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",54),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"button",54),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewMemberRow(l))}),e.TgZ(21,"mat-icon"),e._uU(22,"assignment_ind"),e.qZA(),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"button",54),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewDeviceRow(l))}),e.TgZ(27,"mat-icon"),e._uU(28,"device_unknown"),e.qZA(),e.TgZ(29,"span"),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,7,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,9,"ACTION.USER")),e.xp6(6),e.Oqu(e.lcZ(25,11,"ACTION.MEMBER")),e.xp6(6),e.Oqu(e.lcZ(31,13,"ACTION.DEVICE"))}}function zn(n,a){1&n&&e._UZ(0,"mat-header-row")}const ei=function(n){return{background:n}};function ti(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",55),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const t=a.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,ei,t.id===o.tableRowSelected.id?"#d3d3da":""))}}const oi=function(){return[5,10,20,100]};let ae=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C,x){if((0,i.Z)(this,"contentService",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"cmsConfirmationDialogService",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"dialog",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"requestLinkSiteId",0),(0,i.Z)(this,"requestLinkUserId",0),(0,i.Z)(this,"requestLinkDeviceId",0),(0,i.Z)(this,"comment",void 0),(0,i.Z)(this,"author",void 0),(0,i.Z)(this,"dataSource",void 0),(0,i.Z)(this,"flag",!1),(0,i.Z)(this,"tableContentSelected",[]),(0,i.Z)(this,"filteModelContent",new c.Hay),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"optionsSearch",new R.dj),(0,i.Z)(this,"optionsStatist",new O.TV),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"tableRowsSelected",[]),(0,i.Z)(this,"tableRowSelected",new c.amQ),(0,i.Z)(this,"tableSource",new m.by),(0,i.Z)(this,"tabledisplayedColumns",[]),(0,i.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"]),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,i.Z)(this,"expandedElement",void 0),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=s,this.cmsConfirmationDialogService=l,this.activatedRoute=r,this.tokenHelper=u,this.dialog=g,this.cdr=T,this.translate=C,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oCf.Descending}ngOnInit(){this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=c.oCf.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.tableRowSelected=new c.amQ;const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:s=>{s.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.loading.Stop(t)},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oCf.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(gn,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(_n,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.tableRowSelected=t,null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),s=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,s).then(l=>{if(l){const r=this.constructor.name+"main";this.loading.Start(r),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(r)},error:u=>{this.cmsToastrService.typeError(u),this.loading.Stop(r)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:r=>{r.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),r.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.loading.Stop(o)},error:r=>{this.cmsToastrService.typeError(r),this.loading.Stop(o)}});const s=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.FVU.Available,s.filters.push(l),this.contentService.ServiceGetCount(s).subscribe({next:r=>{r.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),r.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.loading.Stop(o)},error:r=>{this.cmsToastrService.typeError(r),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(Y.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(J.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(s=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(c.O0p),e.Y36(v.i),e.Y36(M.e),e.Y36(U.s),e.Y36(b.gz),e.Y36(k.v),e.Y36(S.uw),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(b.F0))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:77,vars:32,consts:[[3,"Key","svg"],[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const s=e.EpF();e._UZ(0,"app-cms-guide-notice",0),e.TgZ(1,"app-cms-html-list",1),e.ynx(2,2),e._uU(3," -------------------------------------- "),e.BQk(),e.GkF(4,3),e.ynx(5,4),e.YNc(6,Cn,3,3,"button",5),e.YNc(7,Sn,3,3,"button",6),e.YNc(8,An,3,3,"button",7),e.TgZ(9,"a",8)(10,"mat-slide-toggle",9),e.NdJ("ngModelChange",function(r){return o.optionsSearch.data.show=r}),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"a",8)(14,"mat-slide-toggle",10),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"button",11),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(18,"mat-icon",12),e.ALo(19,"translate"),e._uU(20,"cloud_download"),e.qZA()(),e.YNc(21,bn,4,3,"button",13),e.TgZ(22,"button",11),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(23,"mat-icon",12),e.ALo(24,"translate"),e._uU(25,"refresh"),e.qZA()(),e.YNc(26,Zn,3,3,"button",14),e.BQk(),e.ynx(27,15),e.TgZ(28,"app-cms-search-list",16),e.NdJ("optionsChange",function(r){return o.optionsSearch=r}),e.qZA(),e.TgZ(29,"app-cms-statist-list",16),e.NdJ("optionsChange",function(r){return o.optionsStatist=r}),e.qZA(),e.BQk(),e.ynx(30,17),e.TgZ(31,"mat-table",18,19),e.NdJ("matSortChange",function(){e.CHM(s);const r=e.MAs(32);return e.KtG(o.onTableSortData(r))}),e.ynx(33,20),e.YNc(34,Mn,2,1,"mat-header-cell",21),e.YNc(35,kn,2,1,"mat-cell",22),e.BQk(),e.ynx(36,23),e.YNc(37,vn,2,1,"mat-header-cell",21),e.YNc(38,wn,2,1,"mat-cell",22),e.BQk(),e.ynx(39,24),e.YNc(40,In,2,1,"mat-header-cell",21),e.YNc(41,En,2,1,"mat-cell",22),e.BQk(),e.ynx(42,25),e.YNc(43,Ln,2,1,"mat-header-cell",21),e.YNc(44,xn,2,1,"mat-cell",22),e.BQk(),e.ynx(45,26),e.YNc(46,Un,2,1,"mat-header-cell",21),e.YNc(47,yn,5,11,"mat-cell",27),e.BQk(),e.ynx(48,28),e.YNc(49,Dn,2,1,"mat-header-cell",21),e.YNc(50,Nn,3,4,"mat-cell",22),e.BQk(),e.ynx(51,29),e.YNc(52,qn,2,1,"mat-header-cell",21),e.YNc(53,On,3,4,"mat-cell",22),e.BQk(),e.ynx(54,30),e.YNc(55,Jn,2,1,"mat-header-cell",21),e.YNc(56,Yn,3,3,"mat-cell",22),e.BQk(),e.ynx(57,31),e.YNc(58,Gn,2,1,"mat-header-cell",21),e.YNc(59,Qn,3,3,"mat-cell",22),e.BQk(),e.ynx(60,32),e.YNc(61,Bn,2,1,"mat-header-cell",21),e.YNc(62,Hn,3,3,"mat-cell",22),e.BQk(),e.ynx(63,33),e.YNc(64,Fn,2,1,"mat-header-cell",21),e.YNc(65,Pn,2,1,"mat-cell",22),e.BQk(),e.ynx(66,34),e.YNc(67,jn,2,1,"mat-header-cell",21),e.YNc(68,$n,2,1,"mat-cell",22),e.BQk(),e.ynx(69,35),e.YNc(70,Kn,3,3,"mat-header-cell",36),e.YNc(71,Xn,32,15,"mat-cell",37),e.BQk(),e.YNc(72,zn,1,0,"mat-header-row",38),e.YNc(73,ti,1,3,"mat-row",39),e.qZA(),e.BQk(),e.ynx(74,40),e.TgZ(75,"mat-paginator",41,42),e.NdJ("page",function(r){return o.onTablePageingData(r)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("Key","report.user.list")("svg","assets/media/svg/icons/General/Notifications1.svg"),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(12,23,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(16,25,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(19,27,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(24,29,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(31,oi)))},dependencies:[h.mk,h.O5,h.PC,_.JJ,_.On,j.RK,y.Hw,N.Nt,w.VK,w.OP,w.p6,$.NW,D.Rr,L.YE,L.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,K.y,V.q,Tn.v,W.Z,oe.G,f.X$,X.B,ne.G,ie.Y,ee.r],encapsulation:2})),n})();const ni=["vform"];function ii(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.usedUsername=null)}),e._uU(1,"close"),e.qZA()}}function si(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.usedPwd=null)}),e._uU(1,"close"),e.qZA()}}function ai(n,a){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function li(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function ri(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.linkDeviceId=null)}),e._uU(1,"close"),e.qZA()}}function ci(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.linkApplicationId=null)}),e._uU(1,"close"),e.qZA()}}function di(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.deviceClientMAC=null)}),e._uU(1,"close"),e.qZA()}}function mi(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",30),e.ALo(2,"prettyjson"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.dataModel),e.oJD)}}function ui(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"button",31),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onFormCancel())}),e._UZ(2,"i",32),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let pi=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C){(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"dialogRef",void 0),(0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"coreTokenUserBadLoginService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"requestId",""),(0,i.Z)(this,"formGroup",void 0),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"dataModel",new c.u1Z),(0,i.Z)(this,"formInfo",new c.LEF),(0,i.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,i.Z)(this,"fileManagerOpenForm",!1),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=s,this.coreTokenUserBadLoginService=l,this.cmsToastrService=r,this.tokenHelper=u,this.cdr=g,this.publicHelper=T,this.translate=C,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceEnumManageUserAccessAreaTypes().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,G.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(c.MZK.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(S.WI),e.Y36(S.so),e.Y36(c.FLW),e.Y36(c.Q0Y),e.Y36(M.e),e.Y36(k.v),e.Y36(e.sBO),e.Y36(v.i),e.Y36(f.sK))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(ni,5),2&t){let s;e.iGM(s=e.CRH())&&(o.formGroup=s.first)}},decls:65,vars:38,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["matInput","","name","dataModel.usedUsername","type","text","placeholder","UsedUsername",3,"ngModel","ngModelChange"],["UsedUsername",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.usedPwd","type","text","placeholder","UsedPwd",3,"ngModel","ngModelChange"],["UsedPwd",""],["name","dataModel.userAccessAreaType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["matInput","","name","dataModel.linkDeviceId","type","text","placeholder","LinkDeviceId",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["matInput","","name","dataModel.linkApplicationId","type","text","placeholder","LinkApplicationId",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["matInput","","name","dataModel.deviceClientMAC","type","text","placeholder","DeviceClientMAC",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-label"),e._uU(6,"UsedUsername"),e.qZA(),e.TgZ(7,"input",4,5),e.NdJ("ngModelChange",function(l){return o.dataModel.usedUsername=l}),e.qZA(),e.YNc(9,ii,2,0,"mat-icon",6),e.TgZ(10,"mat-icon",7),e._uU(11,"mode_edit"),e.qZA()(),e.TgZ(12,"mat-form-field",3)(13,"mat-label"),e._uU(14,"UsedPwd"),e.qZA(),e.TgZ(15,"input",8,9),e.NdJ("ngModelChange",function(l){return o.dataModel.usedPwd=l}),e.qZA(),e.YNc(17,si,2,0,"mat-icon",6),e.TgZ(18,"mat-icon",7),e._uU(19,"mode_edit"),e.qZA()(),e.TgZ(20,"mat-form-field",3)(21,"mat-select",10,11),e.NdJ("ngModelChange",function(l){return o.dataModel.userAccessAreaType=l}),e.ALo(23,"translate"),e.YNc(24,ai,2,2,"mat-option",12),e.qZA(),e.TgZ(25,"mat-hint",13),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.YNc(28,li,5,3,"mat-error",14),e.qZA(),e.TgZ(29,"app-cms-site-selector",15),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(30,"app-cms-user-selector",15),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(31,"app-cms-member-selector",15),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(32,"mat-form-field",3)(33,"mat-label"),e._uU(34,"LinkDeviceId"),e.qZA(),e.TgZ(35,"input",16,17),e.NdJ("ngModelChange",function(l){return o.dataModel.linkDeviceId=l}),e.qZA(),e.YNc(37,ri,2,0,"mat-icon",6),e.TgZ(38,"mat-icon",7),e._uU(39,"mode_edit"),e.qZA()(),e.TgZ(40,"mat-form-field",3)(41,"mat-label"),e._uU(42,"LinkApplicationId"),e.qZA(),e.TgZ(43,"input",18,19),e.NdJ("ngModelChange",function(l){return o.dataModel.linkApplicationId=l}),e.qZA(),e.YNc(45,ci,2,0,"mat-icon",6),e.TgZ(46,"mat-icon",7),e._uU(47,"mode_edit"),e.qZA()(),e.TgZ(48,"mat-form-field",3)(49,"mat-label"),e._uU(50,"DeviceClientMAC"),e.qZA(),e.TgZ(51,"input",20,21),e.NdJ("ngModelChange",function(l){return o.dataModel.deviceClientMAC=l}),e.qZA(),e.YNc(53,di,2,0,"mat-icon",6),e.TgZ(54,"mat-icon",7),e._uU(55,"mode_edit"),e.qZA()(),e.YNc(56,mi,3,3,"div",14),e.qZA(),e.TgZ(57,"div",22)(58,"div",23)(59,"small",24),e._uU(60),e.qZA(),e.TgZ(61,"small",25),e._uU(62),e.qZA()()(),e.TgZ(63,"div",26),e.YNc(64,ui,5,3,"div",27),e.qZA()),2&t){const s=e.MAs(22);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(4),e.Q6J("ngModel",o.dataModel.usedUsername),e.xp6(2),e.Q6J("ngIf",o.dataModel.usedUsername),e.xp6(6),e.Q6J("ngModel",o.dataModel.usedPwd),e.xp6(2),e.Q6J("ngIf",o.dataModel.usedPwd),e.xp6(4),e.s9C("placeholder",e.lcZ(23,34,"TITLE.Status")),e.MGl("panelClass","UserAccessAreaType-",o.dataModel.userAccessAreaType,""),e.Q6J("ngModel",o.dataModel.userAccessAreaType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(27,36,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==s.errors?null:s.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.Member")),e.xp6(4),e.Q6J("ngModel",o.dataModel.linkDeviceId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkDeviceId),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkApplicationId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkApplicationId),e.xp6(6),e.Q6J("ngModel",o.dataModel.deviceClientMAC),e.xp6(2),e.Q6J("ngIf",o.dataModel.deviceClientMAC),e.xp6(3),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display)}},dependencies:[h.sg,h.O5,_.Fj,_.JJ,_.Q7,_.On,Q.ey,A.KE,A.hX,A.bx,A.TO,A.R9,y.Hw,N.Nt,B.gD,H.P,F.g,ce.a,E.O,f.X$,se.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),n})();const _i=["vform"];function hi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let fi=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C){(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"dialogRef",void 0),(0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"coreTokenUserBadLoginService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"requestId",""),(0,i.Z)(this,"formGroup",void 0),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"dataModel",new c.u1Z),(0,i.Z)(this,"formInfo",new c.LEF),(0,i.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"fileManagerOpenForm",!1),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=s,this.coreTokenUserBadLoginService=l,this.cmsToastrService=r,this.tokenHelper=u,this.cdr=g,this.publicHelper=T,this.translate=C,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceEnumSendSmsStatusType().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(S.WI),e.Y36(S.so),e.Y36(c.FLW),e.Y36(c.Q0Y),e.Y36(M.e),e.Y36(k.v),e.Y36(e.sBO),e.Y36(v.i),e.Y36(f.sK))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(_i,5),2&t){let s;e.iGM(s=e.CRH())&&(o.formGroup=s.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,hi,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display))},dependencies:[h.O5,E.O,P.v,f.X$]})),n})();function gi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function Ti(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function Ci(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Si(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function Ai(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function bi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Zi(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Mi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function ki(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkSiteId," ")}}function vi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function wi(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkUserId," ")}}function Ii(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ei(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkMemberId," ")}}function Li(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function xi(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ui(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.usedUsername?null:t.fieldsInfo.usedUsername.fieldTitle," ")}}function Ri(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.usedUsername," ")}}function yi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Di(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.createdDate)," ")}}function Ni(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function qi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Oi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Ji(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",41)(1,"button",42)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,43),e.YNc(6,qi,6,3,"button",44),e.YNc(7,Oi,6,3,"button",44),e.TgZ(8,"button",45),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",45),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"button",45),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewMemberRow(l))}),e.TgZ(21,"mat-icon"),e._uU(22,"assignment_ind"),e.qZA(),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"button",45),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewDeviceRow(l))}),e.TgZ(27,"mat-icon"),e._uU(28,"device_unknown"),e.qZA(),e.TgZ(29,"span"),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,7,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,9,"ACTION.USER")),e.xp6(6),e.Oqu(e.lcZ(25,11,"ACTION.MEMBER")),e.xp6(6),e.Oqu(e.lcZ(31,13,"ACTION.DEVICE"))}}function Yi(n,a){1&n&&e._UZ(0,"mat-header-row")}const Gi=function(n){return{background:n}};function Qi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",46),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const t=a.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,Gi,t.id===o.tableRowSelected.id?"#d3d3da":""))}}const Bi=function(){return[5,10,20,100]};let le=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C,x,d){if((0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"contentService",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"cmsConfirmationDialogService",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"dialog",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"requestLinkSiteId",0),(0,i.Z)(this,"requestLinkUserId",0),(0,i.Z)(this,"requestLinkDeviceId",0),(0,i.Z)(this,"comment",void 0),(0,i.Z)(this,"author",void 0),(0,i.Z)(this,"dataSource",void 0),(0,i.Z)(this,"flag",!1),(0,i.Z)(this,"tableContentSelected",[]),(0,i.Z)(this,"filteModelContent",new c.Hay),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"optionsSearch",new R.dj),(0,i.Z)(this,"optionsStatist",new O.TV),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"tableRowsSelected",[]),(0,i.Z)(this,"tableRowSelected",new c.u1Z),(0,i.Z)(this,"tableSource",new m.by),(0,i.Z)(this,"tabledisplayedColumns",[]),(0,i.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate","Action"]),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,i.Z)(this,"expandedElement",void 0),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.coreEnumService=t,this.contentService=o,this.publicHelper=s,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=u,this.dialog=g,this.tokenHelper=T,this.cdr=C,this.translate=x,this.router=d,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const I=new c.AO3;I.propertyName="LinkCmsSiteId",I.value=this.requestLinkSiteId,this.filteModelContent.filters.push(I)}if(this.requestLinkUserId>0){const I=new c.AO3;I.propertyName="LinkUserId",I.value=this.requestLinkUserId,this.filteModelContent.filters.push(I)}if(this.requestLinkDeviceId>0){const I=new c.AO3;I.propertyName="LinkDeviceId",I.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(I)}this.optionsSearch.parentMethods={onSubmit:I=>this.onSubmitOptionsSearch(I)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oCf.Descending}ngOnInit(){this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=c.oCf.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceEnumManageUserAccessAreaTypes().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.tableRowSelected=new c.u1Z;const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:s=>{s.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.loading.Stop(t)},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oCf.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(fi,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(pi,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.tableRowSelected=t,null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),s=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,s).then(l=>{if(l){const r=this.constructor.name+"main";this.loading.Start(r),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(r)},error:u=>{this.cmsToastrService.typeError(u),this.loading.Stop(r)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:r=>{r.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),r.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.loading.Stop(o)},error:r=>{this.cmsToastrService.typeError(r),this.loading.Stop(o)}});const s=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.FVU.Available,s.filters.push(l),this.contentService.ServiceGetCount(s).subscribe({next:r=>{r.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),r.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.loading.Stop(o)},error:r=>{this.cmsToastrService.typeError(r),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(Y.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(J.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(s=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(c.FLW),e.Y36(c.Q0Y),e.Y36(v.i),e.Y36(M.e),e.Y36(U.s),e.Y36(b.gz),e.Y36(S.uw),e.Y36(k.v),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(b.F0))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:61,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,gi,3,3,"button",4),e.YNc(6,Ti,3,3,"button",5),e.YNc(7,Ci,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(r){return o.optionsSearch.data.show=r}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,Si,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,Ai,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(r){return o.optionsSearch=r}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(r){return o.optionsStatist=r}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(s);const r=e.MAs(31);return e.KtG(o.onTableSortData(r))}),e.ynx(32,19),e.YNc(33,bi,2,1,"mat-header-cell",20),e.YNc(34,Zi,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,Mi,2,1,"mat-header-cell",20),e.YNc(37,ki,2,1,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,vi,2,1,"mat-header-cell",20),e.YNc(40,wi,2,1,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,Ii,2,1,"mat-header-cell",20),e.YNc(43,Ei,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,Li,2,1,"mat-header-cell",20),e.YNc(46,xi,3,4,"mat-cell",21),e.BQk(),e.ynx(47,26),e.YNc(48,Ui,2,1,"mat-header-cell",20),e.YNc(49,Ri,2,1,"mat-cell",21),e.BQk(),e.ynx(50,27),e.YNc(51,yi,2,1,"mat-header-cell",20),e.YNc(52,Di,2,1,"mat-cell",21),e.BQk(),e.ynx(53,28),e.YNc(54,Ni,3,3,"mat-header-cell",29),e.YNc(55,Ji,32,15,"mat-cell",30),e.BQk(),e.YNc(56,Yi,1,0,"mat-header-row",31),e.YNc(57,Qi,1,3,"mat-row",32),e.qZA(),e.BQk(),e.ynx(58,33),e.TgZ(59,"mat-paginator",34,35),e.NdJ("page",function(r){return o.onTablePageingData(r)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(26),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,Bi)))},dependencies:[h.O5,h.PC,_.JJ,_.On,j.RK,y.Hw,w.VK,w.OP,w.p6,$.NW,D.Rr,L.YE,L.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,K.y,V.q,W.Z,f.X$,X.B]})),n})();const Hi=["vform"];function Fi(n,a){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Pi(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function ji(n,a){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function $i(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," LinkMemberId is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Ki(n,a){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Vi(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Wi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",39),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToAllData=s)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.userAccessAdminAllowToAllData)("disabled",!(null!=t.fieldsInfo.userAccessAdminAllowToAllData&&t.fieldsInfo.userAccessAdminAllowToAllData.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Xi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",40),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToProfessionalData=s)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.userAccessAdminAllowToProfessionalData)("disabled",!(null!=t.fieldsInfo.userAccessAdminAllowToProfessionalData&&t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function zi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",41),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.rememberOnDevice=s)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.rememberOnDevice)("disabled",!(null!=t.fieldsInfo.rememberOnDevice&&t.fieldsInfo.rememberOnDevice.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function es(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.browserLanguage="")}),e._uU(1,"close"),e.qZA()}}function ts(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.userLanguage=null)}),e._uU(1,"close"),e.qZA()}}function os(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.linkDeviceId=null)}),e._uU(1,"close"),e.qZA()}}function ns(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.linkApplicationId=null)}),e._uU(1,"close"),e.qZA()}}function is(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.deviceClientMAC=null)}),e._uU(1,"close"),e.qZA()}}function ss(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.token=null)}),e._uU(1,"close"),e.qZA()}}function as(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.dataModel.expireDate=null)}),e._uU(1,"close"),e.qZA()}}function ls(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",3)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",43),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.expireDate=s)}),e.qZA(),e.YNc(4,as,2,0,"mat-icon",19),e._UZ(5,"mat-datepicker-toggle",44)(6,"mat-datepicker",45,46),e.qZA()}if(2&n){const t=e.MAs(7),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.expireDate?null:o.fieldsInfo.expireDate.fieldTitle),e.xp6(1),e.Q6J("matDatepicker",t)("ngModel",o.dataModel.expireDate),e.xp6(1),e.Q6J("ngIf",o.dataModel.expireDate&&(null==o.fieldsInfo.expireDate?null:o.fieldsInfo.expireDate.accessEditField)),e.xp6(1),e.Q6J("for",t)}}function rs(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",47),e.ALo(2,"prettyjson"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.dataModel),e.oJD)}}function cs(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"button",48),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onFormCancel())}),e._UZ(2,"i",49),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ds=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C){(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"dialogRef",void 0),(0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"coreTokenUserLogService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"requestId",""),(0,i.Z)(this,"formGroup",void 0),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"dataModel",new c.nZM),(0,i.Z)(this,"formInfo",new c.LEF),(0,i.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,i.Z)(this,"fileManagerOpenForm",!1),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=s,this.coreTokenUserLogService=l,this.cmsToastrService=r,this.tokenHelper=u,this.cdr=g,this.publicHelper=T,this.translate=C,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceEnumManageUserAccessAreaTypes().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceEnumManageUserAccessUserTypes().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,G.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.setAccessDataType(c.MZK.Editor),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(S.WI),e.Y36(S.so),e.Y36(c.FLW),e.Y36(c.AMA),e.Y36(M.e),e.Y36(k.v),e.Y36(e.sBO),e.Y36(v.i),e.Y36(f.sK))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(Hi,5),2&t){let s;e.iGM(s=e.CRH())&&(o.formGroup=s.first)}},decls:97,vars:62,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["name","dataModel.linkMemberId","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["LinkMemberId","ngModel"],["name","dataModel.userAccessAreaType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["matInput","","name","dataModel.browserLanguage","type","text","placeholder","BrowserLanguage",3,"ngModel","ngModelChange"],["BrowserLanguage",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.userLanguage","type","text","placeholder","UserLanguage",3,"ngModel","ngModelChange"],["UserLanguage",""],["matInput","","name","dataModel.linkDeviceId","type","text","placeholder","LinkDeviceId",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["matInput","","name","dataModel.linkApplicationId","type","text","placeholder","LinkApplicationId",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["matInput","","name","dataModel.deviceClientMAC","type","text","placeholder","DeviceClientMAC",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],["matInput","","name","dataModel.token","type","text","placeholder","Token",3,"ngModel","ngModelChange"],["Token",""],["class","ntk-full-width",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.expireDate",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["touchUi",""],["ExpireDate",""],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(l){return o.dataModel.recordStatus=l}),e.YNc(7,Fi,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,Pi,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field",3)(13,"mat-select",9,10),e.NdJ("ngModelChange",function(l){return o.dataModel.linkMemberId=l}),e.ALo(15,"translate"),e.YNc(16,ji,2,2,"mat-option",6),e.qZA(),e.TgZ(17,"mat-hint",7),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,$i,5,3,"mat-error",8),e.qZA(),e.TgZ(21,"mat-form-field",3)(22,"mat-select",11,12),e.NdJ("ngModelChange",function(l){return o.dataModel.userAccessAreaType=l}),e.ALo(24,"translate"),e.YNc(25,Ki,2,2,"mat-option",6),e.qZA(),e.TgZ(26,"mat-hint",7),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.YNc(29,Vi,5,3,"mat-error",8),e.qZA(),e.TgZ(30,"app-cms-site-selector",13),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(31,"app-cms-user-selector",13),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(32,"app-cms-member-selector",13),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(33,"div",3),e.YNc(34,Wi,2,3,"mat-slide-toggle",14),e.qZA(),e.TgZ(35,"div",3),e.YNc(36,Xi,2,3,"mat-slide-toggle",15),e.qZA(),e.TgZ(37,"div",3),e.YNc(38,zi,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(39,"mat-form-field",3)(40,"mat-label"),e._uU(41,"BrowserLanguage"),e.qZA(),e.TgZ(42,"input",17,18),e.NdJ("ngModelChange",function(l){return o.dataModel.browserLanguage=l}),e.qZA(),e.YNc(44,es,2,0,"mat-icon",19),e.TgZ(45,"mat-icon",20),e._uU(46,"mode_edit"),e.qZA()(),e.TgZ(47,"mat-form-field",3)(48,"mat-label"),e._uU(49,"UserLanguage"),e.qZA(),e.TgZ(50,"input",21,22),e.NdJ("ngModelChange",function(l){return o.dataModel.userLanguage=l}),e.qZA(),e.YNc(52,ts,2,0,"mat-icon",19),e.TgZ(53,"mat-icon",20),e._uU(54,"mode_edit"),e.qZA()(),e.TgZ(55,"mat-form-field",3)(56,"mat-label"),e._uU(57,"LinkDeviceId"),e.qZA(),e.TgZ(58,"input",23,24),e.NdJ("ngModelChange",function(l){return o.dataModel.linkDeviceId=l}),e.qZA(),e.YNc(60,os,2,0,"mat-icon",19),e.TgZ(61,"mat-icon",20),e._uU(62,"mode_edit"),e.qZA()(),e.TgZ(63,"mat-form-field",3)(64,"mat-label"),e._uU(65,"LinkApplicationId"),e.qZA(),e.TgZ(66,"input",25,26),e.NdJ("ngModelChange",function(l){return o.dataModel.linkApplicationId=l}),e.qZA(),e.YNc(68,ns,2,0,"mat-icon",19),e.TgZ(69,"mat-icon",20),e._uU(70,"mode_edit"),e.qZA()(),e.TgZ(71,"mat-form-field",3)(72,"mat-label"),e._uU(73,"DeviceClientMAC"),e.qZA(),e.TgZ(74,"input",27,28),e.NdJ("ngModelChange",function(l){return o.dataModel.deviceClientMAC=l}),e.qZA(),e.YNc(76,is,2,0,"mat-icon",19),e.TgZ(77,"mat-icon",20),e._uU(78,"mode_edit"),e.qZA()(),e.TgZ(79,"mat-form-field",3)(80,"mat-label"),e._uU(81,"Token"),e.qZA(),e.TgZ(82,"input",29,30),e.NdJ("ngModelChange",function(l){return o.dataModel.token=l}),e.qZA(),e.YNc(84,ss,2,0,"mat-icon",19),e.TgZ(85,"mat-icon",20),e._uU(86,"mode_edit"),e.qZA()(),e.YNc(87,ls,8,5,"mat-form-field",31),e.YNc(88,rs,3,3,"div",8),e.qZA(),e.TgZ(89,"div",32)(90,"div",33)(91,"small",34),e._uU(92),e.qZA(),e.TgZ(93,"small",35),e._uU(94),e.qZA()()(),e.TgZ(95,"div",36),e.YNc(96,cs,5,3,"div",37),e.qZA()),2&t){const s=e.MAs(6),l=e.MAs(14),r=e.MAs(23);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("panelClass","recordStatus-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,52,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==s.errors?null:s.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(15,54,"TITLE.Status")),e.MGl("panelClass","LinkMemberId-",o.dataModel.linkMemberId,""),e.Q6J("ngModel",o.dataModel.linkMemberId),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessUserTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(19,56,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(24,58,"TITLE.Status")),e.MGl("panelClass","UserAccessAreaType-",o.dataModel.userAccessAreaType,""),e.Q6J("ngModel",o.dataModel.userAccessAreaType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(28,60,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.Member")),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToAllData?null:o.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToProfessionalData?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.rememberOnDevice?null:o.fieldsInfo.rememberOnDevice.accessWatchField),e.xp6(4),e.Q6J("ngModel",o.dataModel.browserLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.browserLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.userLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.userLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkDeviceId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkDeviceId),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkApplicationId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkApplicationId),e.xp6(6),e.Q6J("ngModel",o.dataModel.deviceClientMAC),e.xp6(2),e.Q6J("ngIf",o.dataModel.deviceClientMAC),e.xp6(6),e.Q6J("ngModel",o.dataModel.token),e.xp6(2),e.Q6J("ngIf",o.dataModel.token),e.xp6(3),e.Q6J("ngIf",null==o.fieldsInfo.expireDate?null:o.fieldsInfo.expireDate.accessWatchField),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display)}},dependencies:[h.sg,h.O5,_.Fj,_.JJ,_.Q7,_.On,Q.ey,z.Mq,z.hl,z.nW,A.KE,A.hX,A.bx,A.TO,A.R9,y.Hw,N.Nt,B.gD,D.Rr,H.P,F.g,ce.a,E.O,f.X$,se.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),n})();const ms=["vform"];function us(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ps=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C){(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"dialogRef",void 0),(0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"coreTokenUserLogService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"requestId",""),(0,i.Z)(this,"formGroup",void 0),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"dataModel",new c.nZM),(0,i.Z)(this,"formInfo",new c.LEF),(0,i.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"fileManagerOpenForm",!1),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=s,this.coreTokenUserLogService=l,this.cmsToastrService=r,this.tokenHelper=u,this.cdr=g,this.publicHelper=T,this.translate=C,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceEnumSendSmsStatusType().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(S.WI),e.Y36(S.so),e.Y36(c.FLW),e.Y36(c.AMA),e.Y36(M.e),e.Y36(k.v),e.Y36(e.sBO),e.Y36(v.i),e.Y36(f.sK))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(ms,5),2&t){let s;e.iGM(s=e.CRH())&&(o.formGroup=s.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,us,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display))},dependencies:[h.O5,E.O,P.v,f.X$]})),n})();function _s(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function hs(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function fs(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function gs(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function Ts(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Cs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Ss(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function As(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," ")}}function bs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function Zs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ms(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkSiteId," ")}}function ks(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function vs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkUserId," ")}}function ws(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Is(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function Es(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ls(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function xs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Us(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Rs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function ys(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",45),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Ds(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ns(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",45),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function qs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Os(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",45),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function Js(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Ys(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.createdDate)," ")}}function Gs(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Qs(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Bs(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Hs(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewSiteRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"web"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.SITE")))}function Fs(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewUserRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"supervisor_account"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.USER")))}function Ps(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewMemberRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"assignment_ind"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.MEMBER")))}function js(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewDeviceRow(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"device_unknown"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DEVICE")))}function $s(n,a){if(1&n&&(e.TgZ(0,"mat-cell",46)(1,"button",47)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,48),e.YNc(6,Qs,6,3,"button",49),e.YNc(7,Bs,6,3,"button",49),e.YNc(8,Hs,6,3,"button",49),e.YNc(9,Fs,6,3,"button",49),e.YNc(10,Ps,6,3,"button",49),e.YNc(11,js,6,3,"button",49),e.qZA()()),2&n){const t=a.$implicit,o=e.MAs(5),s=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",o),e.xp6(5),e.Q6J("ngIf",s.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",s.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",t.linkSiteId>0),e.xp6(1),e.Q6J("ngIf",t.linkUserId>0),e.xp6(1),e.Q6J("ngIf",t.linkMemberUserId>0),e.xp6(1),e.Q6J("ngIf",(null==t.deviceClientMAC?null:t.deviceClientMAC.length)>0)}}function Ks(n,a){1&n&&e._UZ(0,"mat-header-row")}const Vs=function(n){return{background:n}};function Ws(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",51),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const t=a.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,Vs,t.id===o.tableRowSelected.id?"#d3d3da":""))}}const Xs=function(){return[5,10,20,100]};let re=(()=>{class n{constructor(t,o,s,l,r,u,g,T,C,x){if((0,i.Z)(this,"contentService",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"cmsConfirmationDialogService",void 0),(0,i.Z)(this,"activatedRoute",void 0),(0,i.Z)(this,"dialog",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"requestLinkSiteId",0),(0,i.Z)(this,"requestLinkUserId",0),(0,i.Z)(this,"requestLinkDeviceId",0),(0,i.Z)(this,"comment",void 0),(0,i.Z)(this,"author",void 0),(0,i.Z)(this,"dataSource",void 0),(0,i.Z)(this,"flag",!1),(0,i.Z)(this,"tableContentSelected",[]),(0,i.Z)(this,"filteModelContent",new c.Hay),(0,i.Z)(this,"dataModelResult",new c.y$4),(0,i.Z)(this,"optionsSearch",new R.dj),(0,i.Z)(this,"optionsStatist",new O.TV),(0,i.Z)(this,"tokenInfo",new c.OdC),(0,i.Z)(this,"loading",new Z.O),(0,i.Z)(this,"tableRowsSelected",[]),(0,i.Z)(this,"tableRowSelected",new c.nZM),(0,i.Z)(this,"tableSource",new m.by),(0,i.Z)(this,"tabledisplayedColumns",[]),(0,i.Z)(this,"tabledisplayedColumnsSource",["Id","Description","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","Action"]),(0,i.Z)(this,"fieldsInfo",new Map),(0,i.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,i.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,i.Z)(this,"expandedElement",void 0),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=s,this.cmsConfirmationDialogService=l,this.activatedRoute=r,this.dialog=u,this.tokenHelper=g,this.cdr=T,this.translate=C,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oCf.Descending}ngOnInit(){this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=c.oCf.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.tableRowSelected=new c.nZM;const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:s=>{s.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.loading.Stop(t)},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oCf.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ps,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ds,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.tableRowSelected=t,null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),s=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,s).then(l=>{if(l){const r=this.constructor.name+"ServiceDelete";this.loading.Start(r),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(r)},error:u=>{this.cmsToastrService.typeError(u),this.loading.Stop(r)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:r=>{r.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),r.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.loading.Stop(o)},error:r=>{this.cmsToastrService.typeError(r),this.loading.Stop(o)}});const s=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.FVU.Available,s.filters.push(l),this.contentService.ServiceGetCount(s).subscribe({next:r=>{r.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),r.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.loading.Stop(o)},error:r=>{this.cmsToastrService.typeError(r),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(Y.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(J.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(s=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(c.AMA),e.Y36(v.i),e.Y36(M.e),e.Y36(U.s),e.Y36(b.gz),e.Y36(S.uw),e.Y36(k.v),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(b.F0))}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:73,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,_s,3,3,"button",4),e.YNc(6,hs,3,3,"button",5),e.YNc(7,fs,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(r){return o.optionsSearch.data.show=r}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,gs,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,Ts,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(r){return o.optionsSearch=r}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(r){return o.optionsStatist=r}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(s);const r=e.MAs(31);return e.KtG(o.onTableSortData(r))}),e.ynx(32,19),e.YNc(33,Cs,2,1,"mat-header-cell",20),e.YNc(34,Ss,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,As,2,1,"mat-header-cell",20),e.YNc(37,bs,2,1,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,Zs,2,1,"mat-header-cell",20),e.YNc(40,Ms,2,1,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,ks,2,1,"mat-header-cell",20),e.YNc(43,vs,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,ws,2,1,"mat-header-cell",20),e.YNc(46,Is,2,1,"mat-cell",21),e.BQk(),e.ynx(47,26),e.YNc(48,Es,2,1,"mat-header-cell",20),e.YNc(49,Ls,3,4,"mat-cell",21),e.BQk(),e.ynx(50,27),e.YNc(51,xs,2,1,"mat-header-cell",20),e.YNc(52,Us,3,4,"mat-cell",21),e.BQk(),e.ynx(53,28),e.YNc(54,Rs,2,1,"mat-header-cell",20),e.YNc(55,ys,3,3,"mat-cell",21),e.BQk(),e.ynx(56,29),e.YNc(57,Ds,2,1,"mat-header-cell",20),e.YNc(58,Ns,3,3,"mat-cell",21),e.BQk(),e.ynx(59,30),e.YNc(60,qs,2,1,"mat-header-cell",20),e.YNc(61,Os,3,3,"mat-cell",21),e.BQk(),e.ynx(62,31),e.YNc(63,Js,2,1,"mat-header-cell",20),e.YNc(64,Ys,2,1,"mat-cell",21),e.BQk(),e.ynx(65,32),e.YNc(66,Gs,3,3,"mat-header-cell",33),e.YNc(67,$s,12,7,"mat-cell",34),e.BQk(),e.YNc(68,Ks,1,0,"mat-header-row",35),e.YNc(69,Ws,1,3,"mat-row",36),e.qZA(),e.BQk(),e.ynx(70,37),e.TgZ(71,"mat-paginator",38,39),e.NdJ("page",function(r){return o.onTablePageingData(r)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(38),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,Xs)))},dependencies:[h.mk,h.O5,h.PC,_.JJ,_.On,j.RK,y.Hw,w.VK,w.OP,w.p6,$.NW,D.Rr,L.YE,L.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,K.y,V.q,W.Z,f.X$,X.B,ee.r]})),n})();const zs=[{path:"",component:it,children:[{path:"user",component:ae},{path:"user/LinkSiteId/:LinkSiteId",component:ae},{path:"user/LinkUserId/:LinkUserId",component:ae},{path:"user/LinkDeviceId/:LinkDeviceId",component:ae},{path:"userlog",component:re},{path:"userlog/LinkSiteId/:LinkSiteId",component:re},{path:"userlog/LinkUserId/:LinkUserId",component:re},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:re},{path:"userbadlogin",component:le},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:le},{path:"userbadlogin/LinkUserId/:LinkUserId",component:le},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:le},{path:"activation",component:nt},{path:"microservice",component:Po},{path:"microservicelog",component:Wt}]}];let ea=(()=>{class n{}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)}),(0,i.Z)(n,"\u0275mod",e.oAB({type:n})),(0,i.Z)(n,"\u0275inj",e.cJS({imports:[b.Bz.forChild(zs),b.Bz]})),n})(),ta=(()=>{class n{}return(0,i.Z)(n,"\u0275fac",function(t){return new(t||n)}),(0,i.Z)(n,"\u0275mod",e.oAB({type:n})),(0,i.Z)(n,"\u0275inj",e.cJS({providers:[c.EAm,c.FLW,c.O0p,c.AMA,c.Q0Y,c.x6v,c.mPJ,c.qOP,c.k$Z,U.s],imports:[ea,h.ez,_.u5,_.UX.withConfig({warnOnNgModelWithFormControl:"never"}),q.m.forRoot()]})),n})()},99654:(de,te,p)=>{p.d(te,{B:()=>_});var i=p(86889),h=p(64537);let _=(()=>{class c{transform(q,b){if(!b||0===b.length)return"";const m=b.find(R=>R.key===q||R.value===q);return m?m.description:""}}return(0,i.Z)(c,"\u0275fac",function(q){return new(q||c)}),(0,i.Z)(c,"\u0275pipe",h.Yjl({name:"enums",type:c,pure:!0})),c})()}}]);