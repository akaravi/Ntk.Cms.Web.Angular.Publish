"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[4389,6784,918,9907],{46272:(T,C,o)=>{o.r(C),o.d(C,{WebDesignerBuilderModule:()=>O});var t=o(86889),n=o(27165),f=o(88692),p=o(20092),a=o(88659),s=o(83331),v=o(80707),_=o(4721),l=o(53794),A=o(4467),c=o(34511),Z=o(6087),b=o(17360),i=o(26114);class r{constructor(){(0,t.Z)(this,"configRouteTemplateFileImage",void 0),(0,t.Z)(this,"configRouteFileStorage",void 0),(0,t.Z)(this,"cmsSite",void 0),(0,t.Z)(this,"cmsPage",void 0),(0,t.Z)(this,"cmsParentPage",void 0),(0,t.Z)(this,"cmsPageTemplate",void 0),(0,t.Z)(this,"moduleInfoes",void 0),(0,t.Z)(this,"templateConfig",void 0),(0,t.Z)(this,"bodySetting",void 0)}}var m=o(60656),e=o(64537),D=o(50727),k=o(56707),E=o(32607),B=o(94032),M=o(75738);const y=[{path:"",component:(()=>{class d{constructor(h,u,g,P,I,W){(0,t.Z)(this,"tokenHelper",void 0),(0,t.Z)(this,"cdr",void 0),(0,t.Z)(this,"translate",void 0),(0,t.Z)(this,"cmsToastrService",void 0),(0,t.Z)(this,"publicHelper",void 0),(0,t.Z)(this,"webDesignerMainPageService",void 0),(0,t.Z)(this,"requestId",""),(0,t.Z)(this,"cmsApiStoreSubscribe",void 0),(0,t.Z)(this,"tokenInfo",new c.OdC),(0,t.Z)(this,"loading",new m.O),(0,t.Z)(this,"fieldsInfo",new Map),(0,t.Z)(this,"dataModel",new r),(0,t.Z)(this,"dataPageModel",new c.RIQ),(0,t.Z)(this,"dataModelResult",new c.y$4),this.tokenHelper=h,this.cdr=u,this.translate=g,this.cmsToastrService=P,this.publicHelper=I,this.webDesignerMainPageService=W,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}ngOnInit(){this.tokenHelper.getCurrentToken().then(h=>{this.tokenInfo=h,this.DataGetOneContent(),this.tokenHelper.CheckIsAdmin()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(h=>{this.tokenInfo=h,this.DataGetOneContent(),this.tokenHelper.CheckIsAdmin()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){const h=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.loading.Start(h),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(c.dR.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe(u=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(u.access),this.dataPageModel=u.item,u.isSuccess||this.cmsToastrService.typeErrorMessage(u.errorMessage),this.loading.Stop(h)},u=>{this.cmsToastrService.typeError(u),this.loading.Stop(h)})}onActionAdd(){}}return(0,t.Z)(d,"\u0275fac",function(h){return new(h||d)(e.Y36(D.v),e.Y36(e.sBO),e.Y36(k.sK),e.Y36(E.e),e.Y36(B.i),e.Y36(c.SUF))}),(0,t.Z)(d,"\u0275cmp",e.Xpm({type:d,selectors:[["app-web-designer-builder"]],decls:50,vars:1,consts:[[1,"row"],["Class","col-xl-2"],[1,"ntk-cms-html-tree-header"],["type","button",1,"btn","btn-outline-primary",2,"width","98%",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"ntk-cms-html-tree-body"],[1,"ntk-cms-html-tree-footer"],["Class","col-xl-10"],[1,"ntk-cms-html-list-header"],[3,"options"],[1,"ntk-cms-html-list-footer"]],template:function(h,u){1&h&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(4,"\u0630\u062e\u06cc\u0631\u0647 \u0645\u062d\u062a\u0648\u0627"),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(6,"\u062d\u0630\u0641 \u0645\u062d\u062a\u0648\u0627"),e.qZA(),e.TgZ(7,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(8,"\u0628\u0627\u0631\u06af\u0632\u0627\u0631\u06cc \u0645\u062c\u062f\u062f \u0645\u062d\u062a\u0648\u0627"),e.qZA(),e.TgZ(9,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(10,"\u0628\u0627\u0631\u06af\u0632\u0627\u0631\u06cc \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0645\u062d\u062a\u0648\u0627"),e.qZA(),e.TgZ(11,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(12,"\u0628\u0627\u0631\u06af\u0632\u0627\u0631\u06cc \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0645\u062d\u062a\u0648\u0627"),e.qZA(),e.TgZ(13,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(14,"\u062f\u0631\u0648\u0646 \u0631\u06cc\u0632\u06cc \u0645\u062d\u062a\u0648\u0627"),e.qZA(),e.TgZ(15,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(16,"\u0628\u0631\u0631\u0648\u0646 \u0631\u06cc\u0632\u06cc \u0645\u062d\u062a\u0648\u0627"),e.qZA(),e.TgZ(17,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(18,"\u062a\u0627\u0631\u06cc\u062e\u0686\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0645\u062d\u062a\u0648\u0627"),e.qZA()(),e.TgZ(19,"div",2),e._uU(20," \u0633\u0627\u06cc\u0632 \u0646\u0645\u0627\u06cc\u0634 "),e._UZ(21,"br"),e.TgZ(22,"button",4),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(23,"lg"),e.qZA(),e.TgZ(24,"button",4),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(25,"md"),e.qZA(),e.TgZ(26,"button",4),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(27,"sm"),e.qZA(),e.TgZ(28,"button",4),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(29,"xs"),e.qZA()(),e.TgZ(30,"div",2),e._uU(31," \u0646\u0645\u0627\u06cc\u0634 "),e._UZ(32,"br"),e.TgZ(33,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(34,"\u067e\u06cc\u0634 \u0646\u0645\u0627\u06cc\u0634"),e.qZA(),e.TgZ(35,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(36,"\u067e\u06cc\u0634 \u0646\u0645\u0627\u06cc\u0634 \u0628\u0627 \u0635\u0641\u062d\u0647 \u0645\u0627\u062f\u0631"),e.qZA()(),e.TgZ(37,"div",5),e._uU(38," body "),e.qZA(),e.TgZ(39,"div",6),e._uU(40," tree-footer "),e.qZA()(),e.TgZ(41,"div",7)(42,"div",8)(43,"button",4),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(44,"\u0627\u06cc\u062c\u0627\u062f \u0631\u062f\u06cc\u0641"),e.qZA()(),e.TgZ(45,"div"),e._UZ(46,"app-progress-spinner",9),e._uU(47," Body "),e.qZA(),e.TgZ(48,"div",10),e._uU(49," footer "),e.qZA()()()),2&h&&(e.xp6(46),e.Q6J("options",u.loading))},dependencies:[M.O]})),d})(),data:{title:"ROUTE.WEBDESIGNERBUILDER"},children:[]}];let R=(()=>{class d{}return(0,t.Z)(d,"\u0275fac",function(h){return new(h||d)}),(0,t.Z)(d,"\u0275mod",e.oAB({type:d})),(0,t.Z)(d,"\u0275inj",e.cJS({imports:[i.Bz.forChild(y),i.Bz]})),d})(),O=(()=>{class d{}return(0,t.Z)(d,"\u0275fac",function(h){return new(h||d)}),(0,t.Z)(d,"\u0275mod",e.oAB({type:d})),(0,t.Z)(d,"\u0275inj",e.cJS({providers:[c.EAm,c.FLW,c.Z8z,c.dF2,c.PwI,c.VqD,c.UIH,c.zef,c.KQH,c.SUF,c.eck,c.BeA,c.cW6,c.qgh],imports:[f.ez,R,p.u5,p.UX.withConfig({warnOnNgModelWithFormControl:"never"}),Z.m.forRoot(),_.UM,s.Ps,a.lN,v.T5,l.e4,A.FR,n._t,b.CoreModuleModule]})),d})()},13673:(T,C,o)=>{o.d(C,{G:()=>c});var t=o(8239),n=o(86889),f=o(88692),p=o(34511),a=o(64537),s=o(94032),v=o(32607);let c=(()=>{class Z{constructor(i,r,m,e,D,k){(0,n.Z)(this,"elRef",void 0),(0,n.Z)(this,"renderer",void 0),(0,n.Z)(this,"publicHelper",void 0),(0,n.Z)(this,"cmsToastrService",void 0),(0,n.Z)(this,"cdr",void 0),(0,n.Z)(this,"document",void 0),(0,n.Z)(this,"row",void 0),(0,n.Z)(this,"contentService",void 0),this.elRef=i,this.renderer=r,this.publicHelper=m,this.cmsToastrService=e,this.cdr=D,this.document=k,this.getEnumRecordStatus()}getEnumRecordStatus(){var i=this;return(0,t.Z)(function*(){(yield i.publicHelper.getEnumRecordStatus()).listItems.forEach(m=>{const e=document.createElement("option");e.innerHTML=" "+m.title+' <i Class="'+i.iconStatus(m.value)+'"></i>',e.value=m.value.toString(),i.elRef.nativeElement.add(e)}),i.elRef.nativeElement.options.length>0&&i.row&&i.row.recordStatus&&i.renderer.setProperty(i.elRef.nativeElement,"value",i.row.recordStatus)})()}onChange(){const i=this.elRef.nativeElement,r=i.value;this.addLoader(i),this.contentService.setAccessDataType(p.dR.Editor),this.contentService.ServiceSetStatus(this.row.id,r).subscribe(m=>{m.isSuccess?(this.handleSuccessCase(i),this.cmsToastrService.typeSuccessSetStatus(m.errorMessage),this.row.recordStatus=0|r,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeErrorSetStatus(m.errorMessage),this.handleErrorCase(i))},m=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeError(m),this.handleErrorCase(i)})}handleSuccessCase(i){this.removeBackground(i),this.addSuccess(i),setTimeout(()=>{this.removeBackground(i)},1e3)}handleErrorCase(i){this.removeBackground(i);const r=this.document.createElement("img");r.style.width="20px",r.src="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png";const m=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(m,r),setTimeout(()=>{this.renderer.removeChild(m,r)},1e3)}addLoader(i){this.addBackground(i,"https://replit.com/public/images/loading_dots.gif",20)}addSuccess(i){this.addBackground(i,"https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",20)}addBackground(i,r,m){i.style.background=`#fff url("${r}") no-repeat right 20px center`,i.style.backgroundSize=`${m}px`}removeBackground(i){i.style.background="none"}iconStatus(i){let r="";switch(i){case 1:default:r="fa fa-check";break;case 2:r="fa fa-eye-slash";break;case 3:r="fa fa-times";break;case 4:r="fa fa-hourglass-half";break;case 5:r="far fa-thumbs-down";break;case 6:r="fa fa-archive"}return r}}return(0,n.Z)(Z,"\u0275fac",function(i){return new(i||Z)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(s.i),a.Y36(v.e),a.Y36(a.sBO),a.Y36(f.K0))}),(0,n.Z)(Z,"\u0275dir",a.lG2({type:Z,selectors:[["","cmsRecordStatusSelfSave",""]],hostBindings:function(i,r){1&i&&a.NdJ("change",function(){return r.onChange()})},inputs:{row:"row",contentService:"contentService"}})),Z})()},81418:(T,C,o)=>{o.d(C,{v:()=>f});var t=o(86889),n=o(64537);let f=(()=>{class p{transform(s){return(s+="").replace("/images/","/thumbnails/")}}return(0,t.Z)(p,"\u0275fac",function(s){return new(s||p)}),(0,t.Z)(p,"\u0275pipe",n.Yjl({name:"cmsthumbnail",type:p,pure:!0})),p})()},86639:(T,C,o)=>{o.d(C,{G:()=>p});var t=o(86889),n=o(64537),f=o(5998);let p=(()=>{class a{constructor(v){(0,t.Z)(this,"sanitizer",void 0),this.sanitizer=v}transform(v,_=!1){let l="";switch(v){case 1:default:l="fa fa-check";break;case 2:l="fa fa-times";break;case 3:l="fa fa-trash";break;case 4:l="fa fa-hourglass-half";break;case 5:l="far fa-thumbs-down";break;case 6:l="fa fa-archive"}return l}}return(0,t.Z)(a,"\u0275fac",function(v){return new(v||a)(n.Y36(f.H7,16))}),(0,t.Z)(a,"\u0275pipe",n.Yjl({name:"statusIconClass",type:a,pure:!0})),a})()},83914:(T,C,o)=>{o.d(C,{s:()=>a});var t=o(86889),n=o(64537),f=o(58219);let p=(()=>{class s{constructor(_){(0,t.Z)(this,"activeModal",void 0),(0,t.Z)(this,"id",++s.nextId),(0,t.Z)(this,"title",void 0),(0,t.Z)(this,"message",void 0),(0,t.Z)(this,"btnOkText",void 0),(0,t.Z)(this,"btnCancelText",void 0),this.activeModal=_}ngOnInit(){}decline(){this.activeModal.close(!1)}accept(){this.activeModal.close(!0)}dismiss(){this.activeModal.dismiss()}}return(0,t.Z)(s,"nextId",0),(0,t.Z)(s,"\u0275fac",function(_){return new(_||s)(n.Y36(f.Kz))}),(0,t.Z)(s,"\u0275cmp",n.Xpm({type:s,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText",btnCancelText:"btnCancelText"},decls:12,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(_,l){1&_&&(n.TgZ(0,"div",0)(1,"h4",1),n._uU(2),n.qZA(),n.TgZ(3,"button",2),n.NdJ("click",function(){return l.dismiss()}),n.TgZ(4,"span",3),n._uU(5,"\xd7"),n.qZA()()(),n._UZ(6,"div",4),n.TgZ(7,"div",5)(8,"button",6),n.NdJ("click",function(){return l.decline()}),n._uU(9),n.qZA(),n.TgZ(10,"button",7),n.NdJ("click",function(){return l.accept()}),n._uU(11),n.qZA()()),2&_&&(n.xp6(2),n.Oqu(l.title),n.xp6(4),n.Q6J("innerHTML",l.message,n.oJD),n.xp6(3),n.Oqu(l.btnCancelText),n.xp6(2),n.Oqu(l.btnOkText))},encapsulation:2})),s})(),a=(()=>{class s{constructor(_){(0,t.Z)(this,"modalService",void 0),this.modalService=_}confirm(_,l,A="OK",c="Cancel",Z="sm"){const b=this.modalService.open(p,{size:Z});return b.componentInstance.title=_,b.componentInstance.message=l,b.componentInstance.btnOkText=A,b.componentInstance.btnCancelText=c,b.result}}return(0,t.Z)(s,"\u0275fac",function(_){return new(_||s)(n.LFG(f.FF))}),(0,t.Z)(s,"\u0275prov",n.Yz7({token:s,factory:s.\u0275fac})),s})()}}]);