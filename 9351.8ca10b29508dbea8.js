"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[9351],{39084:(N,v,r)=>{r.d(v,{Y:()=>Z});var i=r(86889),M=r(87241),p=r(27969),S=r(64537),A=r(34511);let Z=(()=>{var t;class _{constructor(u){(0,i.Z)(this,"service",void 0),this.service=u}transform(u){return!u||u<=0?new M.y:this.service.ServiceGetOneById(u).pipe((0,p.U)(d=>{var m="";return d.isSuccess&&(d.item.title&&d.item.title.length>0&&(m=d.item.title),d.item.id&&d.item.id>0&&(m.length>0&&(m+=" | "),m+=d.item.id),d.item.domain&&d.item.domain.length>0&&d.item.subDomain&&d.item.subDomain.length>0?(m.length>0&&(m+=" | "),m=m+d.item.subDomain+"."+d.item.domain):d.item.domain&&d.item.domain.length>0&&(m.length>0&&(m+=" | "),m+=d.item.domain)),0===m.length&&(m=u.toString()),m},d=>u.toString()))}}return t=_,(0,i.Z)(_,"\u0275fac",function(u){return new(u||t)(S.Y36(A._0e,16))}),(0,i.Z)(_,"\u0275pipe",S.Yjl({name:"cmssiteinfo",type:t,pure:!0})),_})()},56777:(N,v,r)=>{r.d(v,{R:()=>rt});var i=r(86889),M=r(54536),p=r(34511),S=r(27969),A=r(60656),Z=r(92340),t=r(64537),_=r(32607),b=r(35732),u=r(26114),d=r(56707),m=r(50727),R=r(94032),C=r(88692),h=r(20092),f=r(88659),I=r(83331),x=r(39665),y=r(72516),Q=r(24580),J=r(75738),D=r(35952),k=r(8239),L=r(57445),O=r(51927),w=r(83151),P=r(42147),F=r(61528),T=r(61637),E=r(1379);function G(a,c){if(1&a&&(t.TgZ(0,"mat-option",6)(1,"span"),t._uU(2),t.qZA()()),2&a){const n=c.$implicit,o=t.oxw();t.Q6J("value",n)("disabled",o.optionDisabled),t.xp6(2),t.Oqu(o.displayOption(n))}}function U(a,c){if(1&a){const n=t.EpF();t.TgZ(0,"mat-icon",7),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.onActionSelectClear())}),t._uU(1,"close"),t.qZA()}}const V=["*"];let Y=(()=>{var a;class c{constructor(o,e,s,l,g){(0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"categoryService",void 0),(0,i.Z)(this,"dataModelResult",new p.y$4),(0,i.Z)(this,"dataModelSelect",new p.lWT),(0,i.Z)(this,"formControl",new h.NI),(0,i.Z)(this,"filteredOptions",void 0),(0,i.Z)(this,"optionDisabled",!1),(0,i.Z)(this,"optionSelectFirstItem",!1),(0,i.Z)(this,"optionPlaceholder",""),(0,i.Z)(this,"optionChange",new t.vpe),(0,i.Z)(this,"optionReload",()=>this.onActionReload()),(0,i.Z)(this,"loading",new A.O),this.coreEnumService=o,this.cmsToastrService=e,this.cdr=s,this.translate=l,this.categoryService=g,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(o){this.onActionSelectForce(o)}get optionLoading(){return this.loading}set optionLoading(o){this.loading=o}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,O.O)(""),(0,w.b)(1500),(0,P.x)(),(0,F.w)(o=>"string"==typeof o||"number"==typeof o?this.DataGetAll(o||""):[]))}displayFn(o){return o?o.title:void 0}displayOption(o){return o?o.title:void 0}DataGetAll(o){var e=this;return(0,k.Z)(function*(){const s=new p.Hay;s.rowPerPage=20,s.accessLoad=!0;let l=new p.AO3;return l.propertyName="Title",l.value=o,l.searchType=p.J6G.Contains,l.clauseType=p.ppe.Or,s.filters.push(l),o&&"number"==typeof+o&&+o>0&&(l=new p.AO3,l.propertyName="Id",l.value=o,l.searchType=p.J6G.Equal,l.clauseType=p.ppe.Or,s.filters.push(l)),e.loading.Start("DataGetAll"),yield(0,L.z)(e.categoryService.ServiceGetAll(s)).then(g=>(e.dataModelResult=g,e.optionSelectFirstItem&&(!e.dataModelSelect||!e.dataModelSelect.id||e.dataModelSelect.id.length<=0)&&e.dataModelResult.listItems.length>0&&(e.optionSelectFirstItem=!1,setTimeout(()=>{e.formControl.setValue(e.dataModelResult.listItems[0])},1e3),e.onActionSelect(e.dataModelResult.listItems[0])),e.loading.Stop("DataGetAll"),g.listItems))})()}onActionSelect(o){this.optionDisabled||(this.dataModelSelect=o,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(o){return this.filteredOptions.pipe((0,S.U)(e=>(e.find(s=>s.id===o.id)||e.push(o),e)))}onActionSelectForce(o){if("string"==typeof o&&o.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===o)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===o)){const e=this.dataModelResult.listItems.find(s=>s.id===o);return this.dataModelSelect=e,void this.formControl.setValue(e)}this.categoryService.ServiceGetOneById(o).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}})}else{if(typeof o==typeof p.lWT)return this.filteredOptions=this.push(o),this.dataModelSelect=o,void this.formControl.setValue(o);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new p.lWT,this.loadOptions()}}return a=c,(0,i.Z)(c,"\u0275fac",function(o){return new(o||a)(t.Y36(p.FLW),t.Y36(_.e),t.Y36(t.sBO),t.Y36(d.sK),t.Y36(p.sZP))}),(0,i.Z)(c,"\u0275cmp",t.Xpm({type:a,selectors:[["app-cms-sms-apipath-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLoading:"optionLoading"},outputs:{optionChange:"optionChange"},ngContentSelectors:V,decls:8,vars:9,consts:[[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,e){if(1&o&&(t.F$t(),t.TgZ(0,"mat-form-field",0),t._UZ(1,"input",1),t.TgZ(2,"mat-autocomplete",2,3),t.NdJ("optionSelected",function(l){return e.onActionSelect(l.option.value)}),t.YNc(4,G,3,3,"mat-option",4),t.ALo(5,"async"),t.qZA(),t.YNc(6,U,2,0,"mat-icon",5),t.Hsn(7),t.qZA()),2&o){const s=t.MAs(3);t.xp6(1),t.s9C("placeholder",e.optionPlaceholder),t.Q6J("formControl",e.formControl)("matAutocomplete",s),t.uIk("disabled",!!e.optionDisabled||null),t.xp6(1),t.Q6J("displayWith",e.displayFn),t.xp6(2),t.Q6J("ngForOf",t.lcZ(5,7,e.filteredOptions)),t.xp6(2),t.Q6J("ngIf",null==e.dataModelSelect?null:e.dataModelSelect.id)}},dependencies:[C.sg,C.O5,h.Fj,h.JJ,h.oH,T.XC,E.ey,T.ZL,f.KE,f.R9,I.Hw,x.Nt,C.Ov],encapsulation:2})),c})();function H(a,c){if(1&a&&(t.TgZ(0,"mat-option",6)(1,"span"),t._uU(2),t.qZA()()),2&a){const n=c.$implicit,o=t.oxw();t.Q6J("value",n)("disabled",o.optionDisabled),t.xp6(2),t.Oqu(o.displayOption(n))}}function B(a,c){if(1&a){const n=t.EpF();t.TgZ(0,"mat-icon",7),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.onActionSelectClear())}),t._uU(1,"close"),t.qZA()}}const K=["*"];let q=(()=>{var a;class c{constructor(o,e,s,l,g){(0,i.Z)(this,"coreEnumService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"categoryService",void 0),(0,i.Z)(this,"dataModelResult",new p.y$4),(0,i.Z)(this,"dataModelSelect",new p.FEG),(0,i.Z)(this,"formControl",new h.NI),(0,i.Z)(this,"filteredOptions",void 0),(0,i.Z)(this,"optionDisabled",!1),(0,i.Z)(this,"optionSelectFirstItem",!1),(0,i.Z)(this,"optionSelectFirstItemOnChangeApi",!1),(0,i.Z)(this,"optionPlaceholder",""),(0,i.Z)(this,"optionChange",new t.vpe),(0,i.Z)(this,"optionReload",()=>this.onActionReload()),(0,i.Z)(this,"loading",new A.O),(0,i.Z)(this,"privateLinkApiPathId",""),(0,i.Z)(this,"privateLinkApiPathIdLast",""),this.coreEnumService=o,this.cmsToastrService=e,this.translate=s,this.cdr=l,this.categoryService=g,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(o){this.onActionSelectForce(o)}get optionLoading(){return this.loading}set optionLoading(o){this.loading=o}set optionLinkApiPathId(o){o!=this.privateLinkApiPathId&&(""!=this.privateLinkApiPathId&&this.onActionSelectClear(),this.privateLinkApiPathId=o,this.privateLinkApiPathId!=this.privateLinkApiPathIdLast&&(this.optionSelectFirstItem=this.optionSelectFirstItemOnChangeApi),this.privateLinkApiPathIdLast=o,this.loadOptions())}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,O.O)(""),(0,w.b)(1500),(0,P.x)(),(0,F.w)(o=>"string"==typeof o||"number"==typeof o?this.DataGetAll(o||""):[]))}displayFn(o){return o?o.numberChar:void 0}displayOption(o){return o?o.numberChar:void 0}DataGetAll(o){var e=this;return(0,k.Z)(function*(){const s=new p.Hay;s.rowPerPage=20,s.accessLoad=!0;let l=new p.AO3;return l.propertyName="NumberChar",l.value=o,l.searchType=p.J6G.Contains,l.clauseType=p.ppe.Or,s.filters.push(l),e.privateLinkApiPathId&&e.privateLinkApiPathId.length>0&&(l=new p.AO3,l.propertyName="ApiPathAndApiNumbers",l.propertyAnyName="LinkApiPathId",l.value=e.privateLinkApiPathId,l.searchType=p.J6G.Equal,s.filters.push(l)),e.loading.Start("DataGetAll"),yield(0,L.z)(e.categoryService.ServiceGetAll(s)).then(g=>(e.dataModelResult=g,e.optionSelectFirstItem&&(!e.dataModelSelect||!e.dataModelSelect.id||e.dataModelSelect.id.length<=0)&&e.dataModelResult.listItems.length>0&&(e.optionSelectFirstItem=!1,setTimeout(()=>{e.formControl.setValue(e.dataModelResult.listItems[0]),e.onActionSelect(e.dataModelResult.listItems[0])},1e3)),e.loading.Stop("DataGetAll"),g.listItems))})()}onActionSelect(o){this.optionDisabled||(this.dataModelSelect=o,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=new p.FEG,this.formControl.setValue(null),this.optionChange.emit(null))}push(o){return this.filteredOptions.pipe((0,S.U)(e=>(e.find(s=>s.id===o.id)||e.push(o),e)))}onActionSelectForce(o){if("string"==typeof o&&o.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===o)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===o)){const e=this.dataModelResult.listItems.find(s=>s.id===o);return this.dataModelSelect=e,void this.formControl.setValue(e)}if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.numberChar===o)){const e=this.dataModelResult.listItems.find(s=>s.numberChar===o);return this.dataModelSelect=e,void this.formControl.setValue(e)}this.categoryService.ServiceGetOneById(o).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):(!this.dataModelResult.listItems||0===this.dataModelResult.listItems.length)&&this.cmsToastrService.typeErrorMessage(e.errorMessage)}})}else{if(typeof o==typeof p.FEG)return this.filteredOptions=this.push(o),this.dataModelSelect=o,void this.formControl.setValue(o);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new p.FEG,this.loadOptions()}}return a=c,(0,i.Z)(c,"\u0275fac",function(o){return new(o||a)(t.Y36(p.FLW),t.Y36(_.e),t.Y36(d.sK),t.Y36(t.sBO),t.Y36(p.cPv))}),(0,i.Z)(c,"\u0275cmp",t.Xpm({type:a,selectors:[["app-cms-sms-api-number-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionSelectFirstItemOnChangeApi:"optionSelectFirstItemOnChangeApi",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLoading:"optionLoading",optionLinkApiPathId:"optionLinkApiPathId"},outputs:{optionChange:"optionChange"},ngContentSelectors:K,decls:8,vars:9,consts:[[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,e){if(1&o&&(t.F$t(),t.TgZ(0,"mat-form-field",0),t._UZ(1,"input",1),t.TgZ(2,"mat-autocomplete",2,3),t.NdJ("optionSelected",function(l){return e.onActionSelect(l.option.value)}),t.YNc(4,H,3,3,"mat-option",4),t.ALo(5,"async"),t.qZA(),t.YNc(6,B,2,0,"mat-icon",5),t.Hsn(7),t.qZA()),2&o){const s=t.MAs(3);t.xp6(1),t.s9C("placeholder",e.optionPlaceholder),t.Q6J("formControl",e.formControl)("matAutocomplete",s),t.uIk("disabled",!!e.optionDisabled||null),t.xp6(1),t.Q6J("displayWith",e.displayFn),t.xp6(2),t.Q6J("ngForOf",t.lcZ(5,7,e.filteredOptions)),t.xp6(2),t.Q6J("ngIf",null==e.dataModelSelect?null:e.dataModelSelect.id)}},dependencies:[C.sg,C.O5,h.Fj,h.JJ,h.oH,T.XC,E.ey,T.ZL,f.KE,f.R9,I.Hw,x.Nt,C.Ov]})),c})();const W=["Message"],j=["vform"];function $(a,c){if(1&a){const n=t.EpF();t.TgZ(0,"mat-icon",44),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.QDocModel.username=0)}),t._uU(1,"close"),t.qZA()}}function X(a,c){if(1&a){const n=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.onActionSendUrlToQDoc())}),t._UZ(1,"i",46),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"ACTION.VIEW")," "))}function z(a,c){if(1&a&&(t.TgZ(0,"div")(1,"a",47),t._UZ(2,"img",48),t.ALo(3,"translate"),t.qZA()()),2&a){const n=t.oxw(2);t.xp6(1),t.s9C("href",n.optionurlViewContent,t.LSH),t.xp6(1),t.s9C("alt",t.lcZ(3,3,"TITLE.Scan_the_barcode")),t.Q6J("src",n.optionurlViewContentQRCodeBase64,t.LSH)}}function tt(a,c){if(1&a){const n=t.EpF();t.TgZ(0,"div")(1,"div",5)(2,"div",22)(3,"p"),t._uU(4),t.qZA()()(),t.TgZ(5,"div",5)(6,"div",9)(7,"mat-form-field",13)(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"input",23,24),t.NdJ("ngModelChange",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.QDocModel.username=e)}),t.qZA(),t.YNc(13,$,2,0,"mat-icon",25),t.TgZ(14,"mat-icon",26),t._uU(15,"mode_edit"),t.qZA()(),t.YNc(16,X,4,3,"button",27),t._UZ(17,"br")(18,"app-cms-guide-notice",28)(19,"br"),t.TgZ(20,"button",29),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.onActionOpenLink())}),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"div",30),t.YNc(24,z,4,5,"div",4),t.TgZ(25,"div",31)(26,"a",32),t._UZ(27,"i",33),t.qZA(),t.TgZ(28,"a",34),t._UZ(29,"i",35),t.qZA(),t.TgZ(30,"a",36),t._UZ(31,"i",37),t.qZA(),t.TgZ(32,"a",38),t._UZ(33,"i",39),t.qZA(),t.TgZ(34,"a",40),t._UZ(35,"i",41),t.qZA(),t.TgZ(36,"span",42),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.onActionCopied())}),t._UZ(37,"i",43),t.qZA()()()()()}if(2&a){const n=t.oxw();t.xp6(4),t.hij(" ",n.optionTitle,""),t.xp6(5),t.hij(" ",t.lcZ(10,18,"ACTION.ID_Code"),""),t.xp6(2),t.Q6J("ngModel",n.QDocModel.username),t.xp6(2),t.Q6J("ngIf",n.QDocModel.username),t.xp6(3),t.Q6J("ngIf",n.optionurlViewContent&&n.optionurlViewContent.length>0&&n.QDocModel.username),t.xp6(2),t.Q6J("Key","linkto.content"),t.xp6(3),t.Oqu(t.lcZ(22,20,"ACTION.VIEW_PAGE")),t.xp6(3),t.Q6J("ngIf",(null==n.optionurlViewContentQRCodeBase64?null:n.optionurlViewContentQRCodeBase64.length)>0&&(null==n.optionurlViewContent?null:n.optionurlViewContent.length)>0),t.xp6(2),t.hYB("href","whatsapp://send?text=",n.optionTitle,"- ",n.optionurlViewContent,"",t.LSH),t.xp6(2),t.hYB("href","https://telegram.me/share/url?url=",n.optionurlViewContent,"&text=",n.optionTitle,"",t.LSH),t.xp6(2),t.hYB("href","https://www.linkedin.com/shareArticle?url=",n.optionurlViewContent,"&title=",n.optionTitle,"",t.LSH),t.xp6(2),t.MGl("href","http://www.facebook.com/share.php?u=",n.optionurlViewContent,"",t.LSH),t.xp6(2),t.hYB("href","http://twitter.com/share?text=",n.optionTitle,"&url=",n.optionurlViewContent,"",t.LSH),t.xp6(2),t.Q6J("cdkCopyToClipboard",n.optionurlViewContent)}}function et(a,c){if(1&a){const n=t.EpF();t.TgZ(0,"app-cms-sms-api-number-selector",49),t.NdJ("optionLoadingChange",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.loading=e)})("optionChange",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.onActionSelectApiNumber(e))}),t.qZA()}if(2&a){const n=t.oxw();t.Q6J("optionLoading",n.loading)("optionLinkApiPathId",null==n.dataModel?null:n.dataModel.linkApiPathId)("optionPlaceholder",n.translate.instant("TITLE.sender_number"))("optionSelectFirstItem",!0)("optionSelectFirstItemOnChangeApi",!0)}}function ot(a,c){if(1&a){const n=t.EpF();t.TgZ(0,"mat-icon",50),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.dataModel.message="")}),t._uU(1," close"),t.qZA()}}function nt(a,c){1&a&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"TITLE.Message_Text")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function it(a,c){if(1&a){const n=t.EpF();t.TgZ(0,"mat-form-field",51)(1,"mat-label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"textarea",52,53),t.NdJ("ngModelChange",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.dataModel.toNumbers=e)}),t.qZA(),t.TgZ(6,"mat-hint",54)(7,"mat-icon",55),t._uU(8,"info"),t.qZA(),t.TgZ(9,"strong",56),t._uU(10),t.ALo(11,"translate"),t.qZA()()()}if(2&a){const n=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"TITLE.Receiver_number")),t.xp6(2),t.Q6J("ngModel",n.dataModel.toNumbers),t.xp6(6),t.Oqu(t.lcZ(11,5,"TITLE.You_can_separate_the_number_of_the_recipient_of_the_message_with_an_inter"))}}function st(a,c){if(1&a){const n=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.onFormSubmit())}),t._UZ(1,"i",46),t._uU(2),t.ALo(3,"translate"),t.qZA()}if(2&a){t.oxw(2);const n=t.MAs(1);t.Q6J("disabled",!n.valid),t.xp6(2),t.hij(" ",t.lcZ(3,2,"ACTION.Send_Message")," ")}}function at(a,c){if(1&a&&(t.TgZ(0,"div",57),t._UZ(1,"app-progress-spinner",58),t.YNc(2,st,4,4,"button",59),t.qZA()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("options",n.loadingAction),t.xp6(1),t.Q6J("ngIf",!n.loading.display)}}const lt=function(a){return{direction:a}};let rt=(()=>{var a;class c{constructor(o,e,s,l,g,ct,pt,dt,mt){(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"dialogRef",void 0),(0,i.Z)(this,"smsMainApiPathService",void 0),(0,i.Z)(this,"http",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"id",++c.nextId),(0,i.Z)(this,"dataModel",new p.sh1),(0,i.Z)(this,"loading",new A.O),(0,i.Z)(this,"formInfo",new p.LEF),(0,i.Z)(this,"loadingAction",new A.O),(0,i.Z)(this,"tokenInfo",new p.OdC),(0,i.Z)(this,"message",void 0),(0,i.Z)(this,"formGroup",void 0),(0,i.Z)(this,"optionTitle",""),(0,i.Z)(this,"optionurlViewContentQRCodeBase64",""),(0,i.Z)(this,"optionurlViewContent",""),(0,i.Z)(this,"QDocModel",{}),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),(0,i.Z)(this,"sendByShow",!1),(0,i.Z)(this,"dataModelParentSelected",void 0),this.cmsToastrService=o,this.data=e,this.dialogRef=s,this.smsMainApiPathService=l,this.http=g,this.router=ct,this.translate=pt,this.tokenHelper=dt,this.publicHelper=mt,e&&(this.optionTitle=e.title,this.optionurlViewContentQRCodeBase64=e.urlViewContentQRCodeBase64,this.optionurlViewContent=e.urlViewContent)}ngOnInit(){this.dataModel.message=`${this.optionTitle}\n    ${this.optionurlViewContent}`,this.tokenHelper.getCurrentToken().then(o=>{this.tokenInfo=o}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(o=>{this.tokenInfo=o})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}onActionSelectApiNumber(o){o&&o.id?.length>0?this.dataModel.linkFromNumber=o.id:o&&o.numberChar?.length>0&&(this.dataModel.linkFromNumber=o.numberChar)}onActionMessageLTR(){this.message.nativeElement.style.direction="ltr",this.message.nativeElement.style.textAlign="left"}onActionMessageRTL(){this.message.nativeElement.style.direction="rtl",this.message.nativeElement.style.textAlign="right"}onActionSelectPrivateSiteConfig(o){this.dataModelParentSelected=o,o&&o.id.length>0&&(this.dataModel.linkApiPathId=o.id,this.sendByShow=!1,o.apiAbilitySendByDirect&&(this.dataModel.sendByQeue=!1),o.apiAbilitySendByQueue&&(this.dataModel.sendByQeue=!0),o.apiAbilitySendByQueue&&o.apiAbilitySendByDirect&&(this.sendByShow=!0))}onActionSendUrlToQDoc(){this.QDocModel.message=this.optionurlViewContent,!this.QDocModel.username&&this.QDocModel.username.length<=0?this.cmsToastrService.typeWarningSelected("\u06a9\u062f \u0634\u0646\u0627\u0633\u0647 \u0631\u0627 \u0627\u0632 \u0648\u0628\u0633\u0627\u06cc\u062a https://Qdoc.ir \u062f\u0631\u06cc\u0627\u0641\u062a \u0646\u0645\u0627\u06cc\u06cc\u062f"):this.http.post(Z.N.cmsServerConfig.configQDocServerPath,this.QDocModel,{headers:{}}).pipe((0,S.U)(o=>{this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.The_order_was_sent_to_the_website"))})).toPromise()}onFormSubmit(){if(!this.formGroup.valid)return;(!this.dataModel.linkApiPathId||this.dataModel.linkApiPathId.length<=0)&&this.cmsToastrService.typeErrorFormInvalid(),this.formInfo.formSubmitAllow=!1;const o=this.constructor.name+"main";this.loadingAction.Start(o),this.formInfo.formAlert="",this.formInfo.formError="",this.smsMainApiPathService.ServiceSendMessage(this.dataModel).subscribe({next:e=>{this.formInfo.formSubmitAllow=!0,e.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.Submit_request_was_successfully_registered"),this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.Send_request_was_successfully_registered"))):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.loadingAction.Stop(o)},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.loadingAction.Stop(o)},complete:()=>{}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionOpenLink(){this.router.serializeUrl(this.router.createUrlTree([this.optionurlViewContent])),window.open(this.optionurlViewContent,"_blank")}}return a=c,(0,i.Z)(c,"nextId",0),(0,i.Z)(c,"\u0275fac",function(o){return new(o||a)(t.Y36(_.e),t.Y36(M.WI),t.Y36(M.so),t.Y36(p.sZP),t.Y36(b.eN),t.Y36(u.F0),t.Y36(d.sK),t.Y36(m.v),t.Y36(R.i))}),(0,i.Z)(c,"\u0275cmp",t.Xpm({type:a,selectors:[["app-cms-link-to"]],viewQuery:function(o,e){if(1&o&&(t.Gf(W,5),t.Gf(j,5)),2&o){let s;t.iGM(s=t.CRH())&&(e.message=s.first),t.iGM(s=t.CRH())&&(e.formGroup=s.first)}},inputs:{optionTitle:"optionTitle",optionurlViewContentQRCodeBase64:"optionurlViewContentQRCodeBase64",optionurlViewContent:"optionurlViewContent"},decls:35,vars:24,consts:[[3,"ngStyle","ngSubmit"],["vform","ngForm"],[3,"label"],[1,"row",2,"padding","5px"],[4,"ngIf"],[1,"row"],[1,"col-md-6","col-sm-6","col-xs-9",2,"padding-top","40px"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionSelectFirstItem","optionChange","optionLoadingChange"],[3,"optionLoading","optionSelectForce","optionLinkApiPathId","optionPlaceholder","optionSelectFirstItem","optionSelectFirstItemOnChangeApi","optionLoadingChange","optionChange",4,"ngIf"],[1,"col-md-6","col-sm-6","col-xs-9"],[1,"message-box"],[1,"row",2,"height","43px"],[1,"row",2,"height","300px"],[1,"ntk-full-width"],["matInput","","name","dataModel.message","type","text","placeholder","...","minlength","1","maxlength","500","rows","9",3,"ngModel","ngModelChange"],["Message",""],["mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"click"],["align","end"],[1,"row",2,"height","83px"],["class","ntk-full-width input-ltr-center",4,"ngIf"],["class","row","style","height:140px;bottom: 4vh;justify-content: center;",4,"ngIf"],[1,"col-md-12","col-sm-12","col-xs-18"],["matInput","","name","QDocModel.username","type","text","placeholder","12345",3,"ngModel","ngModelChange"],["QDocCode",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["type","button","class","btn btn-success BTN-text",3,"click",4,"ngIf"],[3,"Key"],["type","button",1,"btn","btn-secondary","BTN-text",3,"click"],[1,"col-md-6","col-sm-6","col-xs-9",2,"text-align","center"],[1,"mt-4"],["target","_blank",1,"style","whatsapp",3,"href"],[1,"flaticon-whatsapp","text-dark"],["target","_blank",1,"style","telegram",3,"href"],[1,"flaticon2-telegram-logo","text-dark"],["target","_blank",1,"style","linkedin",3,"href"],[1,"flaticon-linkedin-logo","text-dark"],["target","_blank",1,"style","facebook",3,"href"],[1,"flaticon-facebook-letter-logo","text-dark"],["target","_blank",1,"style","twitter",3,"href"],[1,"flaticon-twitter-logo","text-dark"],[1,"navi-icon","style","cursor",3,"cdkCopyToClipboard","click"],[1,"flaticon2-copy","text-dark"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["type","button",1,"btn","btn-success","BTN-text",3,"click"],[1,"fa","fa-check-square-o"],["target","_blank",3,"href"],["height","200px","width","200px",3,"src","alt"],[3,"optionLoading","optionSelectForce","optionLinkApiPathId","optionPlaceholder","optionSelectFirstItem","optionSelectFirstItemOnChangeApi","optionLoadingChange","optionChange"],["mat-icon-button","","aria-label","Clear",3,"click"],[1,"ntk-full-width","input-ltr-center"],["matInput","","name","dataModel.toNumbers","type","text","placeholder","0912","rows","2",3,"ngModel","ngModelChange"],["ToNumbers",""],["align","start"],[1,"info-field-icon"],[1,"info-field-text"],[1,"row",2,"height","140px","bottom","4vh","justify-content","center"],[3,"options"],["type","submit","class","message-box-button",3,"disabled","click",4,"ngIf"],["type","submit",1,"message-box-button",3,"disabled","click"]],template:function(o,e){if(1&o&&(t.TgZ(0,"form",0,1),t.NdJ("ngSubmit",function(){return e.onFormSubmit()}),t.TgZ(2,"mat-tab-group")(3,"mat-tab",2),t.ALo(4,"translate"),t.TgZ(5,"div",3),t.YNc(6,tt,38,22,"div",4),t.qZA()(),t.TgZ(7,"mat-tab",2),t.ALo(8,"translate"),t.TgZ(9,"div",5)(10,"div",6)(11,"app-cms-sms-apipath-selector",7),t.NdJ("optionChange",function(l){return e.onActionSelectPrivateSiteConfig(l)})("optionLoadingChange",function(l){return e.loading=l}),t.qZA(),t.YNc(12,et,1,5,"app-cms-sms-api-number-selector",8),t.qZA(),t.TgZ(13,"div",9)(14,"div",10),t._UZ(15,"div",11),t.TgZ(16,"div",12)(17,"mat-form-field",13)(18,"mat-label"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"textarea",14,15),t.NdJ("ngModelChange",function(l){return e.dataModel.message=l}),t.qZA(),t.YNc(23,ot,2,0,"mat-icon",16),t.TgZ(24,"mat-icon",17),t.NdJ("click",function(){return e.onActionMessageRTL()}),t._uU(25,"chevron_left"),t.qZA(),t.TgZ(26,"mat-icon",17),t.NdJ("click",function(){return e.onActionMessageLTR()}),t._uU(27,"chevron_right"),t.qZA(),t.TgZ(28,"mat-hint",18),t._uU(29),t.qZA(),t.YNc(30,nt,6,6,"mat-error",4),t.qZA()(),t._UZ(31,"br"),t.TgZ(32,"div",19),t.YNc(33,it,12,7,"mat-form-field",20),t.qZA(),t.YNc(34,at,3,2,"div",21),t.qZA()()()()()()),2&o){const s=t.MAs(22);t.Q6J("ngStyle",t.VKq(22,lt,e.tokenInfo.direction)),t.xp6(3),t.s9C("label",t.lcZ(4,16,"TITLE.LINKTO")),t.xp6(3),t.Q6J("ngIf",e.optionurlViewContent&&e.optionurlViewContent.length>0),t.xp6(1),t.s9C("label",t.lcZ(8,18,"TITLE.Send_Message")),t.xp6(4),t.Q6J("optionLoading",e.loading)("optionSelectForce",null==e.dataModel?null:e.dataModel.linkApiPathId)("optionPlaceholder",e.translate.instant("TITLE.Direction"))("optionSelectFirstItem",!0),t.xp6(1),t.Q6J("ngIf",(null==e.dataModel.linkApiPathId?null:e.dataModel.linkApiPathId.length)>0),t.xp6(7),t.Oqu(t.lcZ(20,20,"TITLE.Message_Text")),t.xp6(2),t.Q6J("ngModel",e.dataModel.message),t.xp6(2),t.Q6J("ngIf",e.dataModel.message),t.xp6(6),t.hij("",s.value.length," / 500"),t.xp6(1),t.Q6J("ngIf",null==s.errors?null:s.errors.required),t.xp6(3),t.Q6J("ngIf",!(e.dataModel.toContactCategories&&0!==(null==e.dataModel.toContactCategories?null:e.dataModel.toContactCategories.length)||e.dataModel.toContactContents&&0!==(null==e.dataModel.toContactContents?null:e.dataModel.toContactContents.length))),t.xp6(1),t.Q6J("ngIf",e.formInfo.formSubmitAllow&&!(null!=e.loading&&e.loading.display))}},dependencies:[C.O5,C.PC,h._Y,h.Fj,h.JJ,h.JL,h.wO,h.nD,h.On,h.F,f.KE,f.hX,f.bx,f.TO,f.R9,I.Hw,x.Nt,y.uX,y.SP,Q.i3,J.O,D.v,Y,q,d.X$],styles:[".style[_ngcontent-%COMP%]{padding:6px;margin:2px;font-size:20px;text-align:center;text-decoration:none;border:black solid 2px;border-radius:50%}.style-copy[_ngcontent-%COMP%]{color:#000;border-radius:20%}.whatsapp[_ngcontent-%COMP%]:hover{background-color:#adff2f}.facebook[_ngcontent-%COMP%]:hover{background:#3B5998}.twitter[_ngcontent-%COMP%]:hover{background:#55ACEE}.linkedin[_ngcontent-%COMP%]:hover{background:#007bb5}.telegram[_ngcontent-%COMP%]:hover{background:#125688}.cursor[_ngcontent-%COMP%]{cursor:pointer}.message-box[_ngcontent-%COMP%]{background-image:url(/assets/media/bg/iphone.png);height:600px;width:300px;background-position:center;background-repeat:no-repeat;background-size:cover;padding-right:33px;padding-left:33px}.message-box-button[_ngcontent-%COMP%]{color:#00f;border-color:transparent;background-color:transparent}.message-box-button[_ngcontent-%COMP%]:hover{color:red;font-size:initial}.message-box-button[_ngcontent-%COMP%]:active{color:#a200ff}"]})),c})()}}]);