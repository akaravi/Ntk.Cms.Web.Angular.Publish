"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[7436],{27436:(B,I,p)=>{p.r(I),p.d(I,{AuthModule:()=>_e});var i=p(86889),h=p(88692),P=p(35732),d=p(20092),u=p(34511),O=p(6087),g=p(26114),m=p(12527),S=p(60656),t=p(64537),N=p(94032),M=p(32607),T=p(56707),q=p(74970),b=p(41436),L=p(50727),R=p(58219);const k=function(n){return{active:n}};function Q(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"li",7)(1,"a",8),t.NdJ("click",function(){const r=t.CHM(a).$implicit,c=t.oxw();return t.KtG(c.setLanguageWithRefresh(null==r?null:r.lang))}),t.TgZ(2,"span",9),t._UZ(3,"img",10),t.qZA(),t.TgZ(4,"span",11),t._uU(5),t.qZA()()()}if(2&n){const a=s.$implicit;t.Q6J("ngClass",t.VKq(4,k,null==a?null:a.active)),t.xp6(1),t.Q6J("ngClass",t.VKq(6,k,null==a?null:a.active)),t.xp6(2),t.s9C("src",null==a?null:a.flag,t.LSH),t.xp6(2),t.Oqu(null==a?null:a.name)}}let Y=(()=>{var n;class s{constructor(o,e,r,c,l,_,Z){(0,i.Z)(this,"translationService",void 0),(0,i.Z)(this,"coreAuthService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"tokenHelper",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"id",++s.nextId),(0,i.Z)(this,"language",void 0),(0,i.Z)(this,"languages",[{lang:"fa",name:"\u0641\u0627\u0631\u0633\u06cc",flag:"./assets/media/flags/iran.svg"},{lang:"ar",name:"\u0639\u0631\u0628\u06cc",flag:"./assets/media/flags/united-arab-emirates.svg"},{lang:"en",name:"English",flag:"./assets/media/flags/united-states.svg"},{lang:"zh",name:"China",flag:"./assets/media/flags/china.svg"},{lang:"es",name:"Spanish",flag:"./assets/media/flags/spain.svg"},{lang:"ja",name:"Japanese",flag:"./assets/media/flags/japan.svg"},{lang:"de",name:"German",flag:"./assets/media/flags/germany.svg"},{lang:"fr",name:"French",flag:"./assets/media/flags/france.svg"}]),(0,i.Z)(this,"cmsApiStoreSubscribe",void 0),(0,i.Z)(this,"tokenInfo",new u.OdC),this.translationService=o,this.coreAuthService=e,this.cmsToastrService=r,this.tokenHelper=c,this.router=l,this.cdr=_,this.translate=Z,this.tokenHelper.getCurrentToken().then(A=>{this.tokenInfo=A}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(A=>{this.tokenInfo=A,this.setLanguage(A.language)})}ngOnInit(){this.setSelectedLanguage(),this.router.events.pipe((0,q.h)(o=>o instanceof g.OD)).subscribe(o=>{this.setSelectedLanguage()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}setLanguageWithRefresh(o){if(this.setLanguage(o),this.tokenInfo&&this.tokenInfo.userId>0){const e=new u.nVm;e.userAccessAdminAllowToProfessionalData=this.tokenInfo.userAccessAdminAllowToProfessionalData,e.userAccessAdminAllowToAllData=this.tokenInfo.userAccessAdminAllowToAllData,e.userId=this.tokenInfo.userId,e.siteId=this.tokenInfo.siteId,e.lang=o;const r=this.translate.instant("TITLE.Information"),c=this.translate.instant("MESSAGE.Request_to_change_language_was_sent_to_the_server");this.cmsToastrService.toastr.info(c,r),this.coreAuthService.ServiceRenewToken(e).subscribe({next:l=>{l.isSuccess?(this.tokenInfo=l.item,l.item.language===o?(this.cmsToastrService.toastr.success(this.translate.instant("MESSAGE.New_language_acess_confirmed"),r),this.translate.use(l.item.language)):this.cmsToastrService.toastr.warning(this.translate.instant("ERRORMESSAGE.MESSAGE.New_language_acess_denied"),r)):this.cmsToastrService.typeErrorAccessChange(l.errorMessage),this.cdr.detectChanges()},error:l=>{this.cmsToastrService.typeErrorAccessChange(l)}})}else o&&o.length>0&&this.tokenHelper.setDirectionThemeBylanguage(o)}setLanguage(o){this.languages.forEach(e=>{e.lang===o?(e.active=!0,this.language=e):e.active=!1}),this.translationService.setLanguage(o)}setSelectedLanguage(){this.setLanguage(this.translationService.getSelectedLanguage())}}return n=s,(0,i.Z)(s,"nextId",0),(0,i.Z)(s,"\u0275fac",function(o){return new(o||n)(t.Y36(b.D),t.Y36(u.Z8z),t.Y36(M.e),t.Y36(L.v),t.Y36(g.F0),t.Y36(t.sBO),t.Y36(T.sK))}),(0,i.Z)(s,"\u0275cmp",t.Xpm({type:n,selectors:[["app-language-selector"]],decls:7,vars:3,consts:[["ngbDropdown","","placement","auto",1,"dropdown",3,"autoClose"],["ngbDropdownToggle","","data-toggle","dropdown","data-offset","10px,0px",1,"topbar-item"],[1,"btn","btn-icon","btn-clean","btn-dropdown","btn-lg","mr-1"],["alt","language",1,"h-25px","w-25px","rounded",3,"src"],["ngbDropdownMenu","",1,"dropdown-menu","p-0","m-0","dropdown-menu-anim-up","dropdown-menu-sm","dropdown-menu-right"],[1,"nav"],["class","menu-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"menu-item",3,"ngClass"],["href","javascript:;",1,"nav-link","btn","btn-sm","btn-color-muted","btn-active","btn-active-light-primary","fw-bolder","px-4","me-1",3,"ngClass","click"],[1,"symbol","symbol-20","mr-3"],[2,"width","40px",3,"src"],[1,"navi-text"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA()(),t.TgZ(4,"div",4)(5,"ul",5),t.YNc(6,Q,6,8,"li",6),t.qZA()()()),2&o&&(t.Q6J("autoClose",!0),t.xp6(3),t.s9C("src",null==e.language?null:e.language.flag,t.LSH),t.xp6(3),t.Q6J("ngForOf",e.languages))},dependencies:[h.mk,h.sg,R.jt,R.iD,R.Vi],encapsulation:2})),s})(),D=(()=>{var n;class s{constructor(o,e,r,c,l){(0,i.Z)(this,"configService",void 0),(0,i.Z)(this,"publicHelper",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"loading",new S.O),(0,i.Z)(this,"today",new Date),(0,i.Z)(this,"showSplashModel",!0),this.configService=o,this.publicHelper=e,this.cmsToastrService=r,this.translate=c,this.cdr=l,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}get innerWidth(){return(0,m.Mw)().width}ngOnInit(){this.innerWidth<860&&setTimeout(()=>{this.showSplashModel=!1,this.cdr.markForCheck()},5e3),this.GetServiceVer()}GetServiceVer(){const o=this.constructor.name+"ServiceIp";this.loading.Start(o,this.translate.instant("MESSAGE.Receiving_Information_From_The_Server")),this.configService.ServiceIp().subscribe({next:e=>{this.publicHelper.appServerVersion=e.appVersion,this.loading.Stop(o)},error:e=>{this.cmsToastrService.typeErrorGetOne(e),this.loading.Stop(o)}})}}return n=s,(0,i.Z)(s,"\u0275fac",function(o){return new(o||n)(t.Y36(u.g9m),t.Y36(N.i),t.Y36(M.e),t.Y36(T.sK),t.Y36(t.sBO))}),(0,i.Z)(s,"\u0275cmp",t.Xpm({type:n,selectors:[["app-auth"]],decls:17,vars:2,consts:[[1,"d-flex","flex-column","flex-column-fluid","bgi-position-y-bottom","position-x-center","bgi-no-repeat","bgi-size-contain","bgi-attachment-fixed",2,"height","100%","background-image","url('./assets/media/illustrations/sketchy-1/14.png')"],[1,"d-flex","flex-center","flex-column","flex-column-fluid","p-10","pb-lg-5"],["routerLink","/",1,"mb-12"],["alt","Logo","src","./assets/media/logos/logo-4.png",1,"h-45px"],[1,"w-lg-500px","bg-body","rounded","shadow-sm","p-10","p-lg-15","mx-auto"],[1,"d-flex","flex-center","flex-column-auto","p-10"],[1,"d-flex","align-items-center","fw-bold","fs-6"],[1,"text-muted","text-hover-primary","px-2","cursor-pointer"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4),t._UZ(5,"router-outlet"),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"a",7),t._uU(9,"About"),t.qZA(),t.TgZ(10,"a",7),t._uU(11,"Contact"),t.qZA(),t.TgZ(12,"a",7),t._uU(13,"Contact Us"),t.qZA()(),t._UZ(14,"app-language-selector"),t.qZA(),t.TgZ(15,"div",5),t._uU(16),t.qZA()()),2&o&&(t.xp6(16),t.AsE(" client ver: ",e.publicHelper.appClientVersion," / server ver:",e.publicHelper.appServerVersion," "))},dependencies:[Y,g.lC,g.rH],styles:["[_nghost-%COMP%]{height:100%}"]})),s})();var f=p(88659),w=p(83331),U=p(39665),H=p(40486);function j(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",25),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.dataModelforgetPasswordBySms.mobile="")}),t._uU(1," close"),t.qZA()}}function K(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.FORGOT.MOBILE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function z(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",25),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.dataModelforgetPasswordBySms.captchaText="")}),t._uU(1," close"),t.qZA()}}function V(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.CAPTCHACODE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function W(n,s){1&n&&(t.ynx(0),t._UZ(1,"span",26),t.BQk())}const G=function(n){return{display:n}};function X(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"form",4,5),t.NdJ("ngSubmit",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onActionSubmitOrderCodeBySms())}),t.TgZ(2,"div",6)(3,"h3",7),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p",8),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"mat-form-field",9)(10,"mat-label",10),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",11,12),t.NdJ("ngModelChange",function(e){t.CHM(a);const r=t.oxw();return t.KtG(r.dataModelforgetPasswordBySms.mobile=e)}),t.ALo(15,"translate"),t.qZA(),t.YNc(16,j,2,0,"mat-icon",13),t.TgZ(17,"mat-icon",14),t._uU(18,"mode_edit"),t.qZA(),t.TgZ(19,"mat-hint",15),t._uU(20),t.qZA(),t.YNc(21,K,6,6,"mat-error",2),t.qZA(),t.TgZ(22,"img",16),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t.qZA(),t.TgZ(23,"mat-icon",17),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t._uU(24,"refresh"),t.qZA(),t.TgZ(25,"mat-form-field",9)(26,"mat-label",10),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"input",18,19),t.NdJ("ngModelChange",function(e){t.CHM(a);const r=t.oxw();return t.KtG(r.dataModelforgetPasswordBySms.captchaText=e)}),t.ALo(31,"translate"),t.qZA(),t.YNc(32,z,2,0,"mat-icon",13),t.TgZ(33,"mat-icon",14),t._uU(34,"mode_edit"),t.qZA(),t.YNc(35,V,6,6,"mat-error",2),t.qZA(),t.TgZ(36,"div",20)(37,"div",21)(38,"button",22),t._uU(39),t.ALo(40,"translate"),t.qZA()(),t.TgZ(41,"div",21)(42,"a",23),t._uU(43),t.ALo(44,"translate"),t.qZA()(),t.YNc(45,W,2,0,"ng-container",2),t.ALo(46,"async"),t.qZA(),t._UZ(47,"br"),t.TgZ(48,"p",24),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.changeforgetState("email"))}),t._uU(49),t.ALo(50,"translate"),t.qZA(),t._UZ(51,"div"),t.qZA()}if(2&n){const a=t.MAs(1),o=t.MAs(14),e=t.MAs(30),r=t.oxw();t.Q6J("ngStyle",t.VKq(42,G,r.errorState===r.errorStates.NoError?"none":"block")),t.xp6(4),t.hij(" ",t.lcZ(5,22,"AUTH.FORGOT.TITLE")," "),t.xp6(3),t.hij(" ",t.lcZ(8,24,"AUTH.FORGOT.DESCSMS")," "),t.xp6(4),t.hij(" ",t.lcZ(12,26,"AUTH.FORGOT.MOBILE"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(15,28,"AUTH.FORGOT.MOBILE"),""),t.Q6J("ngModel",r.dataModelforgetPasswordBySms.mobile)("disabled",!r.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",r.dataModelforgetPasswordBySms.mobile),t.xp6(4),t.hij("",o.value.length," / 100"),t.xp6(1),t.Q6J("ngIf",null==o.errors?null:o.errors.required),t.xp6(1),t.s9C("src",r.captchaModel.image,t.LSH),t.xp6(5),t.hij(" ",t.lcZ(28,30,"AUTH.INPUT.CAPTCHACODE"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(31,32,"AUTH.INPUT.CAPTCHACODE"),""),t.Q6J("ngModel",r.dataModelforgetPasswordBySms.captchaText)("disabled",!r.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",r.dataModelforgetPasswordBySms.captchaText),t.xp6(3),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(3),t.Q6J("disabled",a.invalid||!r.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(40,34,"AUTH.FORGOT.SEND_PIN_CODE")," "),t.xp6(4),t.hij(" ",t.lcZ(44,36,"AUTH.REGISTER.RETURN_TO_LOGIN")," "),t.xp6(2),t.Q6J("ngIf",t.lcZ(46,38,r.isLoading$)),t.xp6(4),t.Oqu(t.lcZ(50,40,"MESSAGE.Reminders.by.email"))}}function $(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",25),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.dataModelforgetPasswordByEmail.email="")}),t._uU(1," close"),t.qZA()}}function tt(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.FORGOT.EMAIL")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function et(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",25),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.dataModelforgetPasswordByEmail.captchaText="")}),t._uU(1," close"),t.qZA()}}function ot(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.CAPTCHACODE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function nt(n,s){1&n&&(t.ynx(0),t._UZ(1,"span",26),t.BQk())}function rt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"form",4,27),t.NdJ("ngSubmit",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onActionSubmitOrderCodeByEmail())}),t.TgZ(2,"div",6)(3,"h3",7),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p",8),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"mat-form-field",9)(10,"mat-label",10),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",28,29),t.NdJ("ngModelChange",function(e){t.CHM(a);const r=t.oxw();return t.KtG(r.dataModelforgetPasswordByEmail.email=e)}),t.ALo(15,"translate"),t.qZA(),t.YNc(16,$,2,0,"mat-icon",13),t.TgZ(17,"mat-icon",14),t._uU(18,"mode_edit"),t.qZA(),t.TgZ(19,"mat-hint",15),t._uU(20),t.qZA(),t.YNc(21,tt,6,6,"mat-error",2),t.qZA(),t.TgZ(22,"img",16),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t.qZA(),t.TgZ(23,"mat-icon",17),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t._uU(24,"refresh"),t.qZA(),t.TgZ(25,"mat-form-field",9)(26,"mat-label",10),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"input",30,19),t.NdJ("ngModelChange",function(e){t.CHM(a);const r=t.oxw();return t.KtG(r.dataModelforgetPasswordByEmail.captchaText=e)}),t.ALo(31,"translate"),t.qZA(),t.YNc(32,et,2,0,"mat-icon",13),t.TgZ(33,"mat-icon",14),t._uU(34,"mode_edit"),t.qZA(),t.YNc(35,ot,6,6,"mat-error",2),t.qZA(),t.TgZ(36,"div",20)(37,"div",21)(38,"button",22),t._uU(39),t.ALo(40,"translate"),t.qZA()(),t.TgZ(41,"div",21)(42,"a",23),t._uU(43),t.ALo(44,"translate"),t.qZA()(),t.YNc(45,nt,2,0,"ng-container",2),t.ALo(46,"async"),t.qZA(),t._UZ(47,"br"),t.TgZ(48,"p",24),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.changeforgetState("sms"))}),t._uU(49),t.ALo(50,"translate"),t.qZA(),t._UZ(51,"div"),t.qZA()}if(2&n){const a=t.MAs(1),o=t.MAs(14),e=t.MAs(30),r=t.oxw();t.Q6J("ngStyle",t.VKq(42,G,r.errorState===r.errorStates.NoError?"none":"block")),t.xp6(4),t.hij(" ",t.lcZ(5,22,"AUTH.FORGOT.TITLE")," "),t.xp6(3),t.hij(" ",t.lcZ(8,24,"AUTH.FORGOT.DESCSMS")," "),t.xp6(4),t.hij(" ",t.lcZ(12,26,"AUTH.FORGOT.EMAIL"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(15,28,"AUTH.FORGOT.EMAIL"),""),t.Q6J("ngModel",r.dataModelforgetPasswordByEmail.email)("disabled",!r.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",r.dataModelforgetPasswordByEmail.email),t.xp6(4),t.hij("",o.value.length," / 100"),t.xp6(1),t.Q6J("ngIf",null==o.errors?null:o.errors.required),t.xp6(1),t.s9C("src",r.captchaModel.image,t.LSH),t.xp6(5),t.hij(" ",t.lcZ(28,30,"AUTH.INPUT.CAPTCHACODE"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(31,32,"AUTH.INPUT.CAPTCHACODE"),""),t.Q6J("ngModel",r.dataModelforgetPasswordByEmail.captchaText)("disabled",!r.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",r.dataModelforgetPasswordByEmail.captchaText),t.xp6(3),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(3),t.Q6J("disabled",a.invalid||!r.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(40,34,"AUTH.FORGOT.SEND_PIN_CODE")," "),t.xp6(4),t.hij(" ",t.lcZ(44,36,"AUTH.REGISTER.RETURN_TO_LOGIN")," "),t.xp6(2),t.Q6J("ngIf",t.lcZ(46,38,r.isLoading$)),t.xp6(4),t.Oqu(t.lcZ(50,40,"MESSAGE.Reminder.by.SMS"))}}function at(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",25),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.dataModelforgetPasswordEntryPinCode.activateCode="")}),t._uU(1," close"),t.qZA()}}function it(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.FORGOT.SEND_PIN_CODE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function st(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",25),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.dataModelforgetPasswordEntryPinCode.newPassword="")}),t._uU(1," close"),t.qZA()}}function lt(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.FORGOT.PASSWORD")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function ct(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",25),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.RePasswordModel="")}),t._uU(1," close"),t.qZA()}}function dt(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.FORGOT.CONFIRM_PASSWORD")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function mt(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"MESSAGE.Password_and_password_confirmation_are_different")," "))}function ut(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",25),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.dataModelforgetPasswordEntryPinCode.captchaText="")}),t._uU(1," close"),t.qZA()}}function gt(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.CAPTCHACODE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function ht(n,s){1&n&&(t.ynx(0),t._UZ(1,"span",26),t.BQk())}function pt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"form",4,31),t.NdJ("ngSubmit",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onActionSubmitEntryPinCode())}),t.TgZ(2,"div",6)(3,"h3",7),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p",8),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"mat-form-field",9)(10,"mat-label",10),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",32,33),t.NdJ("ngModelChange",function(e){t.CHM(a);const r=t.oxw();return t.KtG(r.dataModelforgetPasswordEntryPinCode.activateCode=e)}),t.ALo(15,"translate"),t.qZA(),t.YNc(16,at,2,0,"mat-icon",13),t.TgZ(17,"mat-icon",14),t._uU(18,"mode_edit"),t.qZA(),t.TgZ(19,"mat-hint",15),t._uU(20),t.qZA(),t.YNc(21,it,6,6,"mat-error",2),t.qZA(),t.TgZ(22,"mat-form-field",9)(23,"mat-label",10),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"input",34,35),t.NdJ("ngModelChange",function(e){t.CHM(a);const r=t.oxw();return t.KtG(r.dataModelforgetPasswordEntryPinCode.newPassword=e)}),t.ALo(28,"translate"),t.qZA(),t.YNc(29,st,2,0,"mat-icon",13),t.TgZ(30,"mat-icon",14),t._uU(31,"mode_edit"),t.qZA(),t.TgZ(32,"mat-hint",15),t._uU(33),t.qZA(),t.YNc(34,lt,6,6,"mat-error",2),t.qZA(),t.TgZ(35,"app-password-strength",36),t.NdJ("passwordStrength",function(e){t.CHM(a);const r=t.oxw();return t.KtG(r.passwordValid(e))}),t.qZA(),t.TgZ(36,"mat-form-field",9)(37,"mat-label",10),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"input",37,38),t.NdJ("ngModelChange",function(e){t.CHM(a);const r=t.oxw();return t.KtG(r.RePasswordModel=e)}),t.ALo(42,"translate"),t.qZA(),t.YNc(43,ct,2,0,"mat-icon",13),t.TgZ(44,"mat-icon",14),t._uU(45,"mode_edit"),t.qZA(),t.TgZ(46,"mat-hint",15),t._uU(47),t.qZA(),t.YNc(48,dt,6,6,"mat-error",2),t.YNc(49,mt,3,3,"mat-error",2),t.qZA(),t.TgZ(50,"img",16),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t.qZA(),t.TgZ(51,"mat-icon",17),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t._uU(52,"refresh"),t.qZA(),t.TgZ(53,"mat-form-field",9)(54,"mat-label",10),t._uU(55),t.ALo(56,"translate"),t.qZA(),t.TgZ(57,"input",39,19),t.NdJ("ngModelChange",function(e){t.CHM(a);const r=t.oxw();return t.KtG(r.dataModelforgetPasswordEntryPinCode.captchaText=e)}),t.ALo(59,"translate"),t.qZA(),t.YNc(60,ut,2,0,"mat-icon",13),t.TgZ(61,"mat-icon",14),t._uU(62,"mode_edit"),t.qZA(),t.YNc(63,gt,6,6,"mat-error",2),t.qZA(),t.TgZ(64,"div",40)(65,"button",41),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"a",42),t._uU(69),t.ALo(70,"translate"),t.qZA(),t.YNc(71,ht,2,0,"ng-container",2),t.ALo(72,"async"),t.qZA(),t.TgZ(73,"p",24),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.changeforgetState("email"))}),t._uU(74),t.ALo(75,"translate"),t.qZA(),t._UZ(76,"div"),t.qZA()}if(2&n){const a=t.MAs(1),o=t.MAs(14),e=t.MAs(27),r=t.MAs(41),c=t.MAs(58),l=t.oxw();t.Q6J("ngStyle",t.VKq(66,G,l.errorState===l.errorStates.NoError?"none":"block")),t.xp6(4),t.hij(" ",t.lcZ(5,38,"AUTH.FORGOT.TITLE")," "),t.xp6(3),t.hij(" ",t.lcZ(8,40,"AUTH.FORGOT.DESCSMS")," "),t.xp6(4),t.hij(" ",t.lcZ(12,42,"AUTH.FORGOT.PIN_CODE"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(15,44,"AUTH.FORGOT.SEND_PIN_CODE"),""),t.Q6J("ngModel",l.dataModelforgetPasswordEntryPinCode.activateCode)("disabled",!l.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",l.dataModelforgetPasswordEntryPinCode.activateCode),t.xp6(4),t.hij("",o.value.length," / 100"),t.xp6(1),t.Q6J("ngIf",null==o.errors?null:o.errors.required),t.xp6(3),t.hij(" ",t.lcZ(25,46,"AUTH.FORGOT.PASSWORD"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(28,48,"AUTH.FORGOT.PASSWORD"),""),t.Q6J("ngModel",l.dataModelforgetPasswordEntryPinCode.newPassword)("disabled",!l.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",l.dataModelforgetPasswordEntryPinCode.newPassword),t.xp6(4),t.hij("",e.value.length," / 50"),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("passwordToCheck",l.dataModelforgetPasswordEntryPinCode.newPassword),t.xp6(3),t.hij(" ",t.lcZ(39,50,"AUTH.FORGOT.CONFIRM_PASSWORD"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(42,52,"AUTH.FORGOT.CONFIRM_PASSWORD"),""),t.Q6J("ngModel",l.RePasswordModel)("disabled",!l.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",l.RePasswordModel),t.xp6(4),t.hij("",r.value.length," / 50"),t.xp6(1),t.Q6J("ngIf",null==r.errors?null:r.errors.required),t.xp6(1),t.Q6J("ngIf",r.value!=e.value),t.xp6(1),t.s9C("src",l.captchaModel.image,t.LSH),t.xp6(5),t.hij(" ",t.lcZ(56,54,"AUTH.INPUT.CAPTCHACODE"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(59,56,"AUTH.INPUT.CAPTCHACODE"),""),t.Q6J("ngModel",l.dataModelforgetPasswordEntryPinCode.captchaText)("disabled",!l.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",l.dataModelforgetPasswordEntryPinCode.captchaText),t.xp6(3),t.Q6J("ngIf",null==c.errors?null:c.errors.required),t.xp6(2),t.Q6J("disabled",a.invalid||!l.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(67,58,"AUTH.FORGOT.RESET_PASSWORD")," "),t.xp6(3),t.hij(" ",t.lcZ(70,60,"AUTH.REGISTER.RETURN_TO_LOGIN")," "),t.xp6(2),t.Q6J("ngIf",t.lcZ(72,62,l.isLoading$)),t.xp6(3),t.Oqu(t.lcZ(75,64,"MESSAGE.Resend_the_recovery_code"))}}function _t(n,s){1&n&&(t.ynx(0),t.TgZ(1,"div",43)(2,"div",44)(3,"div",45)(4,"h3",46),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"p",47),t._uU(8," Message_with_recovery_instruction"),t._UZ(9,"br"),t._uU(10," has been sent"),t._UZ(11,"br"),t.qZA(),t.TgZ(12,"a",48),t._uU(13," Ok got it! "),t.qZA()()()(),t.BQk()),2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"AUTH.FORGOT.EMAIL_IS_CORRECT")))}function ft(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",49)(2,"div",50),t._uU(3),t.qZA()(),t.BQk()),2&n){const a=t.oxw().message;t.xp6(3),t.hij(" ",a," ")}}function St(n,s){if(1&n&&t.YNc(0,ft,4,1,"ng-container",2),2&n){const a=s.control;t.Q6J("ngIf",a.hasError(s.validation)&&(a.dirty||a.touched))}}var C=(()=>{return(n=C||(C={}))[n.NotSubmitted=0]="NotSubmitted",n[n.HasError=1]="HasError",n[n.NoError=2]="NoError",C;var n})();let At=(()=>{var n;class s{constructor(o,e,r,c,l){(0,i.Z)(this,"coreAuthService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"errorState",C.NotSubmitted),(0,i.Z)(this,"errorStates",C),(0,i.Z)(this,"isLoading$",void 0),(0,i.Z)(this,"dataModelforgetPasswordBySms",new u.JVu),(0,i.Z)(this,"dataModelforgetPasswordByEmail",new u.JVu),(0,i.Z)(this,"dataModelforgetPasswordEntryPinCode",new u.z2K),(0,i.Z)(this,"captchaModel",new u.Frc),(0,i.Z)(this,"forgetState","sms"),(0,i.Z)(this,"loading",new S.O),(0,i.Z)(this,"formInfo",new u.LEF),(0,i.Z)(this,"passwordIsValid",!1),(0,i.Z)(this,"RePasswordModel",""),(0,i.Z)(this,"onCaptchaOrderInProcess",!1),this.coreAuthService=o,this.cmsToastrService=e,this.translate=r,this.router=c,this.cdr=l,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.RePasswordModel=""}ngOnInit(){this.onCaptchaOrder()}onActionSubmitOrderCodeBySms(){this.formInfo.buttonSubmittedEnabled=!1,this.errorState=C.NotSubmitted,this.dataModelforgetPasswordBySms.captchaKey=this.captchaModel.key,this.dataModelforgetPasswordEntryPinCode.email="",this.dataModelforgetPasswordEntryPinCode.mobile=this.dataModelforgetPasswordBySms.mobile;const o=this.constructor.name+".ServiceForgetPassword";this.loading.Start(o,this.translate.instant("AUTH.FORGOT.REQUEST_PASSWORD_REMINDER")),this.coreAuthService.ServiceForgetPassword(this.dataModelforgetPasswordBySms).subscribe({next:e=>{e.isSuccess?(this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.The_activation_code_was_texted_with_you")),this.forgetState="entrycode"):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.loading.Stop(o)},error:e=>{this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.loading.Stop(o)}})}onActionSubmitOrderCodeByEmail(){this.formInfo.buttonSubmittedEnabled=!1,this.errorState=C.NotSubmitted,this.dataModelforgetPasswordByEmail.captchaKey=this.captchaModel.key,this.dataModelforgetPasswordEntryPinCode.mobile="",this.dataModelforgetPasswordEntryPinCode.email=this.dataModelforgetPasswordByEmail.email;const o=this.constructor.name+".ServiceForgetPassword";this.loading.Start(o,this.translate.instant("AUTH.FORGOT.REQUEST_PASSWORD_REMINDER")),this.coreAuthService.ServiceForgetPassword(this.dataModelforgetPasswordByEmail).subscribe({next:e=>{e.isSuccess?(this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.The_activation_code_was_emailed_to_you")),this.forgetState="entrycode"):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.loading.Stop(o)},error:e=>{this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.loading.Stop(o)}})}onActionSubmitEntryPinCode(){this.formInfo.buttonSubmittedEnabled=!1,this.errorState=C.NotSubmitted,this.dataModelforgetPasswordEntryPinCode.captchaKey=this.captchaModel.key;const o=this.constructor.name+".ServiceForgetPasswordEntryPinCode";this.loading.Start(o,this.translate.instant("MESSAGE.Check_the_code_on_the_server")),this.coreAuthService.ServiceForgetPasswordEntryPinCode(this.dataModelforgetPasswordEntryPinCode).subscribe({next:e=>{e.isSuccess?(this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.Your_password_was_changed_successfully")),setTimeout(()=>this.router.navigate(["/"]),1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.loading.Stop(o)},error:e=>{this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.loading.Stop(o)}})}passwordValid(o){this.passwordIsValid=o}onCaptchaOrder(){if(this.onCaptchaOrderInProcess)return;this.dataModelforgetPasswordBySms.captchaText="";const o=this.constructor.name+".ServiceCaptcha";this.loading.Start(o,this.translate.instant("MESSAGE.get_security_photo_content")),this.coreAuthService.ServiceCaptcha().subscribe({next:e=>{this.captchaModel=e.item,this.onCaptchaOrderInProcess=!1,this.loading.Stop(o)},error:e=>{this.onCaptchaOrderInProcess=!1,this.loading.Stop(o)}})}changeforgetState(o){this.forgetState=o}}return n=s,(0,i.Z)(s,"\u0275fac",function(o){return new(o||n)(t.Y36(u.Z8z),t.Y36(M.e),t.Y36(T.sK),t.Y36(g.F0),t.Y36(t.sBO))}),(0,i.Z)(s,"\u0275cmp",t.Xpm({type:n,selectors:[["app-auth-forgot-password"]],decls:7,vars:4,consts:[[1,"login-form","login-forgot"],["class","form fv-plugins-bootstrap fv-plugins-framework","novalidate","novalidate","id","kt_login_forgot_form",3,"ngStyle","ngSubmit",4,"ngIf"],[4,"ngIf"],["formError",""],["novalidate","novalidate","id","kt_login_forgot_form",1,"form","fv-plugins-bootstrap","fv-plugins-framework",3,"ngStyle","ngSubmit"],["vformBySms","ngForm"],[1,"pb-13","pt-lg-0","pt-5"],[1,"font-weight-bolder","text-dark","font-size-h4","font-size-h1-lg"],[1,"text-muted","font-weight-bold","font-size-h4"],[1,"ntk-full-width"],[1,"form-label"],["matInput","","name","dataModelforgetPasswordBySms.mobile","type","text","autocomplete","off","minlength","5","maxlength","50","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],["Mobile",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["align","end"],["alt","",1,"mb-3",3,"src","click"],["matSuffix","",3,"click"],["matInput","","name","dataModelforgetPasswordBySms.captchaText","type","number","autocomplete","off","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],["captchaText",""],[1,"row"],[1,"col-12","col-lg-6"],["type","submit","id","kt_login_forgot_submit",1,"btn","btn-primary","font-weight-bolder","font-size-h5","col-12",2,"margin","1px",3,"disabled"],["routerLink","/auth/singin","id","kt_login_forgot_cancel",1,"btn","btn-primary","font-weight-bolder","font-size-h5","col-12",2,"margin","1px"],[3,"click"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"spinner","spinner-primary","ml-5"],["vformByEmail","ngForm"],["matInput","","name","dataModelforgetPasswordByEmail.email","type","email","autocomplete","off","minlength","5","maxlength","50","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],["Email",""],["matInput","","name","dataModelforgetPasswordByEmail.captchaText","type","text","autocomplete","off","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],["vformEntryCode","ngForm"],["matInput","","name","dataModelforgetPasswordEntryPinCode.activateCode","type","text","autocomplete","off","minlength","3","maxlength","50","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],["ActivateCode",""],["matInput","","name","dataModelforgetPasswordEntryPinCode.newPassword","type","password","autocomplete","off","minlength","3","maxlength","50","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],["newPassword",""],[3,"passwordToCheck","passwordStrength"],["matInput","","name","RePasswordModel","type","password","autocomplete","off","minlength","3","maxlength","50","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],["RePassword",""],["matInput","","name","dataModelforgetPasswordEntryPinCode.captchaText","type","number","autocomplete","off","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],[1,"form-group","d-flex","flex-wrap","pb-lg-0"],["type","submit","id","kt_login_forgot_submit",1,"btn","btn-primary","font-weight-bolder","font-size-h6","px-8","py-4","my-3",3,"disabled"],["routerLink","/auth/singin","id","kt_login_forgot_cancel",1,"btn","btn-primary","font-weight-bolder","font-size-h6","px-8","py-4","my-3","mr-2"],[1,"card","card-custom","bgi-no-repeat","gutter-b",2,"height","175px","background-color","#4ab58e","background-position","calc(100% + 1rem) bottom","background-size","25% auto","background-image","url(assets/media/svg/humans/custom-1.svg)"],[1,"card-body","d-flex","align-items-center"],[1,"py-2"],[1,"text-white","font-weight-bolder","mb-3"],[1,"text-white","font-size-lg"],["routerLink","/auth/singin",1,"swal2-confirm","btn","font-weight-bold","btn-light-primary"],[1,"fv-plugins-message-container"],[1,"fv-help-block"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0),t.YNc(1,X,52,44,"form",1),t.YNc(2,rt,52,44,"form",1),t.YNc(3,pt,77,68,"form",1),t.YNc(4,_t,14,3,"ng-container",2),t.qZA(),t.YNc(5,St,1,1,"ng-template",null,3,t.W1O)),2&o&&(t.xp6(1),t.Q6J("ngIf","sms"==e.forgetState),t.xp6(1),t.Q6J("ngIf","email"==e.forgetState),t.xp6(1),t.Q6J("ngIf","entrycode"==e.forgetState),t.xp6(1),t.Q6J("ngIf",e.errorState===e.errorStates.NoError))},dependencies:[h.O5,h.PC,d._Y,d.Fj,d.wV,d.JJ,d.JL,d.Q7,d.wO,d.nD,d.On,d.F,f.KE,f.hX,f.bx,f.TO,f.R9,w.Hw,U.Nt,H.Z,g.rH,h.Ov,T.X$],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]})),s})();var v=p(75738);let Tt=(()=>{var n;class s{transform(o,e,r){return o?e?(r||(r=""),o.replace(e,r)):o:""}}return n=s,(0,i.Z)(s,"\u0275fac",function(o){return new(o||n)}),(0,i.Z)(s,"\u0275pipe",t.Yjl({name:"replaceText",type:n,pure:!0})),s})();function Zt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",23),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.dataModelAuthUserSignInBySms.mobile="")}),t._uU(1," close"),t.qZA()}}function Mt(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.SINGINBYSMS.MOBILE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function bt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",23),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.dataModelAuthUserSignInBySms.captchaText="")}),t._uU(1," close"),t.qZA()}}function Ct(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.CAPTCHACODE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}const J=function(n){return{display:n}};function xt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"form",5,6),t.NdJ("ngSubmit",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onActionSubmitOrderCodeBySms())}),t.TgZ(2,"div",7)(3,"h3",8),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p",9),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"mat-form-field",10)(10,"mat-label",11),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",12,13),t.NdJ("ngModelChange",function(e){t.CHM(a);const r=t.oxw();return t.KtG(r.dataModelAuthUserSignInBySms.mobile=e)}),t.ALo(15,"translate"),t.qZA(),t.YNc(16,Zt,2,0,"mat-icon",14),t.YNc(17,Mt,6,6,"mat-error",3),t.qZA(),t.TgZ(18,"img",15),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t.qZA(),t.TgZ(19,"mat-icon",16),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t._uU(20,"refresh"),t.qZA(),t.TgZ(21,"mat-form-field",10)(22,"mat-label",11),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"input",17,18),t.NdJ("ngModelChange",function(e){t.CHM(a);const r=t.oxw();return t.KtG(r.dataModelAuthUserSignInBySms.captchaText=e)}),t.ALo(27,"translate"),t.qZA(),t.YNc(28,bt,2,0,"mat-icon",14),t.YNc(29,Ct,6,6,"mat-error",3),t.qZA(),t.TgZ(30,"div",19)(31,"div",20)(32,"button",21),t._uU(33),t.ALo(34,"translate"),t.qZA()(),t.TgZ(35,"div",20)(36,"a",22),t._uU(37),t.ALo(38,"translate"),t.qZA()()(),t._UZ(39,"br"),t.qZA()}if(2&n){const a=t.MAs(1),o=t.MAs(14),e=t.MAs(26),r=t.oxw();t.Q6J("ngStyle",t.VKq(35,J,r.errorState===r.errorStates.NoError?"none":"block")),t.xp6(4),t.hij(" ",t.lcZ(5,19,"AUTH.SINGINBYSMS.TITLE")," "),t.xp6(3),t.hij(" ",t.lcZ(8,21,"AUTH.SINGINBYSMS.DESCSMS")," "),t.xp6(4),t.hij(" ",t.lcZ(12,23,"AUTH.SINGINBYSMS.MOBILE"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(15,25,"AUTH.SINGINBYSMS.MOBILE"),""),t.Q6J("ngModel",r.dataModelAuthUserSignInBySms.mobile)("disabled",!r.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",r.dataModelAuthUserSignInBySms.mobile),t.xp6(1),t.Q6J("ngIf",null==o.errors?null:o.errors.required),t.xp6(1),t.s9C("src",r.captchaModel.image,t.LSH),t.xp6(5),t.hij(" ",t.lcZ(24,27,"AUTH.INPUT.CAPTCHACODE"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(27,29,"AUTH.INPUT.CAPTCHACODE"),""),t.Q6J("ngModel",r.dataModelAuthUserSignInBySms.captchaText)("disabled",!r.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",r.dataModelAuthUserSignInBySms.captchaText),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(3),t.Q6J("disabled",a.invalid||!r.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(34,31,"AUTH.SINGINBYSMS.SEND_PIN_CODE")," "),t.xp6(4),t.hij(" ",t.lcZ(38,33,"AUTH.REGISTER.RETURN_TO_LOGIN")," ")}}function Et(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",23),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.dataModelAuthUserSignInBySms.code="")}),t._uU(1," close"),t.qZA()}}function It(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.SINGINBYSMS.SEND_PIN_CODE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function wt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",23),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.dataModelAuthUserSignInBySms.captchaText="")}),t._uU(1," close"),t.qZA()}}function Ut(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.CAPTCHACODE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function vt(n,s){if(1&n&&t._UZ(0,"progress",33),2&n){const a=t.oxw(2);t.s9C("max",a.prorocess.progressBarMaxValue),t.Q6J("value",a.prorocess.progressBarValue)}}function yt(n,s){1&n&&(t.ynx(0),t._UZ(1,"span",34),t.BQk())}function Pt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"form",5,24),t.NdJ("ngSubmit",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onActionSubmitEntryPinCode())}),t.TgZ(2,"div",7)(3,"h3",8),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p",9),t._uU(7),t.ALo(8,"replaceText"),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"mat-form-field",10)(11,"mat-label",11),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"input",25,26),t.NdJ("ngModelChange",function(e){t.CHM(a);const r=t.oxw();return t.KtG(r.dataModelAuthUserSignInBySms.code=e)}),t.ALo(16,"translate"),t.qZA(),t.YNc(17,Et,2,0,"mat-icon",14),t.YNc(18,It,6,6,"mat-error",3),t.qZA(),t.TgZ(19,"img",15),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t.qZA(),t.TgZ(20,"mat-icon",16),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t._uU(21,"refresh"),t.qZA(),t.TgZ(22,"mat-form-field",10)(23,"mat-label",11),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"input",27,18),t.NdJ("ngModelChange",function(e){t.CHM(a);const r=t.oxw();return t.KtG(r.dataModelAuthUserSignInBySms.captchaText=e)}),t.ALo(28,"translate"),t.qZA(),t.YNc(29,wt,2,0,"mat-icon",14),t.YNc(30,Ut,6,6,"mat-error",3),t.qZA(),t.TgZ(31,"div",19)(32,"div",28)(33,"button",29),t._uU(34),t.ALo(35,"translate"),t.qZA()(),t.TgZ(36,"div",28)(37,"button",30),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onActionSubmitOrderCodeBySms())}),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.YNc(40,vt,1,2,"progress",31),t.qZA(),t.TgZ(41,"div",28)(42,"a",32),t._uU(43),t.ALo(44,"translate"),t.qZA()(),t.YNc(45,yt,2,0,"ng-container",3),t.ALo(46,"async"),t.qZA(),t._UZ(47,"div"),t.qZA()}if(2&n){const a=t.MAs(1),o=t.MAs(15),e=t.MAs(27),r=t.oxw();t.Q6J("ngStyle",t.VKq(48,J,r.errorState===r.errorStates.NoError?"none":"block")),t.xp6(4),t.hij(" ",t.lcZ(5,24,"AUTH.SINGINBYSMS.TITLE")," "),t.xp6(3),t.hij(" ",t.Dn7(8,26,t.lcZ(9,30,"AUTH.SINGINBYSMS.DESCSMSEntryCode"),"$MOBILE$",r.dataModelAuthUserSignInBySms.mobile)," "),t.xp6(5),t.hij(" ",t.lcZ(13,32,"AUTH.SINGINBYSMS.PIN_CODE"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(16,34,"AUTH.SINGINBYSMS.SEND_PIN_CODE"),""),t.Q6J("ngModel",r.dataModelAuthUserSignInBySms.code)("disabled",!r.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",r.dataModelAuthUserSignInBySms.code),t.xp6(1),t.Q6J("ngIf",null==o.errors?null:o.errors.required),t.xp6(1),t.s9C("src",r.captchaModel.image,t.LSH),t.xp6(5),t.hij(" ",t.lcZ(25,36,"AUTH.INPUT.CAPTCHACODE"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(28,38,"AUTH.INPUT.CAPTCHACODE"),""),t.Q6J("ngModel",r.dataModelAuthUserSignInBySms.captchaText)("disabled",!r.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",r.dataModelAuthUserSignInBySms.captchaText),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(3),t.Q6J("disabled",a.invalid||!r.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(35,40,"AUTH.SINGINBYSMS.LOGIN")," "),t.xp6(3),t.Q6J("disabled",r.buttonnResendSmsDisable),t.xp6(1),t.AsE(" ",t.lcZ(39,42,"AUTH.LOGIN.RESEND_SMS")," ",null==r.prorocess?null:r.prorocess.message," "),t.xp6(2),t.Q6J("ngIf",(null==r.prorocess?null:r.prorocess.progressBarValue)>0&&r.buttonnResendSmsDisable),t.xp6(3),t.hij(" ",t.lcZ(44,44,"AUTH.REGISTER.RETURN_TO_LOGIN")," "),t.xp6(2),t.Q6J("ngIf",t.lcZ(46,46,r.isLoading$))}}function Ot(n,s){1&n&&(t.ynx(0),t.TgZ(1,"div",35)(2,"div",36)(3,"div",37)(4,"h3",38),t._uU(5,"Email is correct!"),t.qZA(),t.TgZ(6,"p",39),t._uU(7," Message_with_recovery_instruction"),t._UZ(8,"br"),t._uU(9," has been sent"),t._UZ(10,"br"),t.qZA(),t.TgZ(11,"a",40),t._uU(12," Ok gotit! "),t.qZA()()()(),t.BQk())}function Nt(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",41)(2,"div",42),t._uU(3),t.qZA()(),t.BQk()),2&n){const a=t.oxw().message;t.xp6(3),t.hij(" ",a," ")}}function qt(n,s){if(1&n&&t.YNc(0,Nt,4,1,"ng-container",3),2&n){const a=s.control;t.Q6J("ngIf",a.hasError(s.validation)&&(a.dirty||a.touched))}}var E=(()=>{return(n=E||(E={}))[n.NotSubmitted=0]="NotSubmitted",n[n.HasError=1]="HasError",n[n.NoError=2]="NoError",E;var n})();class Lt{constructor(){(0,i.Z)(this,"progressBarValue",void 0),(0,i.Z)(this,"progressBarMaxValue",void 0),(0,i.Z)(this,"message",void 0)}}let Rt=(()=>{var n;class s{constructor(o,e,r,c,l,_){(0,i.Z)(this,"coreAuthService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"translationService",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"errorState",E.NotSubmitted),(0,i.Z)(this,"errorStates",E),(0,i.Z)(this,"isLoading$",void 0),(0,i.Z)(this,"dataModelAuthUserSignInBySms",new u.KOP),(0,i.Z)(this,"captchaModel",new u.Frc),(0,i.Z)(this,"forgetState","sms"),(0,i.Z)(this,"loading",new S.O),(0,i.Z)(this,"formInfo",new u.LEF),(0,i.Z)(this,"passwordIsValid",!1),(0,i.Z)(this,"RePasswordModel",""),(0,i.Z)(this,"onCaptchaOrderInProcess",!1),(0,i.Z)(this,"prorocess",void 0),(0,i.Z)(this,"buttonnResendSmsDisable",!0),this.coreAuthService=o,this.cmsToastrService=e,this.translate=r,this.router=c,this.translationService=l,this.cdr=_,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.RePasswordModel=""}ngOnInit(){this.onCaptchaOrder()}onActionSubmitOrderCodeBySms(){if("entrycode"==this.forgetState){if(!this.dataModelAuthUserSignInBySms.captchaText||0==this.dataModelAuthUserSignInBySms.captchaText.length)return void this.cmsToastrService.typeWarningMessage(this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSetCpatcha"));this.dataModelAuthUserSignInBySms.code=""}this.formInfo.buttonSubmittedEnabled=!1,this.errorState=E.NotSubmitted,this.dataModelAuthUserSignInBySms.captchaKey=this.captchaModel.key,this.dataModelAuthUserSignInBySms.lang=this.translationService.getSelectedLanguage();const o=this.constructor.name+".ServiceSigninUserBySMS";this.loading.Start(o,this.translate.instant("MESSAGE.Send_login_request_with_one_time_password")),this.coreAuthService.ServiceSigninUserBySMS(this.dataModelAuthUserSignInBySms).subscribe({next:e=>{if(e.isSuccess){this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.The_login_code_was_texted_with_you")),this.forgetState="entrycode",this.prorocess=new Lt,this.prorocess.progressBarValue=0,this.prorocess.progressBarMaxValue=60,this.prorocess.message="",this.buttonnResendSmsDisable=!0;var r=this.prorocess.progressBarMaxValue;let c=setInterval(()=>{this.prorocess.progressBarValue=this.prorocess.progressBarMaxValue-r,this.prorocess.message="("+r+" "+this.translate.instant("MESSAGE.SECONDS")+")",(r-=1)<=0&&(this.buttonnResendSmsDisable=!1,this.prorocess.message="",clearInterval(c)),this.cdr.detectChanges()},1e3)}else this.cmsToastrService.typeErrorMessage(e.errorMessage);this.formInfo.buttonSubmittedEnabled=!0,(!this.captchaModel||new Date(this.captchaModel.expire).getTime()-(new Date).getTime()<2)&&this.onCaptchaOrder(),this.loading.Stop(o)},error:e=>{this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.loading.Stop(o)}})}onActionSubmitEntryPinCode(){this.formInfo.buttonSubmittedEnabled=!1,this.errorState=E.NotSubmitted,this.dataModelAuthUserSignInBySms.captchaKey=this.captchaModel.key,this.dataModelAuthUserSignInBySms.lang=this.translationService.getSelectedLanguage();const o=this.constructor.name+".ServiceSigninUserBySMS";this.loading.Start(o,this.translate.instant("MESSAGE.Send_login_request_with_one_time_password"));const e=+localStorage.getItem("siteId");e>0&&(this.dataModelAuthUserSignInBySms.siteId=e);const r=+localStorage.getItem("ResellerSiteId");r>0&&(this.dataModelAuthUserSignInBySms.resellerSiteId=r);const c=+localStorage.getItem("ResellerUserId");c>0&&(this.dataModelAuthUserSignInBySms.resellerUserId=c),this.coreAuthService.ServiceSigninUserBySMS(this.dataModelAuthUserSignInBySms).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessLogin(),this.formInfo.buttonSubmittedEnabled=!1,l.item.siteId>0?setTimeout(()=>this.router.navigate(["/dashboard"]),1e3):setTimeout(()=>this.router.navigate(["/core/site/selection"]),1e3)):(this.onCaptchaOrder(),this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.formInfo.buttonSubmittedEnabled=!0,this.loading.Stop(o)},error:l=>{this.cmsToastrService.typeError(l),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.loading.Stop(o)}})}passwordValid(o){this.passwordIsValid=o}onCaptchaOrder(){if(this.onCaptchaOrderInProcess)return;this.dataModelAuthUserSignInBySms.captchaText="";const o=this.constructor.name+".ServiceCaptcha";this.loading.Start(o,this.translate.instant("MESSAGE.get_security_photo_content")),this.coreAuthService.ServiceCaptcha().subscribe({next:e=>{this.captchaModel=e.item,this.onCaptchaOrderInProcess=!1,this.loading.Stop(o)},error:e=>{this.onCaptchaOrderInProcess=!1,this.loading.Stop(o)}})}changeforgetState(o){this.forgetState=o}}return n=s,(0,i.Z)(s,"\u0275fac",function(o){return new(o||n)(t.Y36(u.Z8z),t.Y36(M.e),t.Y36(T.sK),t.Y36(g.F0),t.Y36(b.D),t.Y36(t.sBO))}),(0,i.Z)(s,"\u0275cmp",t.Xpm({type:n,selectors:[["app-auth-singin-bysms"]],decls:7,vars:4,consts:[[3,"options"],[1,"login-form","login-forgot"],["class","form fv-plugins-bootstrap fv-plugins-framework","novalidate","novalidate","id","kt_login_forgot_form",3,"ngStyle","ngSubmit",4,"ngIf"],[4,"ngIf"],["formError",""],["novalidate","novalidate","id","kt_login_forgot_form",1,"form","fv-plugins-bootstrap","fv-plugins-framework",3,"ngStyle","ngSubmit"],["vformBySms","ngForm"],[1,"pb-13","pt-lg-0","pt-5"],[1,"font-weight-bolder","text-dark","font-size-h4","font-size-h1-lg"],[1,"text-muted","font-weight-bold","font-size-h4"],[1,"ntk-full-width"],[1,"form-label"],["matInput","","name","dataModelAuthUserSignInBySms.mobile","type","text","autocomplete","off","minlength","5","maxlength","50","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],["Mobile",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["alt","",1,"mb-3",3,"src","click"],["matSuffix","",3,"click"],["matInput","","name","dataModelforgetPasswordBySms.captchaText","type","number","autocomplete","off","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],["captchaText",""],[1,"row"],[1,"col-12","col-lg-6"],["type","submit","id","kt_login_forgot_submit",1,"btn","btn-primary","font-weight-bolder","font-size-h4","col-12",2,"margin","1px",3,"disabled"],["routerLink","/auth/singin","id","kt_login_forgot_cancel",1,"btn","btn-primary","font-weight-bolder","font-size-h4","col-12",2,"margin","1px"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["vformEntryCode","ngForm"],["matInput","","name","dataModelAuthUserSignInBySms.code","type","number","autocomplete","off","minlength","3","maxlength","50","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],["Code",""],["matInput","","name","dataModelAuthUserSignInBySms.captchaText","type","number","autocomplete","off","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],[1,"col-12","col-lg-12"],["type","submit","id","kt_login_forgot_submit",1,"btn","btn-primary","font-weight-bolder","font-size-h5","col-12",2,"margin","1px",3,"disabled"],["type","button","id","kt_login_forgot_submit",1,"btn","btn-primary","font-weight-bolder","font-size-h5","col-12",2,"margin","1px",3,"disabled","click"],["style","width: inherit;",3,"value","max",4,"ngIf"],["routerLink","/auth/singin","id","kt_login_forgot_cancel",1,"btn","btn-primary","font-weight-bolder","font-size-h5","col-12",2,"margin","1px"],[2,"width","inherit",3,"value","max"],[1,"spinner","spinner-primary","ml-5"],[1,"card","card-custom","bgi-no-repeat","gutter-b",2,"height","175px","background-color","#4ab58e","background-position","calc(100% + 1rem) bottom","background-size","25% auto","background-image","url(assets/media/svg/humans/custom-1.svg)"],[1,"card-body","d-flex","align-items-center"],[1,"py-2"],[1,"text-white","font-weight-bolder","mb-3"],[1,"text-white","font-size-lg"],["routerLink","/auth/singin",1,"swal2-confirm","btn","font-weight-bold","btn-light-primary"],[1,"fv-plugins-message-container"],[1,"fv-help-block"]],template:function(o,e){1&o&&(t._UZ(0,"app-progress-spinner",0),t.TgZ(1,"div",1),t.YNc(2,xt,40,37,"form",2),t.YNc(3,Pt,48,50,"form",2),t.YNc(4,Ot,13,0,"ng-container",3),t.qZA(),t.YNc(5,qt,1,1,"ng-template",null,4,t.W1O)),2&o&&(t.Q6J("options",e.loading),t.xp6(2),t.Q6J("ngIf","sms"===e.forgetState),t.xp6(1),t.Q6J("ngIf","entrycode"===e.forgetState),t.xp6(1),t.Q6J("ngIf",e.errorState===e.errorStates.NoError))},dependencies:[h.O5,h.PC,d._Y,d.Fj,d.wV,d.JJ,d.JL,d.Q7,d.wO,d.nD,d.On,d.F,f.KE,f.hX,f.TO,f.R9,w.Hw,U.Nt,v.O,g.rH,h.Ov,T.X$,Tt],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]})),s})();function Gt(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.AsE(" ",t.lcZ(2,3,"AUTH.INPUT.MOBILE")," / ",t.lcZ(3,5,"AUTH.INPUT.EMAIL")," "),t.xp6(4),t.Oqu(t.lcZ(6,7,"MESSAGE.required")))}function kt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",19),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.hidePassword=!e.hidePassword)}),t._uU(1),t.qZA()}if(2&n){const a=t.oxw();t.uIk("aria-label","Hide password")("aria-pressed",a.hidePassword),t.xp6(1),t.hij(" ",a.hidePassword?"visibility_off":"visibility"," ")}}function Ht(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.PASSWORD")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function Jt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",25),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.dataModel.captchaText="")}),t._uU(1," close"),t.qZA()}}function Ft(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.CAPTCHACODE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function Bt(n,s){if(1&n){const a=t.EpF();t.ynx(0),t.TgZ(1,"img",20),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t.qZA(),t.TgZ(2,"mat-icon",21),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t._uU(3,"refresh"),t.qZA(),t.TgZ(4,"mat-form-field",6)(5,"mat-label",7),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"input",22,23),t.NdJ("ngModelChange",function(e){t.CHM(a);const r=t.oxw();return t.KtG(r.dataModel.captchaText=e)}),t.ALo(10,"translate"),t.qZA(),t.YNc(11,Jt,2,0,"mat-icon",24),t.YNc(12,Ft,6,6,"mat-error",10),t.qZA(),t.BQk()}if(2&n){const a=t.MAs(9),o=t.oxw();t.xp6(1),t.s9C("src",o.captchaModel.image,t.LSH),t.xp6(5),t.hij(" ",t.lcZ(7,7,"AUTH.INPUT.CAPTCHACODE"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(10,9,"AUTH.INPUT.CAPTCHACODE"),""),t.Q6J("ngModel",o.dataModel.captchaText)("disabled",!o.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",o.dataModel.captchaText),t.xp6(1),t.Q6J("ngIf",null==a.errors?null:a.errors.required)}}const Qt=function(){return["/auth/singup"]},Yt=function(){return["/auth/singinbysms"]},Dt=function(){return["/auth/forgot-password"]};let jt=(()=>{var n;class s{constructor(o,e,r,c,l,_,Z){(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"route",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"coreAuthService",void 0),(0,i.Z)(this,"translationService",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"firstRun",!0),(0,i.Z)(this,"hidePassword",!0),(0,i.Z)(this,"loading",new S.O),(0,i.Z)(this,"formInfo",new u.LEF),(0,i.Z)(this,"dataModel",new u.kxH),(0,i.Z)(this,"captchaModel",new u.Frc),(0,i.Z)(this,"expireDate",void 0),(0,i.Z)(this,"aoutoCaptchaOrder",1),(0,i.Z)(this,"hasError",void 0),(0,i.Z)(this,"returnUrl",void 0),(0,i.Z)(this,"loginType","email"),(0,i.Z)(this,"onCaptchaOrderInProcess",!1),this.cmsToastrService=o,this.route=e,this.router=r,this.coreAuthService=c,this.translationService=l,this.translate=_,this.cdr=Z,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.firstRun=!0}ngOnInit(){this.onCaptchaOrder(),this.returnUrl=this.route.snapshot.queryParams["returnUrl".toString()]||"/",this.firstRun&&(this.dataModel.captchaText="0000")}onActionSubmit(){this.formInfo.buttonSubmittedEnabled=!1,this.hasError=!1,this.dataModel.captchaKey=this.captchaModel.key,this.dataModel.lang=this.translationService.getSelectedLanguage();const o=this.constructor.name+".ServiceSigninUser";this.loading.Start(o,this.translate.instant("MESSAGE.login_to_user_account"));const e=+localStorage.getItem("siteId");e>0&&(this.dataModel.siteId=e),this.coreAuthService.ServiceSigninUser(this.dataModel).subscribe({next:r=>{r.isSuccess?(this.cmsToastrService.typeSuccessLogin(),r.item.siteId>0?setTimeout(()=>this.router.navigate(["/dashboard"]),3e3):setTimeout(()=>this.router.navigate(["/core/site/selection"]),3e3)):(this.firstRun=!1,this.formInfo.buttonSubmittedEnabled=!0,this.cmsToastrService.typeErrorLogin(r.errorMessage),this.onCaptchaOrder()),this.loading.Stop(o)},error:r=>{this.firstRun=!1,this.formInfo.buttonSubmittedEnabled=!0,this.cmsToastrService.typeError(r),this.onCaptchaOrder(),this.loading.Stop(o)}})}onloginTypeChange(o){this.loginType=o}onCaptchaOrder(){if(this.onCaptchaOrderInProcess)return;this.dataModel.captchaText="";const o=this.constructor.name+".ServiceCaptcha";this.loading.Start(o,this.translate.instant("MESSAGE.get_security_photo_content")),this.coreAuthService.ServiceCaptcha().subscribe({next:e=>{if(e.isSuccess){this.captchaModel=e.item,this.expireDate=e.item.expire;const r=new Date,l=new Date(e.item.expire).getTime()-r.getTime();this.aoutoCaptchaOrder<10&&(this.aoutoCaptchaOrder=this.aoutoCaptchaOrder+1,setTimeout(()=>{this.firstRun||this.onCaptchaOrder()},l))}else this.cmsToastrService.typeErrorGetCpatcha(e.errorMessage);this.onCaptchaOrderInProcess=!1,this.loading.Stop(o)},error:e=>{this.onCaptchaOrderInProcess=!1,this.loading.Stop(o)}})}}return n=s,(0,i.Z)(s,"\u0275fac",function(o){return new(o||n)(t.Y36(M.e),t.Y36(g.gz),t.Y36(g.F0),t.Y36(u.Z8z),t.Y36(b.D),t.Y36(T.sK),t.Y36(t.sBO))}),(0,i.Z)(s,"\u0275cmp",t.Xpm({type:n,selectors:[["app-auth-singin"]],decls:46,vars:53,consts:[[1,"login-form","login-signin"],["novalidate","novalidate","id","kt_login_signin_form",1,"form",3,"ngSubmit"],["vform","ngForm"],[1,"pb-13","pt-lg-0","pt-5"],[1,"font-weight-bolder","text-dark","font-size-h4","font-size-h1-lg","center-text"],[3,"options"],[1,"ntk-full-width"],[1,"form-label"],["matInput","","name","dataModel.email","type","text","autocomplete","off","minlength","5","maxlength","50","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h4","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],["Email",""],[4,"ngIf"],["matInput","","name","dataModel.password","type","password","autocomplete","off","minlength","3","maxlength","50","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"type","ngModel","disabled","placeholder","ngModelChange"],["Password",""],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],[1,"pb-lg-0","pb-0"],["type","submit",1,"btn","btn-primary","font-weight-bolder","font-size-h5","col-12",2,"margin","1px",3,"disabled"],["type","button",1,"btn","btn-primary","font-weight-bolder","font-size-h5","col-12",2,"margin","1px",3,"routerLink","disabled"],[1,"row"],[1,"col-12","col-lg-6"],["mat-icon-button","","matSuffix","",3,"click"],["alt","",1,"mb-3",3,"src","click"],["matSuffix","",3,"click"],["matInput","","name","dataModel.captchaText","type","number","autocomplete","off","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h4","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],["captchaText",""],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,e){if(1&o&&(t.TgZ(0,"div",0)(1,"form",1,2),t.NdJ("ngSubmit",function(){return e.onActionSubmit()}),t.TgZ(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t._UZ(7,"app-progress-spinner",5),t.TgZ(8,"mat-form-field",6)(9,"mat-label",7),t._uU(10),t.ALo(11,"translate"),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",8,9),t.NdJ("ngModelChange",function(c){return e.dataModel.email=c}),t.ALo(15,"translate"),t.ALo(16,"translate"),t.qZA(),t.YNc(17,Gt,7,9,"mat-error",10),t.qZA(),t.TgZ(18,"mat-form-field",6)(19,"mat-label",7),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"input",11,12),t.NdJ("ngModelChange",function(c){return e.dataModel.password=c}),t.ALo(24,"translate"),t.qZA(),t.YNc(25,kt,2,3,"mat-icon",13),t.YNc(26,Ht,6,6,"mat-error",10),t.qZA(),t.YNc(27,Bt,13,11,"ng-container",10),t.TgZ(28,"div",14)(29,"button",15),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"div",14)(33,"button",16),t._uU(34),t.ALo(35,"translate"),t._UZ(36,"br"),t.qZA()(),t.TgZ(37,"div",17)(38,"div",18)(39,"button",16),t._uU(40),t.ALo(41,"translate"),t.qZA()(),t.TgZ(42,"div",18)(43,"button",16),t._uU(44),t.ALo(45,"translate"),t.qZA()()()()()()),2&o){const r=t.MAs(2),c=t.MAs(14),l=t.MAs(23);t.xp6(5),t.hij(" ",t.lcZ(6,28,"TRANSLATOR.WELCOME")," "),t.xp6(2),t.Q6J("options",e.loading),t.xp6(3),t.AsE(" ",t.lcZ(11,30,"AUTH.INPUT.MOBILE")," / ",t.lcZ(12,32,"AUTH.INPUT.EMAIL"),""),t.xp6(3),t.hYB("placeholder","",t.lcZ(15,34,"AUTH.INPUT.MOBILE")," / ",t.lcZ(16,36,"AUTH.INPUT.EMAIL"),""),t.Q6J("ngModel",e.dataModel.email)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Q6J("ngIf",null==c.errors?null:c.errors.required),t.xp6(3),t.hij(" ",t.lcZ(21,38,"AUTH.INPUT.PASSWORD"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(24,40,"AUTH.INPUT.PASSWORD"),""),t.Q6J("type",e.hidePassword?"password":"text")("ngModel",e.dataModel.password)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",e.dataModel.password),t.xp6(1),t.Q6J("ngIf",null==l.errors?null:l.errors.required),t.xp6(1),t.Q6J("ngIf",!e.firstRun),t.xp6(2),t.Q6J("disabled",r.invalid||!e.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(31,42,"AUTH.LOGIN.BUTTON")," "),t.xp6(3),t.Q6J("routerLink",t.DdM(50,Qt))("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(35,44,"AUTH.GENERAL.SIGNUP_BUTTON")," "),t.xp6(5),t.Q6J("routerLink",t.DdM(51,Yt))("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(41,46,"AUTH.LOGIN.SMS")," "),t.xp6(3),t.Q6J("routerLink",t.DdM(52,Dt))("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(45,48,"AUTH.FORGOT.TITLE")," ")}},dependencies:[h.O5,d._Y,d.Fj,d.wV,d.JJ,d.JL,d.Q7,d.wO,d.nD,d.On,d.F,f.KE,f.hX,f.TO,f.R9,w.Hw,U.Nt,v.O,g.rH,T.X$],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}.center-text[_ngcontent-%COMP%]{text-align:center}"]})),s})(),Kt=(()=>{var n;class s{constructor(o,e){(0,i.Z)(this,"authService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),this.authService=o,this.cmsToastrService=e,this.authService.ServiceLogout().subscribe({next:r=>{r.isSuccess?this.cmsToastrService.typeSuccessLogout():this.cmsToastrService.typeErrorMessage(r.errorMessage)}})}ngOnInit(){}}return n=s,(0,i.Z)(s,"\u0275fac",function(o){return new(o||n)(t.Y36(u.Z8z),t.Y36(M.e))}),(0,i.Z)(s,"\u0275cmp",t.Xpm({type:n,selectors:[["app-auth-singout"]],decls:2,vars:0,template:function(o,e){1&o&&(t.TgZ(0,"p"),t._uU(1,"logout works!"),t.qZA())},encapsulation:2})),s})();var zt=p(9638),x=p(54536);let Vt=(()=>{var n;class s{constructor(o,e,r,c){(0,i.Z)(this,"coreConfigurationService",void 0),(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"loading",new S.O),(0,i.Z)(this,"dataModelResult",new u.y$4),this.coreConfigurationService=o,this.cmsToastrService=e,this.cdr=r,this.translate=c,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}ngOnInit(){const o=this.constructor.name+"ServiceUserMembershipRule";this.loading.Start(o,this.translate.instant("MESSAGE.get_the_rules")),this.coreConfigurationService.ServiceUserMembershipRule().subscribe({next:e=>{e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorGetOne(e.errorMessage),this.loading.Stop(o)},error:e=>{this.cmsToastrService.typeErrorGetOne(e),this.loading.Stop(o)}})}}return n=s,(0,i.Z)(s,"\u0275fac",function(o){return new(o||n)(t.Y36(u.g9m),t.Y36(M.e),t.Y36(t.sBO),t.Y36(T.sK))}),(0,i.Z)(s,"\u0275cmp",t.Xpm({type:n,selectors:[["app-auth-singup-rule"]],decls:13,vars:12,consts:[["mat-dialog-title",""],[3,"options"],[3,"innerHTML"],[1,"ntk-button-row",2,"text-align","left"],["mat-raised-button","","color","accent","mat-dialog-close","",1,"btn"],["mat-raised-button","","color","success","cdkFocusInitial","",1,"btn",3,"mat-dialog-close"]],template:function(o,e){1&o&&(t.TgZ(0,"h2",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"mat-dialog-content"),t._UZ(4,"app-progress-spinner",1)(5,"div",2),t.qZA(),t.TgZ(6,"mat-dialog-actions",3)(7,"button",4),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",5),t._uU(11),t.ALo(12,"translate"),t.qZA()()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"TITLE.Rules")),t.xp6(3),t.Q6J("options",e.loading),t.xp6(1),t.Q6J("innerHTML",e.dataModelResult.item,t.oJD),t.xp6(3),t.Oqu(t.lcZ(9,8,"ACTION.DENY")),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.Oqu(t.lcZ(12,10,"ACTION.ACCEPT")))},dependencies:[zt.lW,x.ZT,x.uh,x.xY,x.H8,v.O,T.X$],encapsulation:2})),s})();const Wt=["vform"];function Xt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",41),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.dataModel.name="")}),t._uU(1," close"),t.qZA()}}function $t(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Name is "),t.TgZ(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"MESSAGE.required")))}function te(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",41),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.dataModel.family="")}),t._uU(1," close"),t.qZA()}}function ee(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Family is "),t.TgZ(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"MESSAGE.required")))}function oe(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",41),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.dataModel.email="")}),t._uU(1," close"),t.qZA()}}function ne(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Email is "),t.TgZ(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"MESSAGE.required")))}function re(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",41),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.dataModel.mobile="")}),t._uU(1," close"),t.qZA()}}function ae(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Mobile is "),t.TgZ(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"MESSAGE.required")))}function ie(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",41),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.dataModel.password="")}),t._uU(1," close"),t.qZA()}}function se(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Password is "),t.TgZ(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"MESSAGE.required")))}function le(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",41),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.RePasswordModel="")}),t._uU(1," close"),t.qZA()}}function ce(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," RePassword is "),t.TgZ(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"MESSAGE.required")))}function de(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"MESSAGE.Password_and_password_confirmation_are_different")," "))}function me(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"mat-icon",41),t.NdJ("click",function(){t.CHM(a);const e=t.oxw();return t.KtG(e.dataModel.captchaText="")}),t._uU(1," close"),t.qZA()}}function ue(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," captchaText is "),t.TgZ(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"MESSAGE.required")))}function ge(n,s){1&n&&(t.ynx(0),t._UZ(1,"span",42),t.BQk())}const he=[{path:"",component:D,children:[{path:"singin",component:jt,data:{title:"ROUTE.REGISTER.SIGNIN"}},{path:"singinbysms",component:Rt,data:{title:"ROUTE.REGISTER.SIGNINBYSMS"}},{path:"singout",component:Kt,data:{title:"ROUTE.REGISTER.SIGNOUT"}},{path:"singup",component:(()=>{var n;class s{constructor(o,e,r,c,l,_){(0,i.Z)(this,"cmsToastrService",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"coreAuthService",void 0),(0,i.Z)(this,"dialog",void 0),(0,i.Z)(this,"cdr",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"formGroup",void 0),(0,i.Z)(this,"loading",new S.O),(0,i.Z)(this,"formInfo",new u.LEF),(0,i.Z)(this,"Roulaccespt",""),(0,i.Z)(this,"isLoading$",void 0),(0,i.Z)(this,"captchaModel",new u.Frc),(0,i.Z)(this,"expireDate",void 0),(0,i.Z)(this,"aoutoCaptchaOrder",1),(0,i.Z)(this,"passwordIsValid",!1),(0,i.Z)(this,"dataModel",new u.EWr),(0,i.Z)(this,"onCaptchaOrderInProcess",!1),(0,i.Z)(this,"RePasswordModel",""),(0,i.Z)(this,"PasswordView",!1),(0,i.Z)(this,"loginAuto",!1),(0,i.Z)(this,"hidePassword",!0),this.cmsToastrService=o,this.router=e,this.coreAuthService=r,this.dialog=c,this.cdr=l,this.translate=_,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}ngOnInit(){this.onCaptchaOrder()}ngOnDestroy(){}onActionSubmit(){if(!this.dataModel.email||0===this.dataModel.email.length)return this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.enter_your_email_address"),this.formInfo.formErrorStatus=!0,void this.cmsToastrService.typeErrorRegistery(this.formInfo.formError);if(!this.dataModel.name||0===this.dataModel.name.length)return this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.enter_your_name"),this.formInfo.formErrorStatus=!0,void this.cmsToastrService.typeErrorRegistery(this.formInfo.formError);if(!this.dataModel.family||0===this.dataModel.family.length)return this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.enter_your_last_name"),this.formInfo.formErrorStatus=!0,void this.cmsToastrService.typeErrorRegistery(this.formInfo.formError);if(!this.dataModel.password||0===this.dataModel.password.length)return this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.enter_the_password"),this.formInfo.formErrorStatus=!0,void this.cmsToastrService.typeErrorRegistery(this.formInfo.formError);if(!this.RePasswordModel||0===this.RePasswordModel.length)return this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.re_enter_the_password"),this.formInfo.formErrorStatus=!0,void this.cmsToastrService.typeErrorRegistery(this.formInfo.formError);if(!this.dataModel.captchaText||0===this.dataModel.captchaText.length)return this.formInfo.formError=this.translate.instant("MESSAGE.Receiving_information"),this.formInfo.formErrorStatus=!0,void this.cmsToastrService.typeErrorRegistery(this.formInfo.formError);if(this.dataModel.password!==this.RePasswordModel)return this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.password_and_re_password_are_different"),this.dataModel.password="",this.RePasswordModel="",this.formInfo.formErrorStatus=!0,void this.cmsToastrService.typeErrorRegistery(this.formInfo.formError);this.formInfo.formErrorStatus=!1,this.dataModel.captchaKey=this.captchaModel.key;const o=this.constructor.name+".ServiceSignupUser";this.loading.Start(o,this.translate.instant("MESSAGE.Creating_new_account"));const e=+localStorage.getItem("siteId");e>0&&(this.dataModel.siteId=e);const r=+localStorage.getItem("ResellerSiteId");r>0&&(this.dataModel.resellerSiteId=r);const c=+localStorage.getItem("ResellerUserId");c>0&&(this.dataModel.resellerUserId=c),this.coreAuthService.ServiceSignupUser(this.dataModel).subscribe(l=>{if(l.isSuccess){if(this.cmsToastrService.typeSuccessRegistery(),this.formInfo.formErrorStatus=!1,this.loginAuto||setTimeout(()=>this.router.navigate(["/"]),1e3),this.loginAuto){const _=new u.kxH;_.captchaKey=this.dataModel.captchaKey,_.captchaText=this.dataModel.captchaText,_.email=this.dataModel.email,_.password=this.dataModel.password,_.siteId=this.dataModel.siteId,_.mobile=this.dataModel.mobile;const Z=this.constructor.name+"ServiceSigninUser";this.loading.Start(Z,this.translate.instant("MESSAGE.login_to_user_account")),this.coreAuthService.ServiceSigninUser(_).subscribe(A=>{A.isSuccess?(this.cmsToastrService.typeSuccessLogin(),A.item.siteId>0?setTimeout(()=>this.router.navigate(["/dashboard"]),1e3):setTimeout(()=>this.router.navigate(["/core/site/selection"]),1e3)):(this.formInfo.buttonSubmittedEnabled=!0,this.cmsToastrService.typeErrorLogin(A.errorMessage),setTimeout(()=>this.router.navigate(["/"]),1e3)),this.loading.Stop(Z)},A=>{this.formInfo.buttonSubmittedEnabled=!0,this.cmsToastrService.typeError(A),this.loading.Stop(Z)})}}else this.cmsToastrService.typeErrorRegistery(l.errorMessage),this.formInfo.buttonSubmittedEnabled=!0,this.formInfo.formErrorStatus=!0,this.onCaptchaOrder();this.loading.Stop(o)},l=>{this.cmsToastrService.typeError(l),this.formInfo.formErrorStatus=!0,this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.loading.Stop(o)})}onRoulaccespt(){this.dialog.open(Vt,{height:"90%",width:"90%"}).afterClosed().subscribe(e=>{this.Roulaccespt=e})}passwordValid(o){this.passwordIsValid=o}onCaptchaOrder(){if(this.onCaptchaOrderInProcess)return;this.dataModel.captchaText="";const o=this.constructor.name+".ServiceCaptcha";this.loading.Start(o,this.translate.instant("MESSAGE.get_security_photo_content")),this.coreAuthService.ServiceCaptcha().subscribe(e=>{if(e.isSuccess){this.captchaModel=e.item,this.expireDate=e.item.expire;const r=new Date,l=new Date(e.item.expire).getTime()-r.getTime();this.aoutoCaptchaOrder<10&&(this.aoutoCaptchaOrder=this.aoutoCaptchaOrder+1,setTimeout(()=>{this.onCaptchaOrder()},l))}else this.cmsToastrService.typeErrorGetCpatcha(e.errorMessage);this.onCaptchaOrderInProcess=!1,this.loading.Stop(o)},e=>{this.onCaptchaOrderInProcess=!1,this.loading.Stop(o)})}ActionPasswordGenerator(){const o="0123456789abcdefghijklmnopqrstuvwxyz";let r="";for(let c=0;c<=10;c++){const l=Math.floor(Math.random()*o.length);r+=o.substring(l,l+1)}this.dataModel.password=r,this.RePasswordModel=r,this.PasswordView=!0}}return n=s,(0,i.Z)(s,"\u0275fac",function(o){return new(o||n)(t.Y36(M.e),t.Y36(g.F0),t.Y36(u.Z8z),t.Y36(x.uw),t.Y36(t.sBO),t.Y36(T.sK))}),(0,i.Z)(s,"\u0275cmp",t.Xpm({type:n,selectors:[["app-auth-singup"]],viewQuery:function(o,e){if(1&o&&t.Gf(Wt,5),2&o){let r;t.iGM(r=t.CRH())&&(e.formGroup=r.first)}},decls:126,vars:107,consts:[[3,"options"],["mat-dialog-title",""],[1,"form","form-horizontal",3,"ngSubmit"],["vform","ngForm"],[1,"form-body"],[1,"form-section","mb-8"],[1,"ft-user"],[1,"ntk-full-width"],[1,"form-label"],["matInput","","name","dataModel.name","type","text","autocomplete","off","minlength","3","maxlength","50","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6",3,"ngModel","disabled","placeholder","ngModelChange"],["Name",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["align","end"],[4,"ngIf"],["matInput","","name","dataModel.family","type","text","autocomplete","off","minlength","3","maxlength","50","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6",3,"ngModel","disabled","placeholder","ngModelChange"],["Family",""],["matInput","","name","dataModel.email","type","email","autocomplete","off","minlength","5","maxlength","100","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],["Email",""],["matInput","","name","dataModel.mobile","type","text","autocomplete","off","placeholder","009891","minlength","0","maxlength","50",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","ngModelChange"],["Mobile",""],["matInput","","name","dataModel.password","autocomplete","off","minlength","3","maxlength","100","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"type","ngModel","disabled","placeholder","ngModelChange"],["Password",""],["mat-icon-button","","matSuffix","",3,"click"],["matSuffix","",3,"click"],[3,"passwordToCheck","passwordStrength"],["matInput","","name","RePasswordModel","type","password","autocomplete","off","minlength","3","maxlength","100","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"type","ngModel","disabled","placeholder","ngModelChange"],["RePassword",""],["alt","",1,"mb-3",3,"src","click"],["matInput","","name","dataModel.captchaText","type","number","autocomplete","off","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6","input-ltr-center",3,"ngModel","disabled","placeholder","ngModelChange"],["captchaText",""],[1,"form-group"],[1,"checkbox","mb-0"],["name","Roulaccespt","type","checkbox",3,"ngModel","disabled","ngModelChange"],[3,"click"],[1,"mr-2"],[1,"row"],[1,"col-12","col-lg-6"],["type","submit","id","kt_login_signup_submit",1,"btn","btn-primary","font-weight-bolder","font-size-h5","col-12",2,"margin","1px",3,"disabled"],["routerLink","/auth/singin","type","button","id","kt_login_signup_cancel",1,"btn","btn-primary","font-weight-bolder","font-size-h5","col-12",2,"margin","1px"],[2,"text-align","left"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"spinner","spinner-primary","ml-5"]],template:function(o,e){if(1&o&&(t._UZ(0,"app-progress-spinner",0)(1,"h2",1),t.TgZ(2,"mat-dialog-content")(3,"form",2,3),t.NdJ("ngSubmit",function(){return e.onActionSubmit()}),t.TgZ(5,"div",4)(6,"h4",5),t._UZ(7,"i",6),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"h6"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"div")(14,"mat-form-field",7)(15,"mat-label",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"input",9,10),t.NdJ("ngModelChange",function(c){return e.dataModel.name=c}),t.ALo(20,"translate"),t.qZA(),t.YNc(21,Xt,2,0,"mat-icon",11),t.TgZ(22,"mat-icon",12),t._uU(23,"mode_edit"),t.qZA(),t.TgZ(24,"mat-hint",13),t._uU(25),t.qZA(),t.YNc(26,$t,5,3,"mat-error",14),t.qZA(),t.TgZ(27,"mat-form-field",7)(28,"mat-label",8),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"input",15,16),t.NdJ("ngModelChange",function(c){return e.dataModel.family=c}),t.ALo(33,"translate"),t.qZA(),t.YNc(34,te,2,0,"mat-icon",11),t.TgZ(35,"mat-icon",12),t._uU(36,"mode_edit"),t.qZA(),t.TgZ(37,"mat-hint",13),t._uU(38),t.qZA(),t.YNc(39,ee,5,3,"mat-error",14),t.qZA(),t.TgZ(40,"mat-form-field",7)(41,"mat-label",8),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"input",17,18),t.NdJ("ngModelChange",function(c){return e.dataModel.email=c}),t.ALo(46,"translate"),t.qZA(),t.YNc(47,oe,2,0,"mat-icon",11),t.TgZ(48,"mat-icon",12),t._uU(49,"mode_edit"),t.qZA(),t.TgZ(50,"mat-hint",13),t._uU(51),t.qZA(),t.YNc(52,ne,5,3,"mat-error",14),t.qZA(),t.TgZ(53,"mat-form-field",7)(54,"mat-label",8),t._uU(55),t.ALo(56,"translate"),t.qZA(),t.TgZ(57,"input",19,20),t.NdJ("ngModelChange",function(c){return e.dataModel.mobile=c}),t.qZA(),t.YNc(59,re,2,0,"mat-icon",11),t.TgZ(60,"mat-icon",12),t._uU(61,"mode_edit"),t.qZA(),t.TgZ(62,"mat-hint",13),t._uU(63),t.qZA(),t.YNc(64,ae,5,3,"mat-error",14),t.qZA(),t.TgZ(65,"mat-form-field",7)(66,"mat-label",8),t._uU(67),t.ALo(68,"translate"),t.qZA(),t.TgZ(69,"input",21,22),t.NdJ("ngModelChange",function(c){return e.dataModel.password=c}),t.ALo(71,"translate"),t.qZA(),t.TgZ(72,"mat-icon",23),t.NdJ("click",function(){return e.hidePassword=!e.hidePassword}),t._uU(73),t.qZA(),t.YNc(74,ie,2,0,"mat-icon",11),t.TgZ(75,"mat-hint",13),t._uU(76),t.qZA(),t.YNc(77,se,5,3,"mat-error",14),t.qZA(),t.TgZ(78,"mat-icon",24),t.NdJ("click",function(){return e.ActionPasswordGenerator()}),t._uU(79,"mode_edit"),t.qZA(),t.TgZ(80,"app-password-strength",25),t.NdJ("passwordStrength",function(c){return e.passwordValid(c)}),t.qZA(),t.TgZ(81,"mat-form-field",7)(82,"mat-label",8),t._uU(83),t.ALo(84,"translate"),t.qZA(),t.TgZ(85,"input",26,27),t.NdJ("ngModelChange",function(c){return e.RePasswordModel=c}),t.ALo(87,"translate"),t.qZA(),t.TgZ(88,"mat-icon",23),t.NdJ("click",function(){return e.hidePassword=!e.hidePassword}),t._uU(89),t.qZA(),t.YNc(90,le,2,0,"mat-icon",11),t.TgZ(91,"mat-hint",13),t._uU(92),t.qZA(),t.YNc(93,ce,5,3,"mat-error",14),t.YNc(94,de,3,3,"mat-error",14),t.qZA(),t.TgZ(95,"img",28),t.NdJ("click",function(){return e.onCaptchaOrder()}),t.qZA(),t.TgZ(96,"mat-icon",24),t.NdJ("click",function(){return e.onCaptchaOrder()}),t._uU(97,"refresh"),t.qZA(),t.TgZ(98,"mat-form-field",7)(99,"mat-label",8),t._uU(100),t.ALo(101,"translate"),t.qZA(),t.TgZ(102,"input",29,30),t.NdJ("ngModelChange",function(c){return e.dataModel.captchaText=c}),t.ALo(104,"translate"),t.qZA(),t.YNc(105,me,2,0,"mat-icon",11),t.YNc(106,ue,5,3,"mat-error",14),t.qZA(),t.TgZ(107,"div",31)(108,"label",32)(109,"input",33),t.NdJ("ngModelChange",function(c){return e.Roulaccespt=c}),t.qZA(),t.TgZ(110,"a",34),t.NdJ("click",function(){return e.onRoulaccespt()}),t._uU(111),t.ALo(112,"translate"),t.qZA(),t._UZ(113,"span",35),t.qZA()(),t.TgZ(114,"div",36)(115,"div",37)(116,"button",38),t._uU(117),t.ALo(118,"translate"),t.qZA()(),t.TgZ(119,"div",37)(120,"a",39),t._uU(121),t.ALo(122,"translate"),t.qZA()(),t.YNc(123,ge,2,0,"ng-container",14),t.ALo(124,"async"),t.qZA()()()()(),t._UZ(125,"mat-dialog-actions",40)),2&o){const r=t.MAs(4),c=t.MAs(19),l=t.MAs(32),_=t.MAs(45),Z=t.MAs(58),A=t.MAs(70),y=t.MAs(86),F=t.MAs(103);t.Q6J("options",e.loading),t.xp6(8),t.hij(" ",t.lcZ(9,69,"AUTH.REGISTER.SIGNUP")," "),t.xp6(3),t.hij(" ",t.lcZ(12,71,"AUTH.REGISTER.DESC")," "),t.xp6(5),t.hij(" ",t.lcZ(17,73,"AUTH.INPUT.FIRSTNAME"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(20,75,"AUTH.INPUT.FIRSTNAME"),""),t.Q6J("ngModel",e.dataModel.name)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",e.dataModel.name),t.xp6(4),t.hij("",c.value.length," / 50"),t.xp6(1),t.Q6J("ngIf",null==c.errors?null:c.errors.required),t.xp6(3),t.hij(" ",t.lcZ(30,77,"AUTH.INPUT.LASTNAME"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(33,79,"AUTH.INPUT.LASTNAME"),""),t.Q6J("ngModel",e.dataModel.family)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",e.dataModel.family),t.xp6(4),t.hij("",l.value.length," / 50"),t.xp6(1),t.Q6J("ngIf",null==l.errors?null:l.errors.required),t.xp6(3),t.hij(" ",t.lcZ(43,81,"AUTH.INPUT.EMAIL"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(46,83,"AUTH.INPUT.EMAIL"),""),t.Q6J("ngModel",e.dataModel.email)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",e.dataModel.email),t.xp6(4),t.hij("",_.value.length," / 100"),t.xp6(1),t.Q6J("ngIf",null==_.errors?null:_.errors.required),t.xp6(3),t.hij(" ",t.lcZ(56,85,"AUTH.INPUT.MOBILE"),""),t.xp6(2),t.Q6J("ngModel",e.dataModel.mobile)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(2),t.Q6J("ngIf",e.dataModel.mobile),t.xp6(4),t.hij("",Z.value.length," / 15"),t.xp6(1),t.Q6J("ngIf",null==Z.errors?null:Z.errors.required),t.xp6(3),t.hij(" ",t.lcZ(68,87,"AUTH.INPUT.PASSWORD"),""),t.xp6(2),t.s9C("type",e.PasswordView?"text":"password"),t.MGl("placeholder"," ",t.lcZ(71,89,"AUTH.INPUT.PASSWORD"),""),t.Q6J("type",e.hidePassword?"password":"text")("ngModel",e.dataModel.password)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(3),t.uIk("aria-label","Hide password")("aria-pressed",e.hidePassword),t.xp6(1),t.hij(" ",e.hidePassword?"visibility_off":"visibility"," "),t.xp6(1),t.Q6J("ngIf",e.dataModel.password),t.xp6(2),t.hij("",A.value.length," / 50"),t.xp6(1),t.Q6J("ngIf",null==A.errors?null:A.errors.required),t.xp6(3),t.Q6J("passwordToCheck",e.dataModel.password),t.xp6(3),t.hij(" ",t.lcZ(84,91,"AUTH.INPUT.CONFIRM_PASSWORD"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(87,93,"AUTH.INPUT.CONFIRM_PASSWORD"),""),t.Q6J("type",e.hidePassword?"password":"text")("ngModel",e.RePasswordModel)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(3),t.uIk("aria-label","Hide password")("aria-pressed",e.hidePassword),t.xp6(1),t.hij(" ",e.hidePassword?"visibility_off":"visibility"," "),t.xp6(1),t.Q6J("ngIf",e.RePasswordModel),t.xp6(2),t.hij("",y.value.length," / 50"),t.xp6(1),t.Q6J("ngIf",null==y.errors?null:y.errors.required),t.xp6(1),t.Q6J("ngIf",y.value!=A.value),t.xp6(1),t.s9C("src",e.captchaModel.image,t.LSH),t.xp6(5),t.hij(" ",t.lcZ(101,95,"AUTH.INPUT.CAPTCHACODE"),""),t.xp6(2),t.MGl("placeholder"," ",t.lcZ(104,97,"AUTH.INPUT.CAPTCHACODE"),""),t.Q6J("ngModel",e.dataModel.captchaText)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Q6J("ngIf",e.dataModel.captchaText),t.xp6(1),t.Q6J("ngIf",null==F.errors?null:F.errors.required),t.xp6(3),t.Q6J("ngModel",e.Roulaccespt)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(2),t.hij(" ",t.lcZ(112,99,"AUTH.REGISTER.AGREE_TERMS")," "),t.xp6(5),t.Q6J("disabled",!e.Roulaccespt||r.invalid||!e.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(118,101,"AUTH.REGISTER.CREATE_AN_ACCOUNT")," "),t.xp6(4),t.hij(" ",t.lcZ(122,103,"AUTH.REGISTER.RETURN_TO_LOGIN")," "),t.xp6(2),t.Q6J("ngIf",t.lcZ(124,105,e.isLoading$))}},dependencies:[h.O5,d._Y,d.Fj,d.wV,d.Wl,d.JJ,d.JL,d.Q7,d.wO,d.nD,d.On,d.F,x.uh,x.xY,x.H8,f.KE,f.hX,f.bx,f.TO,f.R9,w.Hw,U.Nt,v.O,H.Z,g.rH,h.Ov,T.X$],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]})),s})(),data:{title:"ROUTE.REGISTER.SIGNUP"}},{path:"forgot-password",component:At,data:{title:"ROUTE.REGISTER.FORGETPASSWORD"}},{path:"",redirectTo:"singinbysms",pathMatch:"full"},{path:"**",redirectTo:"singinbysms",pathMatch:"full"}]}];let pe=(()=>{var n;class s{}return n=s,(0,i.Z)(s,"\u0275fac",function(o){return new(o||n)}),(0,i.Z)(s,"\u0275mod",t.oAB({type:n})),(0,i.Z)(s,"\u0275inj",t.cJS({imports:[g.Bz.forChild(he),g.Bz]})),s})(),_e=(()=>{var n;class s{}return n=s,(0,i.Z)(s,"\u0275fac",function(o){return new(o||n)}),(0,i.Z)(s,"\u0275mod",t.oAB({type:n})),(0,i.Z)(s,"\u0275inj",t.cJS({providers:[u.EAm,u.g9m,u.Z8z],imports:[h.ez,O.m.forRoot(),pe,d.u5,d.UX,P.JF]})),s})()},40486:(B,I,p)=>{p.d(I,{Z:()=>P});var i=p(86889),h=p(64537);let P=(()=>{var d;class u{constructor(){(0,i.Z)(this,"id",++u.nextId),(0,i.Z)(this,"passwordToCheck",void 0),(0,i.Z)(this,"passwordStrength",new h.vpe),(0,i.Z)(this,"bar0",void 0),(0,i.Z)(this,"bar1",void 0),(0,i.Z)(this,"bar2",void 0),(0,i.Z)(this,"bar3",void 0),(0,i.Z)(this,"msg",""),(0,i.Z)(this,"colors",["darkred","orangered","orange","yellowgreen"])}static checkStrength(g){let m=0;const q=[/[a-z]+/.test(g),/[A-Z]+/.test(g),/[0-9]+/.test(g),/[$-/:-?{-~!"^_@`\[\]]/g.test(g)];let b=0;for(const L of q)b+=!0===L?1:0;return m+=2*g.length+(g.length>=10?1:0),m+=10*b,m=g.length<=6?Math.min(m,10):m,m=1===b?Math.min(m,10):m,m=2===b?Math.min(m,20):m,m=3===b?Math.min(m,30):m,m=4===b?Math.min(m,40):m,m}ngOnChanges(g){const m=g.passwordToCheck.currentValue;if(this.setBarColors(4,"#DDD"),m){const S=this.getColor(u.checkStrength(m));switch(this.setBarColors(S.idx,S.col),40===u.checkStrength(m)?this.passwordStrength.emit(!0):this.passwordStrength.emit(!1),S.idx){case 1:this.msg="Poor";break;case 2:this.msg="Not Good";break;case 3:this.msg="Average";break;case 4:this.msg="Good"}}else this.msg=""}getColor(g){let m=0;return m=g<=10?0:g<=20?1:g<=30?2:g<=40?3:4,{idx:m+1,col:this.colors[m]}}setBarColors(g,m){for(let S=0;S<g;S++)this["bar"+S]=m}}return d=u,(0,i.Z)(u,"nextId",0),(0,i.Z)(u,"\u0275fac",function(g){return new(g||d)}),(0,i.Z)(u,"\u0275cmp",h.Xpm({type:d,selectors:[["app-password-strength"]],inputs:{passwordToCheck:"passwordToCheck"},outputs:{passwordStrength:"passwordStrength"},features:[h.TTD],decls:9,vars:9,consts:[[1,"strength"],[1,"strengthBar"],[1,"point"]],template:function(g,m){1&g&&(h.TgZ(0,"div",0)(1,"ul",1),h._UZ(2,"li",2)(3,"li",2)(4,"li",2)(5,"li",2),h.qZA(),h._UZ(6,"br"),h.TgZ(7,"p"),h._uU(8),h.qZA()()),2&g&&(h.xp6(2),h.Udp("background-color",m.bar0),h.xp6(1),h.Udp("background-color",m.bar1),h.xp6(1),h.Udp("background-color",m.bar2),h.xp6(1),h.Udp("background-color",m.bar3),h.xp6(3),h.Oqu(m.msg))},styles:[".strengthBar[_ngcontent-%COMP%]{display:inline;list-style:none;margin:0;padding:0;vertical-align:2px}.point[_ngcontent-%COMP%]:last-of-type{margin:0!important}.point[_ngcontent-%COMP%]{background:#DDD;border-radius:2px;display:inline-block;height:5px;margin-right:1px;width:62px}"]})),u})()}}]);