"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[7086],{59027:(U,I,s)=>{s.d(I,{Q:()=>Z});var d=s(86889),t=s(64537),e=s(78435);let Z=(()=>{var l;class M{constructor(p){(0,d.Z)(this,"persianCalendarService",void 0),this.persianCalendarService=p}transform(p){if("string"==typeof p){if(!p||0===p.length)return"";const T=new Date(p);return T?this.persianCalendarService.PersianCalendar(T):""}if(typeof p==typeof Date)return p?this.persianCalendarService.PersianCalendar(p):""}}return l=M,(0,d.Z)(M,"\u0275fac",function(p){return new(p||l)(t.Y36(e.T,16))}),(0,d.Z)(M,"\u0275pipe",t.Yjl({name:"persianDate",type:l,pure:!0})),(0,d.Z)(M,"\u0275prov",t.Yz7({token:l,factory:l.\u0275fac})),M})()},50738:(U,I,s)=>{s.d(I,{Y:()=>T});var d=s(86889),t=s(64537),e=s(88692),Z=s(46997);function l(u,g){if(1&u&&(t.ynx(0),t._UZ(1,"span",4),t.BQk()),2&u){const h=t.oxw(2);t.xp6(1),t.Q6J("inlineSVG",h.svg)}}function M(u,g){if(1&u&&(t.ynx(0),t._UZ(1,"i",5),t.BQk()),2&u){const h=t.oxw(2);t.xp6(1),t.Q6J("ngClass",h.icon)}}function x(u,g){if(1&u&&(t.ynx(0),t.TgZ(1,"div",3),t.YNc(2,l,2,1,"ng-container",1),t.YNc(3,M,2,1,"ng-container",1),t.qZA(),t.BQk()),2&u){const h=t.oxw();t.xp6(2),t.Q6J("ngIf",h.svg),t.xp6(1),t.Q6J("ngIf",h.icon)}}const p=["*"];let T=(()=>{var u;class g{constructor(){(0,d.Z)(this,"id",++g.nextId),(0,d.Z)(this,"classes",void 0),(0,d.Z)(this,"icon",void 0),(0,d.Z)(this,"svg",void 0)}ngOnInit(){}}return u=g,(0,d.Z)(g,"nextId",0),(0,d.Z)(g,"\u0275fac",function(P){return new(P||u)}),(0,d.Z)(g,"\u0275cmp",t.Xpm({type:u,selectors:[["app-cms-html-notice"]],inputs:{classes:"classes",icon:"icon",svg:"svg"},ngContentSelectors:p,decls:4,vars:2,consts:[["role","alert",1,"alert","alert-custom","alert-white","alert-shadow","gutter-b",3,"ngClass"],[4,"ngIf"],[1,"alert-text"],[1,"alert-icon","alert-icon-top"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[3,"ngClass"]],template:function(P,A){1&P&&(t.F$t(),t.TgZ(0,"div",0),t.YNc(1,x,4,2,"ng-container",1),t.TgZ(2,"div",2),t.Hsn(3),t.qZA()()),2&P&&(t.Q6J("ngClass",A.classes),t.xp6(1),t.Q6J("ngIf",A.icon||A.svg))},dependencies:[e.mk,e.O5,Z.d$],encapsulation:2})),g})()},42370:(U,I,s)=>{s.d(I,{v:()=>N});var d=s(86889),t=s(64537),e=s(88692),Z=s(56707);let l=(()=>{var i;class _{transform(c,v){if(!c)return[];let S=Object.keys(c);return S=S.filter(E=>E&&E.length>0&&E.toLowerCase().indexOf("antiinjection")<0),v&&v.size>0&&(S=S.filter(E=>E&&E.length>0&&v.has(E))),S}}return i=_,(0,d.Z)(_,"\u0275fac",function(c){return new(c||i)}),(0,d.Z)(_,"\u0275pipe",t.Yjl({name:"keys",type:i,pure:!0})),_})();function M(i,_){1&i&&(t.TgZ(0,"div",4)(1,"div",5),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",5),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"div",6),t.qZA()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"TITLE.parameter")),t.xp6(3),t.Oqu(t.lcZ(6,4,"TITLE.Values")))}function x(i,_){if(1&i&&(t.TgZ(0,"div",7)(1,"div",5),t._uU(2),t.qZA(),t.TgZ(3,"div",5),t._uU(4),t.qZA(),t._UZ(5,"div",8),t.qZA()),2&i){const a=_.$implicit,c=t.oxw(2);t.xp6(2),t.Oqu(c.optionFields&&c.optionFields.size>0?c.optionFields.get(a):a),t.xp6(2),t.Oqu(c.dataModel[a])}}function p(i,_){if(1&i&&(t.TgZ(0,"div",1),t.YNc(1,M,8,6,"div",2),t.YNc(2,x,6,2,"div",3),t.ALo(3,"keys"),t.qZA()),2&i){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.optionViewHead),t.xp6(1),t.Q6J("ngForOf",t.xi3(3,2,a.dataModel,a.optionFields))}}function T(i,_){if(1&i&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&i){const a=_.$implicit,c=t.oxw(3);t.xp6(1),t.Oqu(c.optionFields&&c.optionFields.size>0?c.optionFields.get(a):a)}}function u(i,_){if(1&i&&(t.TgZ(0,"div",4),t.YNc(1,T,2,1,"div",9),t.ALo(2,"keys"),t._UZ(3,"div",6),t.qZA()),2&i){const a=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,a.dataModel[0],a.optionFields))}}function g(i,_){if(1&i&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&i){const a=_.$implicit,c=t.oxw().$implicit;t.xp6(1),t.Oqu(c[a])}}function h(i,_){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,g,2,1,"div",9),t.ALo(2,"keys"),t._UZ(3,"div",8),t.qZA()),2&i){const a=_.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,a,c.optionFields))}}function P(i,_){if(1&i&&(t.TgZ(0,"div",1),t.YNc(1,u,4,4,"div",2),t.YNc(2,h,4,4,"div",3),t.qZA()),2&i){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.optionViewHead),t.xp6(1),t.Q6J("ngForOf",a.dataModel)}}function A(i,_){if(1&i&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&i){const a=_.$implicit,c=t.oxw(3);t.xp6(1),t.Oqu(c.optionFields&&c.optionFields.size>0?c.optionFields.get(a):a)}}function L(i,_){if(1&i&&(t.TgZ(0,"div",4),t.YNc(1,A,2,1,"div",9),t.ALo(2,"keys"),t._UZ(3,"div",6),t.qZA()),2&i){const a=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,a.dataModel[0],a.optionFields))}}function F(i,_){if(1&i&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&i){const a=_.$implicit,c=t.oxw(2);t.xp6(1),t.Oqu(c.dataModel[a])}}function D(i,_){if(1&i&&(t.TgZ(0,"div",1),t.YNc(1,L,4,4,"div",2),t.TgZ(2,"div",7),t.YNc(3,F,2,1,"div",9),t.ALo(4,"keys"),t._UZ(5,"div",8),t.qZA()()),2&i){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.optionViewHead),t.xp6(2),t.Q6J("ngForOf",t.xi3(4,2,a.dataModel,a.optionFields))}}let N=(()=>{var i;class _{constructor(){(0,d.Z)(this,"id",++_.nextId),(0,d.Z)(this,"optionMethod",1),(0,d.Z)(this,"dataModel",void 0),(0,d.Z)(this,"optionFields",void 0),(0,d.Z)(this,"optionViewHead",!0)}ngOnInit(){}}return i=_,(0,d.Z)(_,"nextId",0),(0,d.Z)(_,"\u0275fac",function(c){return new(c||i)}),(0,d.Z)(_,"\u0275cmp",t.Xpm({type:i,selectors:[["app-cms-json-list"]],inputs:{optionMethod:"optionMethod",dataModel:"dataModel",optionFields:"optionFields",optionViewHead:"optionViewHead"},decls:3,vars:3,consts:[["class","table",4,"ngIf"],[1,"table"],["class","th",4,"ngIf"],["class","tr",4,"ngFor","ngForOf"],[1,"th"],[1,"td"],[1,"clear"],[1,"tr"],[2,"clear","both"],["class","td",4,"ngFor","ngForOf"]],template:function(c,v){1&c&&(t.YNc(0,p,4,5,"div",0),t.YNc(1,P,3,2,"div",0),t.YNc(2,D,6,5,"div",0)),2&c&&(t.Q6J("ngIf",1===v.optionMethod&&v.dataModel),t.xp6(1),t.Q6J("ngIf",2===v.optionMethod&&v.dataModel),t.xp6(1),t.Q6J("ngIf",3===v.optionMethod&&v.dataModel))},dependencies:[e.sg,e.O5,Z.X$,l],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f5;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.clear[_ngcontent-%COMP%]{clear:both}"]})),_})()},63181:(U,I,s)=>{s.d(I,{g:()=>R});var d=s(8239),t=s(86889),e=s(64537),Z=s(20092),l=s(34511),M=s(57445),x=s(51927),p=s(83151),T=s(42147),u=s(61528),g=s(27969),h=s(60656),P=s(56707),A=s(88692),L=s(61637),F=s(1379),D=s(88659),N=s(83331),i=s(39665),_=s(75738),a=s(81418);function c(f,C){if(1&f&&(e._UZ(0,"img",9),e.ALo(1,"cmsthumbnail")),2&f){const O=e.oxw();e.s9C("src",e.lcZ(1,1,null==O.dataModelSelect?null:O.dataModelSelect.linkMainImageIdSrc),e.LSH)}}function v(f,C){if(1&f&&(e._UZ(0,"img",9),e.ALo(1,"cmsthumbnail")),2&f){const O=e.oxw().$implicit;e.s9C("src",e.lcZ(1,1,O.linkMainImageIdSrc),e.LSH)}}function S(f,C){if(1&f&&(e.TgZ(0,"mat-option",10),e.YNc(1,v,2,3,"img",11),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&f){const O=C.$implicit,n=e.oxw();e.Q6J("value",O)("disabled",n.optionDisabled),e.xp6(1),e.Q6J("ngIf",O.linkMainImageIdSrc),e.xp6(2),e.Oqu(n.displayOption(O))}}function E(f,C){if(1&f){const O=e.EpF();e.TgZ(0,"mat-icon",12),e.NdJ("click",function(){e.CHM(O);const o=e.oxw();return e.KtG(o.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const J=["*"];let R=(()=>{var f;class C{constructor(n,o,m,y){(0,t.Z)(this,"coreEnumService",void 0),(0,t.Z)(this,"cdr",void 0),(0,t.Z)(this,"translate",void 0),(0,t.Z)(this,"categoryService",void 0),(0,t.Z)(this,"id",++C.nextId),(0,t.Z)(this,"dataModelResult",new l.y$4),(0,t.Z)(this,"dataModelSelect",new l.NCo),(0,t.Z)(this,"loading",new h.O),(0,t.Z)(this,"formControl",new Z.NI),(0,t.Z)(this,"filteredOptions",void 0),(0,t.Z)(this,"optionDisabled",!1),(0,t.Z)(this,"optionSelectFirstItem",!1),(0,t.Z)(this,"optionPlaceholder",""),(0,t.Z)(this,"optionChange",new e.vpe),(0,t.Z)(this,"optionReload",()=>this.onActionReload()),this.coreEnumService=n,this.cdr=o,this.translate=m,this.categoryService=y,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}get optionLoading(){return this.loading}set optionLoading(n){this.loading=n}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,x.O)(""),(0,p.b)(1500),(0,T.x)(),(0,u.w)(n=>this.DataGetAll("string"==typeof n||"number"==typeof n?n:"")))}displayFn(n){let o="";return n&&(n.username&&n.username.length>0&&(o=o+" "+n.username),n.name&&n.name.length>0&&(o=o+" "+n.name),n.lastName&&n.lastName.length>0&&(o=o+" "+n.lastName),o=o+"#:"+n.id),o}displayOption(n){let o="";return n&&(n.username&&n.username.length>0&&(o=o+" "+n.username),n.name&&n.name.length>0&&(o=o+" "+n.name),n.lastName&&n.lastName.length>0&&(o=o+" "+n.lastName),o=o+"#:"+n.id),o}DataGetAll(n){var o=this;return(0,d.Z)(function*(){const m=new l.Hay;if(m.rowPerPage=20,m.accessLoad=!0,n&&n.length>0){let r=new l.AO3;r=new l.AO3,r.propertyName="username",r.value=n,r.searchType=l.J6G.Contains,r.clauseType=l.ppe.Or,m.filters.push(r),r=new l.AO3,r.propertyName="name",r.value=n,r.searchType=l.J6G.Contains,r.clauseType=l.ppe.Or,m.filters.push(r),r=new l.AO3,r.propertyName="email",r.value=n,r.searchType=l.J6G.Contains,r.clauseType=l.ppe.Or,m.filters.push(r),r=new l.AO3,r.propertyName="lastname",r.value=n,r.searchType=l.J6G.Contains,r.clauseType=l.ppe.Or,m.filters.push(r),n&&"number"==typeof+n&&+n>0&&(r=new l.AO3,r.propertyName="Id",r.value=n,r.searchType=l.J6G.Equal,r.clauseType=l.ppe.Or,m.filters.push(r))}const y=o.constructor.name+"main";return o.loading.Start(y),yield(0,M.z)(o.categoryService.ServiceGetAll(m)).then(r=>(o.dataModelResult=r,o.optionSelectFirstItem&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect.id<=0)&&o.dataModelResult.listItems.length>0&&(o.optionSelectFirstItem=!1,setTimeout(()=>{o.formControl.setValue(o.dataModelResult.listItems[0])},1e3),o.onActionSelect(o.dataModelResult.listItems[0])),o.loading.Stop(y),r.listItems))})()}onActionSelect(n){this.optionDisabled||(this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(n){return this.filteredOptions.pipe((0,g.U)(o=>(o.find(m=>m.id===n.id)||o.push(n),o)))}onActionSelectForce(n){if("number"==typeof n&&n>0){if(this.dataModelSelect&&this.dataModelSelect.id===n)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.id===n)){const o=this.dataModelResult.listItems.find(m=>m.id===n);return this.dataModelSelect=o,void this.formControl.setValue(o)}this.categoryService.ServiceGetOneById(n).subscribe(o=>{o.isSuccess&&(this.filteredOptions=this.push(o.item),this.dataModelSelect=o.item,this.formControl.setValue(o.item),this.optionChange.emit(o.item))})}else{if(typeof n==typeof l.NCo)return this.filteredOptions=this.push(n),this.dataModelSelect=n,void this.formControl.setValue(n);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new l.NCo,this.loadOptions()}}return f=C,(0,t.Z)(C,"nextId",0),(0,t.Z)(C,"\u0275fac",function(n){return new(n||f)(e.Y36(l.FLW),e.Y36(e.sBO),e.Y36(P.sK),e.Y36(l.k$Z))}),(0,t.Z)(C,"\u0275cmp",e.Xpm({type:f,selectors:[["app-cms-user-selector"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:J,decls:12,vars:11,consts:[[1,"ntk-full-width"],[3,"options"],["matPrefix",""],["class","ntk-hover-zoom","style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(n,o){if(1&n&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"span",2),e.YNc(3,c,2,3,"img",3),e._uU(4," \xa0"),e.qZA(),e._UZ(5,"input",4),e.TgZ(6,"mat-autocomplete",5,6),e.NdJ("optionSelected",function(y){return o.onActionSelect(y.option.value)}),e.YNc(8,S,4,4,"mat-option",7),e.ALo(9,"async"),e.qZA(),e.YNc(10,E,2,0,"mat-icon",8),e.Hsn(11),e.qZA()),2&n){const m=e.MAs(7);e.xp6(1),e.Q6J("options",o.loading),e.xp6(2),e.Q6J("ngIf",o.dataModelSelect&&(null==o.dataModelSelect?null:o.dataModelSelect.linkMainImageIdSrc)),e.xp6(2),e.s9C("placeholder",o.optionPlaceholder),e.Q6J("formControl",o.formControl)("matAutocomplete",m),e.uIk("disabled",!!o.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",o.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(9,9,o.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==o.dataModelSelect?null:o.dataModelSelect.id)}},dependencies:[A.sg,A.O5,Z.Fj,Z.JJ,Z.oH,L.XC,F.ey,L.ZL,D.KE,D.qo,D.R9,N.Hw,i.Nt,_.O,A.Ov,a.v],encapsulation:2})),C})()}}]);