"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[1808,4891],{41808:(se,N,d)=>{d.r(N),d.d(N,{CoreUserClaimModule:()=>Dn});var u=d(88692),m=d(20092),r=d(34511),q=d(4721),x=d(83914),M=d(6087),U=d(26114),p=d(80418),S=d(8918),T=d(97147),b=d(60656),re=d(30643),pe=d(3193),_=d(92340),e=d(64537),k=d(94032),y=d(32607),K=d(50727),C=d(56707),A=d(54536),Z=d(9638),O=d(11997),w=d(83331),J=d(75738),ce=d(91101);function De(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function Ne(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function qe(n,s){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.approvedExpireDate," ")}}function Oe(n,s){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.typeDescription," ")}}function Je(n,s){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.approvedResult," ")}}function Fe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonEditRow(o))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.SEND_DOCUMENTS")))}function Ye(n,s){if(1&n&&(e.TgZ(0,"div",11)(1,"mat-card",12)(2,"mat-card-header"),e._UZ(3,"div",13),e.TgZ(4,"mat-card-title"),e._UZ(5,"i",1),e.ALo(6,"boolclass"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"mat-card-subtitle"),e._uU(10),e.qZA()(),e._UZ(11,"img",14),e.TgZ(12,"mat-card-content"),e.YNc(13,qe,2,1,"p",15),e.YNc(14,Oe,2,1,"p",15),e.YNc(15,Je,2,1,"p",15),e.qZA(),e.TgZ(16,"mat-card-actions"),e.YNc(17,Fe,3,3,"button",16),e.qZA()()()),2&n){const t=s.$implicit;e.xp6(3),e.Jzz("background-image: url('",t.typeLinkMainImageIdSrc,"'); background-size: cover;"),e.xp6(2),e.Q6J("ngClass",e.lcZ(6,12,t.isApproved)),e.xp6(2),e.hij(" ",e.lcZ(8,14,"ACTION.STATUS"),""),e.xp6(3),e.Oqu(t.typeTitle),e.xp6(1),e.s9C("src",t.linkFileContentIdSrc,e.LSH),e.s9C("alt",t.typeTitle),e.xp6(2),e.Q6J("ngIf",t.isApproved&&t.approvedExpireDate),e.xp6(1),e.Q6J("ngIf",!t.isApproved),e.xp6(1),e.Q6J("ngIf",t.approvedResult&&t.approvedResult.length>0),e.xp6(2),e.Q6J("ngIf",!t.isApproved)}}let ue=(()=>{class n{coreUserClaimContentService;publicHelper;cmsToastrService;coreUserClaimTypeService;router;activatedRoute;tokenHelper;cdr;translate;dialog;requestLinkUserId=0;requestLinkSiteId=0;constructor(t,i,o,a,l,c,f,g,v,L){this.coreUserClaimContentService=t,this.publicHelper=i,this.cmsToastrService=o,this.coreUserClaimTypeService=a,this.router=l,this.activatedRoute=c,this.tokenHelper=f,this.cdr=g,this.translate=v,this.dialog=L,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId"))}comment;author;dataSource;flag=!1;tableContentSelected=[];dataModelResult=new r.y$4;optionsSearch=new S.dj;optionsStatist=new T.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowSelected=new r.hYp;tableSource=new p.by;fieldsInfo=new Map;categoryModelSelected=new r.OoK;dataModelCoreUserClaimTypeResult=new r.y$4;tabledisplayedColumns=["TypeTitle","IsApproved","ApprovedResult","ApproveCheckDate","ApprovedExpireDate","Action"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getUserClaimType()}getUserClaimType(){const t=new r.Hay;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe(i=>{this.dataModelCoreUserClaimTypeResult=i})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.onActionTableRowSelect(new r.hYp);const t=this.constructor.name+"main";if(this.loading.Start(t),this.requestLinkUserId>0&&this.requestLinkSiteId>0){const i=new r.L5n;i.userId=this.requestLinkUserId,i.siteId=this.requestLinkSiteId,this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheck(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}else this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheckCurrent().subscribe({next:i=>{i.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResult=i,this.tableSource.data=i.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onActionbuttonNewRow(){this.dialog.open(re.K,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()})}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.linkTypeId&&0!==t.linkTypeId?(this.onActionTableRowSelect(t),t.linkContentId&&t.linkContentId>0?this.dialog.open(pe.D,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.linkContentId}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.dialog.open(re.K,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{linkUserClaimTypeId:this.tableRowSelected.linkTypeId}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/user/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(r.qlG),e.Y36(k.i),e.Y36(y.e),e.Y36(r.kf3),e.Y36(U.F0),e.Y36(U.gz),e.Y36(K.v),e.Y36(e.sBO),e.Y36(C.sK),e.Y36(A.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimcontent-checklist"]],decls:13,vars:8,consts:[[1,"row"],[3,"ngClass"],[1,"ntk-cms-html-list-header"],["type","button","class","btn btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn btn-outline-success BTN-text",3,"click",4,"ngIf"],[3,"options"],["class","col-4",4,"ngFor","ngForOf"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","btn-outline-warning",3,"click"],["type","button",1,"btn","btn-outline-success","BTN-text",3,"click"],[1,"col-4"],[1,"example-card"],["mat-card-avatar",""],["mat-card-image","",3,"src","alt"],[4,"ngIf"],["mat-button","","type","button","class","btn btn-secondary width",3,"click",4,"ngIf"],["mat-button","","type","button",1,"btn","btn-secondary","width",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,De,3,3,"button",3),e.TgZ(4,"button",4),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(5,"mat-icon",5),e.ALo(6,"translate"),e._uU(7,"refresh"),e.qZA()(),e.YNc(8,Ne,3,3,"button",6),e.qZA(),e.TgZ(9,"div"),e._UZ(10,"app-progress-spinner",7),e.TgZ(11,"div",0),e.YNc(12,Ye,18,16,"div",8),e.qZA()()()()),2&i&&(e.xp6(1),e.Q6J("ngClass","col-xl-12"),e.xp6(2),e.Q6J("ngIf",o.tableRowSelected.linkTypeId>0),e.xp6(2),e.s9C("title",e.lcZ(6,6,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkUserId>0),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.Q6J("ngForOf",o.dataModelResult.listItems))},dependencies:[u.mk,u.sg,u.O5,Z.lW,O.a8,O.hq,O.kc,O.dn,O.dk,O.G2,O.$j,O.n5,w.Hw,J.O,C.X$,ce.r],styles:[".width[_ngcontent-%COMP%]{width:100%}"]})}return n})();var B=d(76997),$=d(57154),G=d(39665),R=d(83319),V=d(53538),F=d(64639),Y=d(56558),W=d(43014),z=d(10626),Qe=d(35952),X=d(37980),ee=d(13673),_e=d(55211),E=d(18849),Q=d(8239),H=d(1379),h=d(88659),j=d(18033),fe=d(99482),te=d(81418);const He=["vform"];function Ke(n,s){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Pe(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function je(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.title="")}),e._uU(1,"close"),e.qZA()}}function Be(n,s){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function $e(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.titleResourceLanguage="")}),e._uU(1,"close"),e.qZA()}}function Ve(n,s){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function We(n,s){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function ze(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Kind is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Xe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",39),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.dismissOnEdit=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.dismissOnEdit)("disabled",!(null!=t.fieldsInfo.dismissOnEdit&&t.fieldsInfo.dismissOnEdit.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.dismissOnEdit?null:t.fieldsInfo.dismissOnEdit.fieldTitle," ")}}function et(n,s){if(1&n&&(e._UZ(0,"img",40),e.ALo(1,"cmsthumbnail")),2&n){const t=e.oxw();e.s9C("src",e.lcZ(1,1,t.dataModel.linkMainImageIdSrc),e.LSH)}}function tt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.linkMainImageId=null)}),e._uU(1,"close"),e.qZA()}}function ot(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.description="")}),e._uU(1,"close"),e.qZA()}}function it(n,s){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function nt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",32)(1,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormSubmit())}),e._UZ(6,"i",44),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let ge=(()=>{class n{data;dialogRef;coreEnumService;coreUserClaimTypeService;publicHelper;cmsToastrService;cdr;translate;constructor(t,i,o,a,l,c,f,g){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreUserClaimTypeService=a,this.publicHelper=l,this.cmsToastrService=c,this.cdr=f,this.translate=g,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;fieldsInfo=new Map;selectFileTypeMainImage=["jpg","jpeg","png"];fileManagerTree;appLanguage="fa";loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.OoK;formInfo=new r.LEF;dataModelEnumRecordStatusResult=new r.y$4;dataModelEnumUserClaimKindsResult=new r.y$4;fileManagerOpenForm=!1;ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.ADD"),this.getEnumRecordStatus(),this.DataGetAccess(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe(t=>{this.dataModelEnumUserClaimKindsResult=t})}DataGetAccess(){const t=this.constructor.name+"DataGetAccess";this.loading.Start(t),this.coreUserClaimTypeService.ServiceViewModel().subscribe({next:i=>{i.isSuccess?this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access):this.cmsToastrService.typeErrorGetAccess(i.errorMessage),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeErrorGetAccess(i),this.loading.Stop(t)}})}getEnumRecordStatus(){var t=this;return(0,Q.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataAddContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreUserClaimTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(r.FLW),e.Y36(r.kf3),e.Y36(k.i),e.Y36(y.e),e.Y36(e.sBO),e.Y36(C.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimtype-add"]],viewQuery:function(i,o){if(1&i&&e.Gf(He,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:82,vars:63,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","ngModelChange"],["Title",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","disabled","ngModelChange"],["TitleResourceLanguage",""],["name","dataModel.kind","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["Kind","ngModel"],["name","dataModel.dismissOnEdit",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],[3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off",3,"ngModel","placeholder","ngModelChange","click"],["LinkMainImageId",""],["matSuffix","",3,"click"],[3,"language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView","itemSelected","openFormChange"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5",3,"ngModel","placeholder","ngModelChange"],["Description",""],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["name","dataModel.dismissOnEdit",3,"ngModel","disabled","ngModelChange"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit","mat-raised-button","",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(i,o){if(1&i&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(l){return o.dataModel.recordStatus=l}),e.YNc(9,Ke,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Pe,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"mat-form-field",5)(15,"mat-label"),e._uU(16),e.qZA(),e.TgZ(17,"input",11,12),e.NdJ("ngModelChange",function(l){return o.dataModel.title=l}),e.qZA(),e.YNc(19,je,2,0,"mat-icon",13),e.TgZ(20,"mat-icon",14),e._uU(21,"mode_edit"),e.qZA(),e.TgZ(22,"mat-hint",9),e._uU(23),e.qZA(),e.YNc(24,Be,5,4,"mat-error",10),e.qZA(),e.TgZ(25,"mat-form-field",5)(26,"mat-label"),e._uU(27),e.qZA(),e.TgZ(28,"input",15,16),e.NdJ("ngModelChange",function(l){return o.dataModel.titleResourceLanguage=l}),e.qZA(),e.YNc(30,$e,2,0,"mat-icon",13),e.TgZ(31,"mat-icon",14),e._uU(32,"mode_edit"),e.qZA(),e.TgZ(33,"mat-hint",9),e._uU(34),e.qZA(),e.YNc(35,Ve,5,4,"mat-error",10),e.qZA(),e.TgZ(36,"mat-form-field",5)(37,"mat-select",17,18),e.NdJ("ngModelChange",function(l){return o.dataModel.kind=l}),e.ALo(39,"translate"),e.YNc(40,We,2,2,"mat-option",8),e.qZA(),e.TgZ(41,"mat-hint",9),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.YNc(44,ze,5,3,"mat-error",10),e.qZA(),e.TgZ(45,"div",5),e.YNc(46,Xe,2,3,"mat-slide-toggle",19),e.qZA(),e.TgZ(47,"div",20)(48,"a",21),e.ALo(49,"cmsthumbnail"),e.YNc(50,et,2,3,"img",22),e.qZA()(),e.TgZ(51,"div",23)(52,"mat-form-field",5)(53,"mat-label",24),e.NdJ("click",function(){return o.fileManagerOpenForm=!0}),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"input",25,26),e.NdJ("ngModelChange",function(l){return o.dataModel.linkMainImageId=l})("click",function(){return o.fileManagerOpenForm=!0}),e.ALo(58,"translate"),e.qZA(),e.YNc(59,tt,2,0,"mat-icon",13),e.TgZ(60,"mat-icon",27),e.NdJ("click",function(){return o.fileManagerOpenForm=!0}),e._uU(61,"mode_edit"),e.qZA()(),e.TgZ(62,"cms-file-manager",28),e.NdJ("itemSelected",function(l){return o.onActionFileSelected(l)})("openFormChange",function(l){return o.fileManagerOpenForm=l}),e.qZA()(),e.TgZ(63,"mat-form-field",5)(64,"mat-label"),e._uU(65),e.qZA(),e.TgZ(66,"textarea",29,30),e.NdJ("ngModelChange",function(l){return o.dataModel.description=l}),e.qZA(),e.YNc(68,ot,2,0,"mat-icon",13),e.TgZ(69,"mat-icon",14),e._uU(70,"mode_edit"),e.qZA(),e.TgZ(71,"mat-hint",9),e._uU(72),e.qZA(),e.YNc(73,it,5,4,"mat-error",10),e.qZA()(),e.TgZ(74,"div",31)(75,"div",32)(76,"small",33),e._uU(77),e.qZA(),e.TgZ(78,"small",34),e._uU(79),e.qZA()()(),e.TgZ(80,"div",35),e.YNc(81,nt,9,7,"div",36),e.qZA()()),2&i){const a=e.MAs(8),l=e.MAs(18),c=e.MAs(29),f=e.MAs(38),g=e.MAs(67);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,51,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(3),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title),e.xp6(2),e.Q6J("ngIf",o.dataModel.title),e.xp6(4),e.hij("",l.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(3),e.Oqu(null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.titleResourceLanguage)("disabled",!(null!=o.fieldsInfo.titleResourceLanguage&&o.fieldsInfo.titleResourceLanguage.accessAddField)),e.xp6(2),e.Q6J("ngIf",o.dataModel.titleResourceLanguage),e.xp6(4),e.hij("",c.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==c.errors?null:c.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(39,53,"TITLE.Status")),e.MGl("panelClass","Kind-",o.dataModel.kind,""),e.Q6J("ngModel",o.dataModel.kind),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumUserClaimKindsResult.listItems),e.xp6(2),e.Oqu(e.lcZ(43,55,"TITLE.Select_type_of_content")),e.xp6(2),e.Q6J("ngIf",null==f.errors?null:f.errors.required),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.dismissOnEdit?null:o.fieldsInfo.dismissOnEdit.accessWatchField),e.xp6(2),e.s9C("href",e.lcZ(49,57,o.dataModel.linkMainImageIdSrc),e.LSH),e.xp6(2),e.Q6J("ngIf",(null==o.dataModel||null==o.dataModel.linkMainImageIdSrc?null:o.dataModel.linkMainImageIdSrc.length)>0),e.xp6(4),e.hij("",e.lcZ(55,59,"TITLE.Sample_File")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(58,61,"TITLE.Original_File_ID")),e.Q6J("ngModel",o.dataModel.linkMainImageId),e.xp6(3),e.Q6J("ngIf",o.dataModel.linkMainImageId),e.xp6(3),e.Q6J("language",o.appLanguage)("isPopup",!0)("openForm",o.fileManagerOpenForm)("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1),e.xp6(3),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(2),e.Q6J("ngIf",o.dataModel.description),e.xp6(4),e.hij("",g.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.required),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[u.mk,u.sg,u.O5,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.wO,m.nD,m.On,m.F,H.ey,Z.lW,h.KE,h.hX,h.bx,h.TO,h.R9,w.Hw,G.Nt,j.gD,F.Rr,fe.HG,J.O,C.X$,te.v],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();var oe=d(80707),he=d(71561);function lt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"mat-checkbox",1),e.NdJ("change",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionSelect(a))}),e._uU(2),e.qZA()()}if(2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.Q6J("checked",i.fieldsStatus.get(t.id))("disabled",i.optionDisabled),e.xp6(1),e.hij(" ",t.titleML," ")}}let at=(()=>{class n{coreEnumService;categoryService;cdr;translate;cmsToastrService;constructor(t,i,o,a,l){this.coreEnumService=t,this.categoryService=i,this.cdr=o,this.translate=a,this.cmsToastrService=l,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}dataModelResult=new r.y$4;dataModelSelect=[];dataIdsSelect=[];loading=new b.O;formControl=new m.NI;fieldsStatus=new Map;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionChange=new e.vpe;optionSelectAdded=new e.vpe;optionSelectRemoved=new e.vpe;optionReload=()=>this.onActionReload();set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll()}DataGetAll(){const t=new r.Hay;t.rowPerPage=50,t.accessLoad=!0;const i=this.constructor.name+"main";this.loading.Start(i),this.categoryService.ServiceGetAll(t).subscribe({next:o=>{o.isSuccess?(this.dataModelResult=o,this.dataModelResult.listItems.forEach(a=>this.fieldsStatus.set(a.id,!1)),this.dataIdsSelect.forEach(a=>this.fieldsStatus.set(a,!0)),this.dataModelResult.listItems.forEach(a=>{this.fieldsStatus.get(a.id)&&this.dataModelSelect.push(a)})):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(i)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(i)}})}onActionSelect(t){this.fieldsStatus.get(t.id)?(this.fieldsStatus.set(t.id,!1),this.optionSelectRemoved.emit(t),this.dataModelSelect.splice(this.dataModelSelect.indexOf(t),1)):(this.fieldsStatus.set(t.id,!0),this.optionSelectAdded.emit(t),this.dataModelSelect.push(t)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(t){typeof t==typeof Array(Number)?t.forEach(i=>{this.dataIdsSelect.push(i)}):typeof t==typeof Array(r._wo)&&t.forEach(i=>{this.dataIdsSelect.push(i.id)}),this.dataIdsSelect.forEach(i=>this.fieldsStatus.set(i,!0))}onActionReload(){this.DataGetAll()}static \u0275fac=function(i){return new(i||n)(e.Y36(r.FLW),e.Y36(r.WCx),e.Y36(e.sBO),e.Y36(C.sK),e.Y36(y.e))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimgroup-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"checked","disabled","change"]],template:function(i,o){1&i&&(e.TgZ(0,"ul"),e.YNc(1,lt,3,3,"li",0),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",o.dataModelResult.listItems))},dependencies:[u.sg,he.oG]})}return n})();const st=["vform"];function rt(n,s){if(1&n&&(e.TgZ(0,"mat-option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function ct(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function dt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.title="")}),e._uU(1,"close"),e.qZA()}}function mt(n,s){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function pt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.titleResourceLanguage="")}),e._uU(1,"close"),e.qZA()}}function ut(n,s){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function _t(n,s){if(1&n&&(e.TgZ(0,"mat-option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function ft(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Kind is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function gt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.dismissOnEdit=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.dismissOnEdit)("disabled",!(null!=t.fieldsInfo.dismissOnEdit&&t.fieldsInfo.dismissOnEdit.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.dismissOnEdit?null:t.fieldsInfo.dismissOnEdit.fieldTitle," ")}}function ht(n,s){if(1&n&&(e._UZ(0,"img",45),e.ALo(1,"cmsthumbnail")),2&n){const t=e.oxw();e.s9C("src",e.lcZ(1,1,t.dataModel.linkMainImageIdSrc),e.LSH)}}function Ct(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.linkMainImageId=null)}),e._uU(1,"close"),e.qZA()}}function St(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.description="")}),e._uU(1,"close"),e.qZA()}}function Tt(n,s){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function At(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",47),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormSubmit())}),e._UZ(6,"i",49),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Ce=(()=>{class n{data;dialogRef;coreEnumService;coreUserClaimTypeService;coreUserClaimGroupDetailService;publicHelper;cmsToastrService;cdr;translate;requestId=0;constructor(t,i,o,a,l,c,f,g,v){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreUserClaimTypeService=a,this.coreUserClaimGroupDetailService=l,this.publicHelper=c,this.cmsToastrService=f,this.cdr=g,this.translate=v,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=+t.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;fieldsInfo=new Map;selectFileTypeMainImage=["jpg","jpeg","png"];fileManagerTree;appLanguage="fa";loading=new b.O;dataModelResult=new r.ODe;dataModel=new r.OoK;formInfo=new r.LEF;dataModelEnumRecordStatusResult=new r.y$4;dataModelEnumUserClaimKindsResult=new r.y$4;fileManagerOpenForm=!1;dataCoreUserClaimTypeModels;dataCoreClaimGroupIds=[];dataCoreUserClaimGroupDetailModels;ngOnInit(){if(!(this.requestId>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.getEnumRecordStatus(),this.DataGetAllCoreUserClaimType(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe(t=>{this.dataModelEnumUserClaimKindsResult=t})}getEnumRecordStatus(){var t=this;return(0,Q.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(this.requestId<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreUserClaimTypeService.setAccessLoad(),this.coreUserClaimTypeService.setAccessDataType(r.dR.Editor),this.coreUserClaimTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}DataGetAllCoreUserClaimType(){if(this.requestId<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"DataGetAllCoreUserClaimType";this.loading.Start(t,this.translate.instant("MESSAGE.Get_the_list_of_documents"));const i=new r.Hay,o=new r.AO3;o.propertyName="LinkUserClaimTypeId",o.value=this.requestId,i.filters.push(o),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:a=>{this.dataCoreUserClaimGroupDetailModels=a.listItems;const l=[];this.dataCoreUserClaimGroupDetailModels.forEach(c=>{l.push(c.linkUserClaimGroupId)}),this.dataCoreClaimGroupIds=l,a.isSuccess?this.formInfo.formAlert="":(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=a.errorMessage,this.cmsToastrService.typeErrorMessage(a.errorMessage)),this.loading.Stop(t)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(t)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.sending_information_to_the_server")),this.coreUserClaimTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUserCategorySelect(t){this.dataCoreUserClaimTypeModels=t}onActionSelectorUserCategorySelectAdded(t){const i=new r.KYZ;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,i.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(i).subscribe({next:o=>{o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_in_this_group_was_successful"),this.cmsToastrService.typeSuccessEdit()):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage))},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o)}})}onActionSelectorUserCategorySelectRemoved(t){const i=new r.KYZ;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(i).subscribe({next:o=>{o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.Deletion_from_this_group_Was_Successful"),this.cmsToastrService.typeSuccessEdit()):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage))},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o)}})}static \u0275fac=function(i){return new(i||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(r.FLW),e.Y36(r.kf3),e.Y36(r.Fq5),e.Y36(k.i),e.Y36(y.e),e.Y36(e.sBO),e.Y36(C.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimtype-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(st,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:94,vars:76,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"selectionChange"],["stepper",""],["state","main",3,"label"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","ngModelChange"],["Title",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.titleML","type","text",3,"ngModel","disabled","ngModelChange"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","disabled","ngModelChange"],["TitleResourceLanguage",""],["name","dataModel.kind","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["Kind","ngModel"],["name","dataModel.dismissOnEdit",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],[3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off",3,"ngModel","placeholder","ngModelChange","click"],["LinkMainImageId",""],["matSuffix","",3,"click"],[3,"language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView","itemSelected","openFormChange"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5",3,"ngModel","placeholder","ngModelChange"],["Description",""],[3,"optionSelectForce","optionDisabled","optionChange","optionSelectAdded","optionSelectRemoved"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["name","dataModel.dismissOnEdit",3,"ngModel","disabled","ngModelChange"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit","mat-raised-button","",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-horizontal-stepper",5,6),e.NdJ("selectionChange",function(c){e.CHM(a);const f=e.MAs(7);return e.KtG(o.onStepClick(c,f))}),e.TgZ(8,"mat-step",7),e.ALo(9,"translate"),e.TgZ(10,"mat-form-field",8)(11,"mat-select",9,10),e.NdJ("ngModelChange",function(c){return o.dataModel.recordStatus=c}),e.YNc(13,rt,2,2,"mat-option",11),e.qZA(),e.TgZ(14,"mat-hint",12),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,ct,5,3,"mat-error",13),e.qZA(),e.TgZ(18,"mat-form-field",8)(19,"mat-label"),e._uU(20),e.qZA(),e.TgZ(21,"input",14,15),e.NdJ("ngModelChange",function(c){return o.dataModel.title=c}),e.qZA(),e.YNc(23,dt,2,0,"mat-icon",16),e.TgZ(24,"mat-icon",17),e._uU(25,"mode_edit"),e.qZA(),e.TgZ(26,"mat-hint",12),e._uU(27),e.qZA(),e.YNc(28,mt,5,4,"mat-error",13),e.qZA(),e.TgZ(29,"mat-form-field",8)(30,"mat-label"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"input",18),e.NdJ("ngModelChange",function(c){return o.dataModel.titleML=c}),e.qZA()(),e.TgZ(34,"mat-form-field",8)(35,"mat-label"),e._uU(36),e.qZA(),e.TgZ(37,"input",19,20),e.NdJ("ngModelChange",function(c){return o.dataModel.titleResourceLanguage=c}),e.qZA(),e.YNc(39,pt,2,0,"mat-icon",16),e.TgZ(40,"mat-icon",17),e._uU(41,"mode_edit"),e.qZA(),e.TgZ(42,"mat-hint",12),e._uU(43),e.qZA(),e.YNc(44,ut,5,4,"mat-error",13),e.qZA(),e.TgZ(45,"mat-form-field",8)(46,"mat-select",21,22),e.NdJ("ngModelChange",function(c){return o.dataModel.kind=c}),e.ALo(48,"translate"),e.YNc(49,_t,2,2,"mat-option",11),e.qZA(),e.TgZ(50,"mat-hint",12),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.YNc(53,ft,5,3,"mat-error",13),e.qZA(),e.TgZ(54,"div",8),e.YNc(55,gt,2,3,"mat-slide-toggle",23),e.qZA(),e.TgZ(56,"div",24)(57,"a",25),e.ALo(58,"cmsthumbnail"),e.YNc(59,ht,2,3,"img",26),e.qZA()(),e.TgZ(60,"div",27)(61,"mat-form-field",8)(62,"mat-label",28),e.NdJ("click",function(){return o.fileManagerOpenForm=!0}),e._uU(63),e.ALo(64,"translate"),e.qZA(),e.TgZ(65,"input",29,30),e.NdJ("ngModelChange",function(c){return o.dataModel.linkMainImageId=c})("click",function(){return o.fileManagerOpenForm=!0}),e.ALo(67,"translate"),e.qZA(),e.YNc(68,Ct,2,0,"mat-icon",16),e.TgZ(69,"mat-icon",31),e.NdJ("click",function(){return o.fileManagerOpenForm=!0}),e._uU(70,"mode_edit"),e.qZA()(),e.TgZ(71,"cms-file-manager",32),e.NdJ("itemSelected",function(c){return o.onActionFileSelected(c)})("openFormChange",function(c){return o.fileManagerOpenForm=c}),e.qZA()(),e.TgZ(72,"mat-form-field",8)(73,"mat-label"),e._uU(74),e.qZA(),e.TgZ(75,"textarea",33,34),e.NdJ("ngModelChange",function(c){return o.dataModel.description=c}),e.qZA(),e.YNc(77,St,2,0,"mat-icon",16),e.TgZ(78,"mat-icon",17),e._uU(79,"mode_edit"),e.qZA(),e.TgZ(80,"mat-hint",12),e._uU(81),e.qZA(),e.YNc(82,Tt,5,4,"mat-error",13),e.qZA()(),e.TgZ(83,"mat-step",7),e.ALo(84,"translate"),e.TgZ(85,"app-core-userclaimgroup-selectionlist",35),e.NdJ("optionChange",function(c){return o.onActionSelectorUserCategorySelect(c)})("optionSelectAdded",function(c){return o.onActionSelectorUserCategorySelectAdded(c)})("optionSelectRemoved",function(c){return o.onActionSelectorUserCategorySelectRemoved(c)}),e.qZA()()()(),e.TgZ(86,"div",36)(87,"div",37)(88,"small",38),e._uU(89),e.qZA(),e.TgZ(90,"small",39),e._uU(91),e.qZA()()(),e.TgZ(92,"div",40),e.YNc(93,At,9,7,"div",41),e.qZA()()}if(2&i){const a=e.MAs(12),l=e.MAs(22),c=e.MAs(38),f=e.MAs(47),g=e.MAs(76);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(3),e.s9C("label",e.lcZ(9,58,"TITLE.Details_Claim")),e.xp6(3),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(16,60,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(3),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title),e.xp6(2),e.Q6J("ngIf",o.dataModel.title),e.xp6(4),e.hij("",l.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(3),e.hij(" ",e.lcZ(32,62,"TITLE.TitleML"),""),e.xp6(2),e.Q6J("ngModel",o.dataModel.titleML)("disabled",!0),e.xp6(3),e.Oqu(null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.titleResourceLanguage)("disabled",!(null!=o.fieldsInfo.titleResourceLanguage&&o.fieldsInfo.titleResourceLanguage.accessEditField)),e.xp6(2),e.Q6J("ngIf",o.dataModel.titleResourceLanguage),e.xp6(4),e.hij("",c.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==c.errors?null:c.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(48,64,"TITLE.Status")),e.MGl("panelClass","Kind-",o.dataModel.kind,""),e.Q6J("ngModel",o.dataModel.kind),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumUserClaimKindsResult.listItems),e.xp6(2),e.Oqu(e.lcZ(52,66,"TITLE.Select_type_of_content")),e.xp6(2),e.Q6J("ngIf",null==f.errors?null:f.errors.required),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.dismissOnEdit?null:o.fieldsInfo.dismissOnEdit.accessWatchField),e.xp6(2),e.s9C("href",e.lcZ(58,68,o.dataModel.linkMainImageIdSrc),e.LSH),e.xp6(2),e.Q6J("ngIf",(null==o.dataModel||null==o.dataModel.linkMainImageIdSrc?null:o.dataModel.linkMainImageIdSrc.length)>0),e.xp6(4),e.hij("",e.lcZ(64,70,"TITLE.Sample_File")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(67,72,"TITLE.Original_File_ID")),e.Q6J("ngModel",o.dataModel.linkMainImageId),e.xp6(3),e.Q6J("ngIf",o.dataModel.linkMainImageId),e.xp6(3),e.Q6J("language",o.appLanguage)("isPopup",!0)("openForm",o.fileManagerOpenForm)("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1),e.xp6(3),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(2),e.Q6J("ngIf",o.dataModel.description),e.xp6(4),e.hij("",g.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.required),e.xp6(1),e.s9C("label",e.lcZ(84,74,"TITLE.Get_Used")),e.xp6(2),e.Q6J("optionSelectForce",o.dataCoreClaimGroupIds)("optionDisabled",!1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[u.mk,u.sg,u.O5,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.wO,m.nD,m.On,m.F,H.ey,Z.lW,h.KE,h.hX,h.bx,h.TO,h.R9,w.Hw,G.Nt,j.gD,F.Rr,oe.C0,oe.Vq,fe.HG,J.O,at,C.X$,te.v],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();function Mt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionAdd())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function bt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionEdit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function It(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionReload())}),e.TgZ(1,"mat-icon",12),e.ALo(2,"translate"),e._uU(3,"refresh"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.RELOAD")))}const Se=function(n){return{background:n}};function yt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tree-node",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionSelect(a))}),e._UZ(1,"button",14),e._uU(2),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(2,Se,i.dataModelSelect.id>0&&i.dataModelSelect.id===t.id?"#d3d3da":"")),e.xp6(2),e.hij(" ",t.titleML," ")}}function Et(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-nested-tree-node")(1,"li")(2,"div",15),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionSelect(a))}),e.TgZ(3,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionSelect(a))}),e.TgZ(4,"mat-icon",17),e._uU(5),e.qZA()(),e._uU(6),e.qZA(),e.TgZ(7,"ul"),e.GkF(8,18),e.qZA()()()}if(2&n){const t=s.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(6,Se,i.dataModelSelect.id>0&&i.dataModelSelect.id===t.id?"#d3d3da":"")),e.xp6(1),e.uIk("aria-label","Toggle "+t.titleML),e.xp6(2),e.hij(" ",i.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.xp6(1),e.hij(" ",t.titleML," "),e.xp6(1),e.ekj("category-tree-invisible",!i.treeControl.isExpanded(t))}}let Ut=(()=>{class n{cmsToastrService;coreEnumService;categoryService;dialog;cdr;tokenHelper;translate;constructor(t,i,o,a,l,c,f){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=o,this.dialog=a,this.cdr=l,this.tokenHelper=c,this.translate=f,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(t){this.onActionSelectForce(t)}dataModelSelect=new r.OoK;dataModelResult=new r.y$4;filterModel=new r.Hay;loading=new b.O;get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}treeControl=new _e.VY(t=>null);dataSource=new E.WX;optionChange=new e.vpe;cmsApiStoreSubscribe;optionReload=()=>this.onActionReload();hasChild=(t,i)=>!1;ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;const t=this.constructor.name+"main";this.loading.Start(t),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionReload(){this.onActionSelect(null),this.dataModelSelect=new r.OoK,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){this.dialog.open(ge,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id),0!==t)this.dialog.open(Ce,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()});else{const a=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected");this.cmsToastrService.typeErrorSelected(a)}}static \u0275fac=function(i){return new(i||n)(e.Y36(y.e),e.Y36(r.FLW),e.Y36(r.kf3),e.Y36(A.uw),e.Y36(e.sBO),e.Y36(K.v),e.Y36(C.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimtype-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionLoading:"optionLoading",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:9,vars:6,consts:[[1,"ntk-cms-html-tree-header"],["type","button","class","btn btn-outline-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],[1,"ntk-cms-html-tree-body"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngStyle","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"ntk-cms-html-tree-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-warning",3,"click"],["type","button",1,"btn","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"ngStyle","click"],["mat-icon-button","","disabled",""],[1,"mat-tree-node",3,"ngStyle","click"],["mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.YNc(1,Mt,3,3,"button",1),e.YNc(2,bt,3,3,"button",2),e.YNc(3,It,4,3,"button",3),e.qZA(),e.TgZ(4,"div",4)(5,"mat-tree",5),e.YNc(6,yt,3,4,"mat-tree-node",6),e.YNc(7,Et,9,8,"mat-nested-tree-node",7),e.qZA()(),e._UZ(8,"div",8)),2&i&&(e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.dataModelSelect?null:o.dataModelSelect.id)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow),e.xp6(2),e.Q6J("dataSource",o.dataSource)("treeControl",o.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",o.hasChild))},dependencies:[u.O5,u.PC,Z.RK,w.Hw,E.GZ,E.fQ,E.ah,E.eu,E.gi,E.uo,E.Ar,C.X$]})}return n})();var de=d(56939),Zt=d(93817),wt=d(39084),ie=d(86639),ne=d(25897);function vt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonNewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function Rt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function xt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function kt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",13),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function Gt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Lt(n,s){1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.PICTURE")," "))}function Dt(n,s){if(1&n&&e._UZ(0,"img",50),2&n){const t=e.oxw().$implicit;e.s9C("src",t.linkFileContentId,e.LSH)}}function Nt(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,Dt,1,1,"img",49),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",(null==t||null==t.linkFileContentId?null:t.linkFileContentId.length)>0)}}function qt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Ot(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Jt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," ")}}function Ft(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.title," ")}}function Yt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Qt(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function Ht(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Kt(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Pt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const jt=function(n){return{display:n}};function Bt(n,s){if(1&n&&e._UZ(0,"select",53),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,jt,t.id===i.tableRowSelected.id?"":"none"))}}function $t(n,s){if(1&n&&(e.TgZ(0,"mat-cell",51),e.ALo(1,"statusCellClass"),e._UZ(2,"i",51),e.ALo(3,"statusIconClass"),e.YNc(4,Bt,1,5,"select",52),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function Vt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserClaimTypeId?null:t.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function Wt(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"cmstitle"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,t.linkUserClaimTypeId,i.dataModelCoreUserClaimTypeResult.listItems))}}function zt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.isApproved?null:t.fieldsInfo.isApproved.fieldTitle," ")}}function Xt(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.isApproved))}}function eo(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function to(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDate(t.createdDate)," ")}}function oo(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.updatedDate?null:t.fieldsInfo.updatedDate.fieldTitle," ")}}function io(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDate(t.updatedDate)," ")}}function no(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}const Te=function(n){return{background:n}};function lo(n,s){if(1&n&&(e.TgZ(0,"mat-cell",54),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(2,Te,i.publicHelper.RowStyleExpireDate(t.expireDate))),e.xp6(1),e.hij(" ",i.publicHelper.LocaleDate(t.expireDate)," ")}}function ao(n,s){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function so(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function ro(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function co(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,57),e.YNc(6,so,6,3,"button",58),e.YNc(7,ro,6,3,"button",58),e.TgZ(8,"button",59),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonModuleList(a))}),e.TgZ(9,"mat-icon"),e._uU(10,"view_module"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",59),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonSiteList(a))}),e.TgZ(15,"mat-icon"),e._uU(16,"view_module"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),i=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",i.dataModelResult.access.accessDeleteRow),e.xp6(5),e.hij(" ",e.lcZ(13,5,"ACTION.MODULES"),""),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.SITES"))}}function mo(n,s){1&n&&e._UZ(0,"mat-header-row")}function po(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",60),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(a))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,Te,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const uo=function(){return[5,10,20,100]};let le=(()=>{class n{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;coreUserClaimTypeService;router;tokenHelper;activatedRoute;cdr;translate;dialog;requestLinkUserClaimTypeId=0;requestLinkSiteId=0;requestLinkUserId=0;constructor(t,i,o,a,l,c,f,g,v,L,P){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.coreUserClaimTypeService=l,this.router=c,this.tokenHelper=f,this.activatedRoute=g,this.cdr=v,this.translate=L,this.dialog=P,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.optionsSearch.parentMethods={onSubmit:I=>this.onSubmitOptionsSearch(I)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=r.oYR.Descending,this.requestLinkUserClaimTypeId>0){const I=new r.AO3;I.propertyName="LinkUserClaimTypeId",I.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(I)}if(this.requestLinkSiteId>0){const I=new r.AO3;I.propertyName="LinkSiteId",I.value=this.requestLinkSiteId,this.filteModelContent.filters.push(I)}if(this.requestLinkUserId>0){const I=new r.AO3;I.propertyName="LinkUserId",I.value=this.requestLinkUserId,this.filteModelContent.filters.push(I)}}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new S.dj;optionsStatist=new T.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.NQc;tableSource=new p.by;fieldsInfo=new Map;categoryModelSelected=new r.OoK;dataModelCoreUserClaimTypeResult=new r.y$4;tabledisplayedColumns=[];tabledisplayedColumnsSource=["LinkFileContentId","Id","RecordStatus","Title","LinkSiteId","LinkUserId","LinkUserClaimTypeId","IsApproved","CreatedDate","UpdatedDate","ExpireDate","Action"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getUserClaimType()}getUserClaimType(){const t=new r.Hay;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe(i=>{this.dataModelCoreUserClaimTypeResult=i})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.NQc);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){const o=new r.AO3;o.propertyName="LinkUserClaimTypeId",o.value=this.categoryModelSelected.id,i.filters.push(o)}this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(re.K,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(pe.D,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,o=this.filteModelContent.sortType;this.filteModelContent=new r.Hay,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=o,this.categoryModelSelected=t,this.DataGetAll()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id){const a=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(a)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),o=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,o).then(a=>{if(a){const l=this.constructor.name+"main";this.loading.Start(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(l)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(l)}})}}).catch(()=>{})}onActionbuttonGoToUserClaimList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),this.router.navigate(["/core/siteUserClaim/",this.tableRowSelected.id]);else{const i=this.translate.instant("MESSAGE.no_row_selected_to_display");this.cmsToastrService.typeErrorSelected(i)}}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}});const o=JSON.parse(JSON.stringify(this.filteModelContent)),a=new r.AO3;a.propertyName="RecordStatus",a.value=r.Anr.Available,o.filters.push(a),this.contentService.ServiceGetCount(o).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}})}onActionbuttonModuleList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow?this.router.navigate(["/core/sitecategorymodule/LinkCmsModuleId",this.tableRowSelected.id]):this.cmsToastrService.typeErrorSelected();else{const i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i)}}onActionbuttonSiteList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow?this.router.navigate(["/core/site/list/LinkSiteCategoryId",this.tableRowSelected.id]):this.cmsToastrService.typeErrorSelected();else{const i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i)}}onActionbuttonExport(){this.dialog.open($.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(B.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:this.tableRowSelected.title}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/userclaim/type/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(r.qlG),e.Y36(k.i),e.Y36(y.e),e.Y36(x.s),e.Y36(r.kf3),e.Y36(U.F0),e.Y36(K.v),e.Y36(U.gz),e.Y36(e.sBO),e.Y36(C.sK),e.Y36(A.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimcontent-list"]],decls:74,vars:32,consts:[[3,"Key","svg"],[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-primary","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","LinkFileContentId"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsApproved"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-primary",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[3,"ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const a=e.EpF();e._UZ(0,"app-cms-guide-notice",0),e.TgZ(1,"app-cms-html-list",1),e.ynx(2,2),e.TgZ(3,"app-core-userclaimtype-tree",3),e.NdJ("optionChange",function(c){return o.onActionSelectorSelect(c)}),e.qZA(),e.BQk(),e.GkF(4,4),e.ynx(5,5),e.YNc(6,vt,3,3,"button",6),e.YNc(7,Rt,3,3,"button",7),e.YNc(8,xt,3,3,"button",8),e.TgZ(9,"a",9)(10,"mat-slide-toggle",10),e.NdJ("ngModelChange",function(c){return o.optionsSearch.data.show=c}),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"a",9)(14,"mat-slide-toggle",11),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"button",12),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(18,"mat-icon",13),e.ALo(19,"translate"),e._uU(20,"cloud_download"),e.qZA()(),e.YNc(21,kt,4,3,"button",14),e.TgZ(22,"button",12),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(23,"mat-icon",13),e.ALo(24,"translate"),e._uU(25,"refresh"),e.qZA()(),e.YNc(26,Gt,3,3,"button",15),e.BQk(),e.ynx(27,16),e.TgZ(28,"app-cms-search-list",17),e.NdJ("optionsChange",function(c){return o.optionsSearch=c}),e.qZA(),e.TgZ(29,"app-cms-statist-list",17),e.NdJ("optionsChange",function(c){return o.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(30,18),e.TgZ(31,"mat-table",19,20),e.NdJ("matSortChange",function(){e.CHM(a);const c=e.MAs(32);return e.KtG(o.onTableSortData(c))}),e.ynx(33,21),e.YNc(34,Lt,3,3,"mat-header-cell",22),e.YNc(35,Nt,2,1,"mat-cell",23),e.BQk(),e.ynx(36,24),e.YNc(37,qt,2,1,"mat-header-cell",22),e.YNc(38,Ot,2,1,"mat-cell",23),e.BQk(),e.ynx(39,25),e.YNc(40,Jt,2,1,"mat-header-cell",22),e.YNc(41,Ft,2,1,"mat-cell",23),e.BQk(),e.ynx(42,26),e.YNc(43,Yt,2,1,"mat-header-cell",22),e.YNc(44,Qt,4,5,"mat-cell",23),e.BQk(),e.ynx(45,27),e.YNc(46,Ht,2,1,"mat-header-cell",22),e.YNc(47,Kt,4,5,"mat-cell",23),e.BQk(),e.ynx(48,28),e.YNc(49,Pt,2,1,"mat-header-cell",22),e.YNc(50,$t,5,7,"mat-cell",29),e.BQk(),e.ynx(51,30),e.YNc(52,Vt,2,1,"mat-header-cell",22),e.YNc(53,Wt,3,4,"mat-cell",23),e.BQk(),e.ynx(54,31),e.YNc(55,zt,2,1,"mat-header-cell",22),e.YNc(56,Xt,3,3,"mat-cell",23),e.BQk(),e.ynx(57,32),e.YNc(58,eo,2,1,"mat-header-cell",22),e.YNc(59,to,2,1,"mat-cell",23),e.BQk(),e.ynx(60,33),e.YNc(61,oo,2,1,"mat-header-cell",22),e.YNc(62,io,2,1,"mat-cell",23),e.BQk(),e.ynx(63,34),e.YNc(64,no,2,1,"mat-header-cell",22),e.YNc(65,lo,2,4,"mat-cell",35),e.BQk(),e.ynx(66,36),e.YNc(67,ao,3,3,"mat-header-cell",37),e.YNc(68,co,20,9,"mat-cell",38),e.BQk(),e.YNc(69,mo,1,0,"mat-header-row",39),e.YNc(70,po,1,3,"mat-row",40),e.qZA(),e.BQk(),e.ynx(71,41),e.TgZ(72,"mat-paginator",42,43),e.NdJ("page",function(c){return o.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("Key","userclaim.content.list")("svg","assets/media/svg/icons/General/Notifications1.svg"),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionTreeDisplay",0===o.requestLinkUserClaimTypeId),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&o.tableRowSelected.id>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&o.tableRowSelected.id>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(12,23,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(16,25,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(19,27,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(24,29,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkUserClaimTypeId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(38),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(31,uo)))},dependencies:[u.mk,u.O5,u.PC,m.JJ,m.On,Z.RK,w.Hw,G.Nt,R.VK,R.OP,R.p6,V.NW,F.Rr,Y.YE,Y.nU,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,W.y,z.q,Qe.v,X.Z,ee.G,Ut,u.Ov,C.X$,de.V,Zt.J,wt.Y,ie.G,ne.Y,ce.r],encapsulation:2})}return n})();var Ae=d(57445),Me=d(51927),be=d(83151),Ie=d(42147),ye=d(61528),Ee=d(27969),ae=d(61637);function _o(n,s){if(1&n&&(e.TgZ(0,"mat-option",6)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("value",t)("disabled",i.optionDisabled),e.xp6(2),e.Oqu(i.displayOption(t))}}function fo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const go=["*"];let Ue=(()=>{class n{coreEnumService;cmsToastrService;cdr;translate;categoryService;constructor(t,i,o,a,l){this.coreEnumService=t,this.cmsToastrService=i,this.cdr=o,this.translate=a,this.categoryService=l,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}dataModelResult=new r.y$4;dataModelSelect=new r._wo;formControl=new m.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionChange=new e.vpe;optionReload=()=>this.onActionReload();set optionSelectForce(t){this.onActionSelectForce(t)}loading=new b.O;get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,Me.O)(""),(0,be.b)(1500),(0,Ie.x)(),(0,ye.w)(t=>"string"==typeof t||"number"==typeof t?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){var i=this;return(0,Q.Z)(function*(){const o=new r.Hay;o.rowPerPage=20,o.accessLoad=!0;let a=new r.AO3;a.propertyName="Title",a.value=t,a.searchType=r.J6G.Contains,a.clauseType=r.ppe.Or,o.filters.push(a),t&&"number"==typeof+t&&+t>0&&(a=new r.AO3,a.propertyName="Id",a.value=t,a.searchType=r.J6G.Equal,a.clauseType=r.ppe.Or,o.filters.push(a));const l=i.constructor.name+"main";return i.loading.Start(l),yield(0,Ae.z)(i.categoryService.ServiceGetAll(o)).then(c=>(i.dataModelResult=c,i.optionSelectFirstItem&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0)&&i.dataModelResult.listItems.length>0&&(i.optionSelectFirstItem=!1,setTimeout(()=>{i.formControl.setValue(i.dataModelResult.listItems[0])},1e3),i.onActionSelect(i.dataModelResult.listItems[0])),i.loading.Stop(l),c.listItems))})()}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe((0,Ee.U)(i=>(i.find(o=>o.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if("number"==typeof t&&t>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){const i=this.dataModelResult.listItems.find(o=>o.id===t);return this.dataModelSelect=i,void this.formControl.setValue(i)}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}})}else{if(typeof t==typeof r._wo)return this.filteredOptions=this.push(t),this.dataModelSelect=t,void this.formControl.setValue(t);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new r._wo,this.loadOptions()}static \u0275fac=function(i){return new(i||n)(e.Y36(r.FLW),e.Y36(y.e),e.Y36(e.sBO),e.Y36(C.sK),e.Y36(r.WCx))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimgroup-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLoading:"optionLoading"},outputs:{optionChange:"optionChange"},ngContentSelectors:go,decls:8,vars:9,consts:[[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,o){if(1&i&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"input",1),e.TgZ(2,"mat-autocomplete",2,3),e.NdJ("optionSelected",function(l){return o.onActionSelect(l.option.value)}),e.YNc(4,_o,3,3,"mat-option",4),e.ALo(5,"async"),e.qZA(),e.YNc(6,fo,2,0,"mat-icon",5),e.Hsn(7),e.qZA()),2&i){const a=e.MAs(3);e.xp6(1),e.s9C("placeholder",o.optionPlaceholder),e.Q6J("formControl",o.formControl)("matAutocomplete",a),e.uIk("disabled",!!o.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",o.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(5,7,o.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==o.dataModelSelect?null:o.dataModelSelect.id)}},dependencies:[u.sg,u.O5,m.Fj,m.JJ,m.oH,ae.XC,H.ey,ae.ZL,h.KE,h.R9,w.Hw,G.Nt,u.Ov]})}return n})();var Ze=d(56014);const ho=["vform"];function Co(n,s){if(1&n&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function So(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function To(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",20),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.isRequired=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.isRequired)("disabled",!(null!=t.fieldsInfo.isRequired&&t.fieldsInfo.isRequired.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.isRequired?null:t.fieldsInfo.isRequired.fieldTitle," ")}}function Ao(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",22),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormSubmit())}),e._UZ(6,"i",24),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Mo=(()=>{class n{data;dialogRef;coreEnumService;coreUserClaimGroupDetailService;publicHelper;cmsToastrService;cdr;translate;requestLinkUserClaimGroupId=0;requestLinkUserClaimTypeId=0;constructor(t,i,o,a,l,c,f,g){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreUserClaimGroupDetailService=a,this.publicHelper=l,this.cmsToastrService=c,this.cdr=f,this.translate=g,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestLinkUserClaimGroupId=+t.linkUserClaimGroupId||0,this.requestLinkUserClaimTypeId=+t.linkUserClaimTypeId||0),this.requestLinkUserClaimGroupId>0&&(this.dataModel.linkUserClaimGroupId=this.requestLinkUserClaimGroupId),this.requestLinkUserClaimTypeId>0&&(this.dataModel.linkUserClaimTypeId=this.requestLinkUserClaimTypeId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;fieldsInfo=new Map;selectFileTypeMainImage=["jpg","jpeg","png"];fileManagerTree;appLanguage="fa";loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.KYZ;formInfo=new r.LEF;dataModelEnumRecordStatusResult=new r.y$4;fileManagerOpenForm=!1;ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.ADD"),this.getEnumRecordStatus(),this.DataGetAccess()}DataGetAccess(){const t=this.constructor.name+"DataGetAccess";this.loading.Start(t),this.coreUserClaimGroupDetailService.ServiceViewModel().subscribe({next:i=>{i.isSuccess?this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access):this.cmsToastrService.typeErrorGetAccess(i.errorMessage),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeErrorGetAccess(i),this.loading.Stop(t)}})}getEnumRecordStatus(){var t=this;return(0,Q.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataAddContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreUserClaimGroupDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onActionSelectClaimGroup(t){!t||t.id<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),"MESSAGE.group_of_information_documents_is_not_clear"):this.dataModel.linkUserClaimGroupId=t.id}onActionSelectClaimType(t){!t||t.id<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.type_of_information_documents_is_not_clear")):this.dataModel.linkUserClaimTypeId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(r.FLW),e.Y36(r.Fq5),e.Y36(k.i),e.Y36(y.e),e.Y36(e.sBO),e.Y36(C.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimgroupdetail-add"]],viewQuery:function(i,o){if(1&i&&e.Gf(ho,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:26,vars:22,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit","mat-raised-button","",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(i,o){if(1&i&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(l){return o.dataModel.recordStatus=l}),e.YNc(9,Co,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,So,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"app-core-userclaimgroup-selector",11),e.NdJ("optionChange",function(l){return o.onActionSelectClaimGroup(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(15,"app-core-userclaimtype-selector",11),e.NdJ("optionChange",function(l){return o.onActionSelectClaimType(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(16,"div",5),e.YNc(17,To,2,3,"mat-slide-toggle",12),e.qZA()(),e.TgZ(18,"div",13)(19,"div",14)(20,"small",15),e._uU(21),e.qZA(),e.TgZ(22,"small",16),e._uU(23),e.qZA()()(),e.TgZ(24,"div",17),e.YNc(25,Ao,9,7,"div",18),e.qZA()()),2&i){const a=e.MAs(8);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,20,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserClaimGroupId)("optionPlaceholder",o.translate.instant("TITLE.DOCUMENT_GROUP"))("optionDisabled",!(null!=o.fieldsInfo.linkUserClaimGroupId&&o.fieldsInfo.linkUserClaimGroupId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserClaimTypeId)("optionPlaceholder",o.translate.instant("TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(null!=o.fieldsInfo.linkUserClaimTypeId&&o.fieldsInfo.linkUserClaimTypeId.accessEditField)),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.isRequired?null:o.fieldsInfo.isRequired.accessWatchField),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[u.mk,u.sg,u.O5,m._Y,m.JJ,m.JL,m.Q7,m.On,m.F,H.ey,Z.lW,h.KE,h.bx,h.TO,j.gD,F.Rr,J.O,Ue,Ze.b,C.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const bo=["vform"];function Io(n,s){if(1&n&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function yo(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Eo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",20),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.isRequired=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.isRequired)("disabled",!(null!=t.fieldsInfo.isRequired&&t.fieldsInfo.isRequired.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.isRequired?null:t.fieldsInfo.isRequired.fieldTitle," ")}}function Uo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",22),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormSubmit())}),e._UZ(6,"i",24),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Zo=(()=>{class n{data;dialogRef;coreEnumService;coreUserClaimGroupDetailService;publicHelper;cmsToastrService;cdr;translate;requestModel=new r.KYZ;constructor(t,i,o,a,l,c,f,g){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreUserClaimGroupDetailService=a,this.publicHelper=l,this.cmsToastrService=c,this.cdr=f,this.translate=g,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestModel=t.model),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;fieldsInfo=new Map;selectFileTypeMainImage=["jpg","jpeg","png"];fileManagerTree;appLanguage="fa";loading=new b.O;dataModelResult=new r.ODe;dataModel=new r.KYZ;formInfo=new r.LEF;dataModelEnumRecordStatusResult=new r.y$4;fileManagerOpenForm=!1;ngOnInit(){if(!(this.requestModel&&this.requestModel.linkUserClaimTypeId>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.getEnumRecordStatus()}getEnumRecordStatus(){var t=this;return(0,Q.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t);const i=new r.Hay;let o=new r.AO3;o.propertyName="LinkUserClaimGroupId",o.value=this.requestModel.linkUserClaimGroupId,i.filters.push(o),o=new r.AO3,o.propertyName="LinkUserClaimTypeId",o.value=this.requestModel.linkUserClaimTypeId,i.filters.push(o),this.coreUserClaimGroupDetailService.setAccessLoad(),this.coreUserClaimGroupDetailService.setAccessDataType(r.dR.Editor),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:a=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(a.access),a.isSuccess&&a.listItems.length>0?(this.dataModel=a.listItems[0],this.formInfo.formTitle=this.formInfo.formTitle+" "+this.dataModel.linkUserClaimGroupId+"<--\x3e"+this.dataModel.linkUserClaimTypeId,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=a.errorMessage,this.cmsToastrService.typeErrorMessage(a.errorMessage)),this.loading.Stop(t)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(t)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.sending_information_to_the_server")),this.coreUserClaimGroupDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onActionSelectClaimGroup(t){!t||t.id<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.group_of_information_documents_is_not_clear")):this.dataModel.linkUserClaimGroupId=t.id}onActionSelectClaimType(t){!t||t.id<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.type_of_information_documents_is_not_clear")):this.dataModel.linkUserClaimTypeId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(r.FLW),e.Y36(r.Fq5),e.Y36(k.i),e.Y36(y.e),e.Y36(e.sBO),e.Y36(C.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimgroupdetail-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(bo,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:26,vars:22,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit","mat-raised-button","",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(i,o){if(1&i&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(l){return o.dataModel.recordStatus=l}),e.YNc(9,Io,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,yo,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"app-core-userclaimgroup-selector",11),e.NdJ("optionChange",function(l){return o.onActionSelectClaimGroup(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(15,"app-core-userclaimtype-selector",11),e.NdJ("optionChange",function(l){return o.onActionSelectClaimType(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(16,"div",5),e.YNc(17,Eo,2,3,"mat-slide-toggle",12),e.qZA()(),e.TgZ(18,"div",13)(19,"div",14)(20,"small",15),e._uU(21),e.qZA(),e.TgZ(22,"small",16),e._uU(23),e.qZA()()(),e.TgZ(24,"div",17),e.YNc(25,Uo,9,7,"div",18),e.qZA()()),2&i){const a=e.MAs(8);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,20,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserClaimGroupId)("optionPlaceholder",o.translate.instant("TITLE.DOCUMENT_GROUP"))("optionDisabled",!(null!=o.fieldsInfo.linkUserClaimGroupId&&o.fieldsInfo.linkUserClaimGroupId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserClaimTypeId)("optionPlaceholder",o.translate.instant("TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(null!=o.fieldsInfo.linkUserClaimTypeId&&o.fieldsInfo.linkUserClaimTypeId.accessEditField)),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.isRequired?null:o.fieldsInfo.isRequired.accessWatchField),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[u.mk,u.sg,u.O5,m._Y,m.JJ,m.JL,m.Q7,m.On,m.F,H.ey,Z.lW,h.KE,h.bx,h.TO,j.gD,F.Rr,J.O,Ue,Ze.b,C.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();function wo(n,s){if(1&n&&(e._UZ(0,"img",9),e.ALo(1,"cmsthumbnail")),2&n){const t=e.oxw();e.s9C("src",e.lcZ(1,1,t.dataModelSelect.linkMainImageIdSrc),e.LSH)}}function vo(n,s){if(1&n&&(e._UZ(0,"img",9),e.ALo(1,"cmsthumbnail")),2&n){const t=e.oxw().$implicit;e.s9C("src",e.lcZ(1,1,t.linkMainImageIdSrc),e.LSH)}}function Ro(n,s){if(1&n&&(e.TgZ(0,"mat-option",10),e.YNc(1,vo,2,3,"img",3),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("value",t)("disabled",i.optionDisabled),e.xp6(1),e.Q6J("ngIf",t.linkMainImageIdSrc),e.xp6(2),e.Oqu(i.displayOption(t))}}function xo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const ko=["*"];let we=(()=>{class n{coreEnumService;translate;cdr;categoryService;static nextId=0;id=++n.nextId;constructor(t,i,o,a){this.coreEnumService=t,this.translate=i,this.cdr=o,this.categoryService=a,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}dataModelResult=new r.y$4;dataModelSelect=new r.U4O;loading=new b.O;get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}formControl=new m.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionChange=new e.vpe;optionReload=()=>this.onActionReload();set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,Me.O)(""),(0,be.b)(1500),(0,Ie.x)(),(0,ye.w)(t=>this.DataGetAll("string"==typeof t||"number"==typeof t?t:"")))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){var i=this;return(0,Q.Z)(function*(){const o=new r.Hay;if(o.rowPerPage=20,o.accessLoad=!0,t&&t.length>0){let l=new r.AO3;l=new r.AO3,l.propertyName="SubDomain",l.value=t,l.searchType=r.J6G.Contains,l.clauseType=r.ppe.Or,o.filters.push(l),l=new r.AO3,l.propertyName="Domain",l.value=t,l.searchType=r.J6G.Contains,l.clauseType=r.ppe.Or,o.filters.push(l),l=new r.AO3,l.propertyName="Title",l.value=t,l.searchType=r.J6G.Contains,l.clauseType=r.ppe.Or,o.filters.push(l),t&&"number"==typeof+t&&+t>0&&(l=new r.AO3,l.propertyName="Id",l.value=t,l.searchType=r.J6G.Equal,l.clauseType=r.ppe.Or,o.filters.push(l))}const a=i.constructor.name+"main";return i.loading.Start(a),yield(0,Ae.z)(i.categoryService.ServiceGetAll(o)).then(l=>(i.dataModelResult=l,i.optionSelectFirstItem&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0)&&i.dataModelResult.listItems.length>0&&(i.optionSelectFirstItem=!1,setTimeout(()=>{i.formControl.setValue(i.dataModelResult.listItems[0])},1e3),i.onActionSelect(i.dataModelResult.listItems[0])),i.loading.Stop(a),l.listItems))})()}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe((0,Ee.U)(i=>(i.find(o=>o.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if("number"==typeof t&&t>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){const i=this.dataModelResult.listItems.find(o=>o.id===t);return this.dataModelSelect=i,void this.formControl.setValue(i)}this.categoryService.ServiceGetOneById(t).subscribe(i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))})}else{if(typeof t==typeof r.U4O)return this.filteredOptions=this.push(t),this.dataModelSelect=t,void this.formControl.setValue(t);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new r.U4O,this.loadOptions()}static \u0275fac=function(i){return new(i||n)(e.Y36(r.FLW),e.Y36(C.sK),e.Y36(e.sBO),e.Y36(r.Onl))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-cms-application-selector"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:ko,decls:12,vars:11,consts:[[1,"ntk-full-width"],[3,"options"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,o){if(1&i&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"span",2),e.YNc(3,wo,2,3,"img",3),e._uU(4," \xa0"),e.qZA(),e._UZ(5,"input",4),e.TgZ(6,"mat-autocomplete",5,6),e.NdJ("optionSelected",function(l){return o.onActionSelect(l.option.value)}),e.YNc(8,Ro,4,4,"mat-option",7),e.ALo(9,"async"),e.qZA(),e.YNc(10,xo,2,0,"mat-icon",8),e.Hsn(11),e.qZA()),2&i){const a=e.MAs(7);e.xp6(1),e.Q6J("options",o.loading),e.xp6(2),e.Q6J("ngIf",o.dataModelSelect&&(null==o.dataModelSelect?null:o.dataModelSelect.linkMainImageIdSrc)),e.xp6(2),e.s9C("placeholder",o.optionPlaceholder),e.Q6J("formControl",o.formControl)("matAutocomplete",a),e.uIk("disabled",!!o.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",o.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(9,9,o.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==o.dataModelSelect?null:o.dataModelSelect.id)}},dependencies:[u.sg,u.O5,m.Fj,m.JJ,m.oH,ae.XC,H.ey,ae.ZL,h.KE,h.qo,h.R9,w.Hw,G.Nt,J.O,u.Ov,te.v],encapsulation:2})}return n})();var ve=d(95631),Re=d(6586),xe=d(11126);const Go=["vform"];function Lo(n,s){if(1&n&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Do(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function No(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.title="")}),e._uU(1,"close"),e.qZA()}}function qo(n,s){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Oo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.titleResourceLanguage="")}),e._uU(1,"close"),e.qZA()}}function Jo(n,s){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Fo(n,s){if(1&n&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Yo(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," ActionType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Qo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.description="")}),e._uU(1,"close"),e.qZA()}}function Ho(n,s){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Ko(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",31),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",32),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormSubmit())}),e._UZ(6,"i",33),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let ke=(()=>{class n{data;dialogRef;coreEnumService;coreUserClaimGroupService;publicHelper;cmsToastrService;cdr;translate;constructor(t,i,o,a,l,c,f,g){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreUserClaimGroupService=a,this.publicHelper=l,this.cmsToastrService=c,this.cdr=f,this.translate=g,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;fieldsInfo=new Map;selectFileTypeMainImage=["jpg","jpeg","png"];fileManagerTree;appLanguage="fa";loading=new b.O;dataModelResult=new r.y$4;dataModel=new r._wo;formInfo=new r.LEF;dataModelEnumRecordStatusResult=new r.y$4;dataModelEnumUserClaimGroupActionTypeResult=new r.y$4;fileManagerOpenForm=!1;ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.ADD"),this.getEnumRecordStatus(),this.DataGetAccess(),this.getEnumUserClaimGroupActionType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceUserClaimGroupActionTypeEnum().subscribe(t=>{this.dataModelEnumUserClaimGroupActionTypeResult=t})}DataGetAccess(){const t=this.constructor.name+"DataGetAccess";this.loading.Start(t),this.coreUserClaimGroupService.ServiceViewModel().subscribe({next:i=>{i.isSuccess?this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access):this.cmsToastrService.typeErrorGetAccess(i.errorMessage),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeErrorGetAccess(i),this.loading.Stop(t)}})}getEnumRecordStatus(){var t=this;return(0,Q.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataAddContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreUserClaimGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onActionSelectApplication(t){this.dataModel.linkApplicationId=!t||t.id<=0?null:t.id}onActionSelectApplicationSource(t){this.dataModel.linkApplicationSourceId=!t||t.id<=0?null:t.id}onActionSelectUserGroup(t){this.dataModel.linkUserGroupId=!t||t.id<=0?null:t.id}onActionSelectSiteCategory(t){this.dataModel.linkSiteCategoryId=null,this.dataModel.linkSiteCategoryId=!t||t.id<=0?null:t.id}onActionSelectModuleId(t){this.dataModel.linkModuleId=null,t&&!(t.id<=0)&&(this.dataModel.linkModuleId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(r.FLW),e.Y36(r.WCx),e.Y36(k.i),e.Y36(y.e),e.Y36(e.sBO),e.Y36(C.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimgroup-add"]],viewQuery:function(i,o){if(1&i&&e.Gf(Go,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:70,vars:62,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","ngModelChange"],["Title",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","disabled","ngModelChange"],["TitleResourceLanguage",""],["name","dataModel.actionType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["ActionType","ngModel"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5",3,"ngModel","placeholder","ngModelChange"],["Description",""],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit","mat-raised-button","",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(i,o){if(1&i&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(l){return o.dataModel.recordStatus=l}),e.YNc(9,Lo,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Do,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"mat-form-field",5)(15,"mat-label"),e._uU(16),e.qZA(),e.TgZ(17,"input",11,12),e.NdJ("ngModelChange",function(l){return o.dataModel.title=l}),e.qZA(),e.YNc(19,No,2,0,"mat-icon",13),e.TgZ(20,"mat-icon",14),e._uU(21,"mode_edit"),e.qZA(),e.TgZ(22,"mat-hint",9),e._uU(23),e.qZA(),e.YNc(24,qo,5,4,"mat-error",10),e.qZA(),e.TgZ(25,"mat-form-field",5)(26,"mat-label"),e._uU(27),e.qZA(),e.TgZ(28,"input",15,16),e.NdJ("ngModelChange",function(l){return o.dataModel.titleResourceLanguage=l}),e.qZA(),e.YNc(30,Oo,2,0,"mat-icon",13),e.TgZ(31,"mat-icon",14),e._uU(32,"mode_edit"),e.qZA(),e.TgZ(33,"mat-hint",9),e._uU(34),e.qZA(),e.YNc(35,Jo,5,4,"mat-error",10),e.qZA(),e.TgZ(36,"mat-form-field",5)(37,"mat-select",17,18),e.NdJ("ngModelChange",function(l){return o.dataModel.actionType=l}),e.ALo(39,"translate"),e.YNc(40,Fo,2,2,"mat-option",8),e.qZA(),e.TgZ(41,"mat-hint",9),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.YNc(44,Yo,5,3,"mat-error",10),e.qZA(),e._UZ(45,"hr"),e.TgZ(46,"app-cms-module-selector",19),e.NdJ("optionChange",function(l){return o.onActionSelectModuleId(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(47,"app-cms-sitecategory-selector",19),e.NdJ("optionChange",function(l){return o.onActionSelectSiteCategory(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(48,"app-cms-usergroup-selector",19),e.NdJ("optionChange",function(l){return o.onActionSelectUserGroup(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(49,"app-cms-application-selector",19),e.NdJ("optionChange",function(l){return o.onActionSelectApplication(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(50,"app-cms-application-selector",19),e.NdJ("optionChange",function(l){return o.onActionSelectApplicationSource(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(51,"mat-form-field",5)(52,"mat-label"),e._uU(53),e.qZA(),e.TgZ(54,"textarea",20,21),e.NdJ("ngModelChange",function(l){return o.dataModel.description=l}),e.qZA(),e.YNc(56,Qo,2,0,"mat-icon",13),e.TgZ(57,"mat-icon",14),e._uU(58,"mode_edit"),e.qZA(),e.TgZ(59,"mat-hint",9),e._uU(60),e.qZA(),e.YNc(61,Ho,5,4,"mat-error",10),e.qZA()(),e.TgZ(62,"div",22)(63,"div",23)(64,"small",24),e._uU(65),e.qZA(),e.TgZ(66,"small",25),e._uU(67),e.qZA()()(),e.TgZ(68,"div",26),e.YNc(69,Ko,9,7,"div",27),e.qZA()()),2&i){const a=e.MAs(8),l=e.MAs(18),c=e.MAs(29),f=e.MAs(38),g=e.MAs(55);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,56,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(3),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title),e.xp6(2),e.Q6J("ngIf",o.dataModel.title),e.xp6(4),e.hij("",l.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(3),e.Oqu(null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.titleResourceLanguage)("disabled",!(null!=o.fieldsInfo.titleResourceLanguage&&o.fieldsInfo.titleResourceLanguage.accessAddField)),e.xp6(2),e.Q6J("ngIf",o.dataModel.titleResourceLanguage),e.xp6(4),e.hij("",c.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==c.errors?null:c.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(39,58,"TITLE.Status")),e.MGl("panelClass","ActionType-",o.dataModel.actionType,""),e.Q6J("ngModel",o.dataModel.actionType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumUserClaimGroupActionTypeResult.listItems),e.xp6(2),e.Oqu(e.lcZ(43,60,"TITLE.Select_type_of_content")),e.xp6(2),e.Q6J("ngIf",null==f.errors?null:f.errors.required),e.xp6(2),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkModuleId)("optionPlaceholder",o.translate.instant("TITLE.MODULE"))("optionDisabled",!(null!=o.fieldsInfo.linkModuleId&&o.fieldsInfo.linkModuleId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkSiteCategoryId)("optionPlaceholder",o.translate.instant("TITLE.SITE_CATEGORY"))("optionDisabled",!(null!=o.fieldsInfo.linkSiteCategoryId&&o.fieldsInfo.linkSiteCategoryId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserGroupId)("optionPlaceholder",o.translate.instant("TITLE.User_Group"))("optionDisabled",!(null!=o.fieldsInfo.linkUserGroupId&&o.fieldsInfo.linkUserGroupId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkApplicationId)("optionPlaceholder",o.translate.instant("TITLE.Application"))("optionDisabled",!(null!=o.fieldsInfo.linkApplicationId&&o.fieldsInfo.linkApplicationId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkApplicationSourceId)("optionPlaceholder",o.translate.instant("TITLE.Application_Source"))("optionDisabled",!(null!=o.fieldsInfo.linkApplicationSourceId&&o.fieldsInfo.linkApplicationSourceId.accessEditField)),e.xp6(3),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(2),e.Q6J("ngIf",o.dataModel.description),e.xp6(4),e.hij("",g.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.required),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[u.mk,u.sg,u.O5,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.wO,m.nD,m.On,m.F,H.ey,Z.lW,h.KE,h.hX,h.bx,h.TO,h.R9,w.Hw,G.Nt,j.gD,we,ve.z,Re.w,xe.g,J.O,C.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();function Po(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"mat-checkbox",1),e.NdJ("change",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionSelect(a))}),e._uU(2),e.qZA()()}if(2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.Q6J("checked",i.fieldsStatus.get(t.id))("disabled",i.optionDisabled),e.xp6(1),e.hij(" ",t.titleML," ")}}let jo=(()=>{class n{coreEnumService;categoryService;cdr;translate;cmsToastrService;constructor(t,i,o,a,l){this.coreEnumService=t,this.categoryService=i,this.cdr=o,this.translate=a,this.cmsToastrService=l,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}dataModelResult=new r.y$4;dataModelSelect=[];dataIdsSelect=[];loading=new b.O;formControl=new m.NI;fieldsStatus=new Map;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionChange=new e.vpe;optionSelectAdded=new e.vpe;optionSelectRemoved=new e.vpe;optionReload=()=>this.onActionReload();set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll()}DataGetAll(){const t=new r.Hay;t.rowPerPage=50,t.accessLoad=!0;const i=this.constructor.name+"main";this.loading.Start(i),this.categoryService.ServiceGetAll(t).subscribe({next:o=>{o.isSuccess?(this.dataModelResult=o,this.dataModelResult.listItems.forEach(a=>this.fieldsStatus.set(a.id,!1)),this.dataIdsSelect.forEach(a=>this.fieldsStatus.set(a,!0)),this.dataModelResult.listItems.forEach(a=>{this.fieldsStatus.get(a.id)&&this.dataModelSelect.push(a)})):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(i)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(i)}})}onActionSelect(t){this.fieldsStatus.get(t.id)?(this.fieldsStatus.set(t.id,!1),this.optionSelectRemoved.emit(t),this.dataModelSelect.splice(this.dataModelSelect.indexOf(t),1)):(this.fieldsStatus.set(t.id,!0),this.optionSelectAdded.emit(t),this.dataModelSelect.push(t)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(t){typeof t==typeof Array(Number)?t.forEach(i=>{this.dataIdsSelect.push(i)}):typeof t==typeof Array(r.OoK)&&t.forEach(i=>{this.dataIdsSelect.push(i.id)}),this.dataIdsSelect.forEach(i=>this.fieldsStatus.set(i,!0))}onActionReload(){this.DataGetAll()}static \u0275fac=function(i){return new(i||n)(e.Y36(r.FLW),e.Y36(r.kf3),e.Y36(e.sBO),e.Y36(C.sK),e.Y36(y.e))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimtype-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"checked","disabled","change"]],template:function(i,o){1&i&&(e.TgZ(0,"ul"),e.YNc(1,Po,3,3,"li",0),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",o.dataModelResult.listItems))},dependencies:[u.sg,he.oG]})}return n})();const Bo=["vform"];function $o(n,s){if(1&n&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Vo(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Wo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.title="")}),e._uU(1,"close"),e.qZA()}}function zo(n,s){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Xo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.titleResourceLanguage="")}),e._uU(1,"close"),e.qZA()}}function ei(n,s){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function ti(n,s){if(1&n&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function oi(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," ActionType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function ii(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.description="")}),e._uU(1,"close"),e.qZA()}}function ni(n,s){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function li(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"button",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",36),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormSubmit())}),e._UZ(6,"i",38),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Ge=(()=>{class n{data;dialogRef;coreEnumService;coreUserClaimGroupService;coreUserClaimGroupDetailService;publicHelper;cmsToastrService;cdr;translate;requestId=0;constructor(t,i,o,a,l,c,f,g,v){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreUserClaimGroupService=a,this.coreUserClaimGroupDetailService=l,this.publicHelper=c,this.cmsToastrService=f,this.cdr=g,this.translate=v,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=+t.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;fieldsInfo=new Map;selectFileTypeMainImage=["jpg","jpeg","png"];fileManagerTree;appLanguage="fa";loading=new b.O;dataModelResult=new r.ODe;dataModel=new r._wo;formInfo=new r.LEF;dataModelEnumRecordStatusResult=new r.y$4;dataModelEnumUserClaimGroupActionTypeResult=new r.y$4;fileManagerOpenForm=!1;dataCoreUserClaimTypeModels;dataCoreClaimTypeIds=[];dataCoreUserClaimGroupDetailModels;ngOnInit(){if(!(this.requestId>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.getEnumRecordStatus(),this.getEnumUserClaimGroupActionType(),this.DataGetAllCoreUserClaimType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceUserClaimGroupActionTypeEnum().subscribe(t=>{this.dataModelEnumUserClaimGroupActionTypeResult=t})}getEnumRecordStatus(){var t=this;return(0,Q.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(this.requestId<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"DataGetOneContent";this.loading.Start(t,this.translate.instant("MESSAGE.Receive_categories_of_documents")),this.coreUserClaimGroupService.setAccessLoad(),this.coreUserClaimGroupService.setAccessDataType(r.dR.Editor),this.coreUserClaimGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.Registration_of categories_of_documents")),this.coreUserClaimGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onActionSelectApplication(t){this.dataModel.linkApplicationId=!t||t.id<=0?null:t.id}onActionSelectApplicationSource(t){this.dataModel.linkApplicationSourceId=!t||t.id<=0?null:t.id}onActionSelectUserGroup(t){this.dataModel.linkUserGroupId=!t||t.id<=0?null:t.id}onActionSelectSiteCategory(t){this.dataModel.linkSiteCategoryId=null,this.dataModel.linkSiteCategoryId=!t||t.id<=0?null:t.id}onActionSelectModuleId(t){this.dataModel.linkModuleId=null,t&&!(t.id<=0)&&(this.dataModel.linkModuleId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}DataGetAllCoreUserClaimType(){if(this.requestId<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"DataGetAllCoreUserClaimType";this.loading.Start(t,this.translate.instant("MESSAGE.Receive_categories_of_documents"));const i=new r.Hay,o=new r.AO3;o.propertyName="LinkUserClaimGroupId",o.value=this.requestId,i.filters.push(o),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:a=>{this.dataCoreUserClaimGroupDetailModels=a.listItems;const l=[];this.dataCoreUserClaimGroupDetailModels.forEach(c=>{l.push(c.linkUserClaimTypeId)}),this.dataCoreClaimTypeIds=l,a.isSuccess?this.formInfo.formAlert="":(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=a.errorMessage,this.cmsToastrService.typeErrorMessage(a.errorMessage)),this.loading.Stop(t)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(t)}})}onActionSelectorUserCategorySelect(t){this.dataCoreUserClaimTypeModels=t}onActionSelectorUserCategorySelectAdded(t){const i=new r.KYZ;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,i.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(i).subscribe({next:o=>{o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_in_this_group_was_successful"),this.cmsToastrService.typeSuccessEdit()):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage))},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o)}})}onActionSelectorUserCategorySelectRemoved(t){const i=new r.KYZ;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(i).subscribe({next:o=>{o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.Deletion_from_this_group_Was_Successful"),this.cmsToastrService.typeSuccessEdit()):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage))},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o)}})}static \u0275fac=function(i){return new(i||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(r.FLW),e.Y36(r.WCx),e.Y36(r.Fq5),e.Y36(k.i),e.Y36(y.e),e.Y36(e.sBO),e.Y36(C.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimgroup-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(Bo,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:82,vars:75,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"selectionChange"],["stepper",""],["state","main",3,"label"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","ngModelChange"],["Title",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.titleML","type","text",3,"ngModel","disabled","ngModelChange"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","disabled","ngModelChange"],["TitleResourceLanguage",""],["name","dataModel.actionType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["ActionType","ngModel"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5",3,"ngModel","placeholder","ngModelChange"],["Description",""],[3,"optionSelectForce","optionDisabled","optionChange","optionSelectAdded","optionSelectRemoved"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit","mat-raised-button","",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-horizontal-stepper",5,6),e.NdJ("selectionChange",function(c){e.CHM(a);const f=e.MAs(7);return e.KtG(o.onStepClick(c,f))}),e.TgZ(8,"mat-step",7),e.ALo(9,"translate"),e.TgZ(10,"mat-form-field",8)(11,"mat-select",9,10),e.NdJ("ngModelChange",function(c){return o.dataModel.recordStatus=c}),e.YNc(13,$o,2,2,"mat-option",11),e.qZA(),e.TgZ(14,"mat-hint",12),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,Vo,5,3,"mat-error",13),e.qZA(),e.TgZ(18,"mat-form-field",8)(19,"mat-label"),e._uU(20),e.qZA(),e.TgZ(21,"input",14,15),e.NdJ("ngModelChange",function(c){return o.dataModel.title=c}),e.qZA(),e.YNc(23,Wo,2,0,"mat-icon",16),e.TgZ(24,"mat-icon",17),e._uU(25,"mode_edit"),e.qZA(),e.TgZ(26,"mat-hint",12),e._uU(27),e.qZA(),e.YNc(28,zo,5,4,"mat-error",13),e.qZA(),e.TgZ(29,"mat-form-field",8)(30,"mat-label"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"input",18),e.NdJ("ngModelChange",function(c){return o.dataModel.titleML=c}),e.qZA()(),e.TgZ(34,"mat-form-field",8)(35,"mat-label"),e._uU(36),e.qZA(),e.TgZ(37,"input",19,20),e.NdJ("ngModelChange",function(c){return o.dataModel.titleResourceLanguage=c}),e.qZA(),e.YNc(39,Xo,2,0,"mat-icon",16),e.TgZ(40,"mat-icon",17),e._uU(41,"mode_edit"),e.qZA(),e.TgZ(42,"mat-hint",12),e._uU(43),e.qZA(),e.YNc(44,ei,5,4,"mat-error",13),e.qZA(),e.TgZ(45,"mat-form-field",8)(46,"mat-select",21,22),e.NdJ("ngModelChange",function(c){return o.dataModel.actionType=c}),e.ALo(48,"translate"),e.YNc(49,ti,2,2,"mat-option",11),e.qZA(),e.TgZ(50,"mat-hint",12),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.YNc(53,oi,5,3,"mat-error",13),e.qZA(),e._UZ(54,"hr"),e.TgZ(55,"app-cms-module-selector",23),e.NdJ("optionChange",function(c){return o.onActionSelectModuleId(c)})("optionLoadingChange",function(c){return o.loading=c}),e.qZA(),e.TgZ(56,"app-cms-sitecategory-selector",23),e.NdJ("optionChange",function(c){return o.onActionSelectSiteCategory(c)})("optionLoadingChange",function(c){return o.loading=c}),e.qZA(),e.TgZ(57,"app-cms-usergroup-selector",23),e.NdJ("optionChange",function(c){return o.onActionSelectUserGroup(c)})("optionLoadingChange",function(c){return o.loading=c}),e.qZA(),e.TgZ(58,"app-cms-application-selector",23),e.NdJ("optionChange",function(c){return o.onActionSelectApplication(c)})("optionLoadingChange",function(c){return o.loading=c}),e.qZA(),e.TgZ(59,"app-cms-application-selector",23),e.NdJ("optionChange",function(c){return o.onActionSelectApplicationSource(c)})("optionLoadingChange",function(c){return o.loading=c}),e.qZA(),e.TgZ(60,"mat-form-field",8)(61,"mat-label"),e._uU(62),e.qZA(),e.TgZ(63,"textarea",24,25),e.NdJ("ngModelChange",function(c){return o.dataModel.description=c}),e.qZA(),e.YNc(65,ii,2,0,"mat-icon",16),e.TgZ(66,"mat-icon",17),e._uU(67,"mode_edit"),e.qZA(),e.TgZ(68,"mat-hint",12),e._uU(69),e.qZA(),e.YNc(70,ni,5,4,"mat-error",13),e.qZA()(),e.TgZ(71,"mat-step",7),e.ALo(72,"translate"),e.TgZ(73,"app-core-userclaimtype-selectionlist",26),e.NdJ("optionChange",function(c){return o.onActionSelectorUserCategorySelect(c)})("optionSelectAdded",function(c){return o.onActionSelectorUserCategorySelectAdded(c)})("optionSelectRemoved",function(c){return o.onActionSelectorUserCategorySelectRemoved(c)}),e.qZA()()()(),e.TgZ(74,"div",27)(75,"div",28)(76,"small",29),e._uU(77),e.qZA(),e.TgZ(78,"small",30),e._uU(79),e.qZA()()(),e.TgZ(80,"div",31),e.YNc(81,li,9,7,"div",32),e.qZA()()}if(2&i){const a=e.MAs(12),l=e.MAs(22),c=e.MAs(38),f=e.MAs(47),g=e.MAs(64);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(3),e.s9C("label",e.lcZ(9,63,"TITLE.Details_Claim")),e.xp6(3),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(16,65,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(3),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title),e.xp6(2),e.Q6J("ngIf",o.dataModel.title),e.xp6(4),e.hij("",l.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(3),e.hij(" ",e.lcZ(32,67,"TITLE.TitleML"),""),e.xp6(2),e.Q6J("ngModel",o.dataModel.titleML)("disabled",!0),e.xp6(3),e.Oqu(null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.titleResourceLanguage)("disabled",!(null!=o.fieldsInfo.titleResourceLanguage&&o.fieldsInfo.titleResourceLanguage.accessEditField)),e.xp6(2),e.Q6J("ngIf",o.dataModel.titleResourceLanguage),e.xp6(4),e.hij("",c.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==c.errors?null:c.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(48,69,"TITLE.Status")),e.MGl("panelClass","ActionType-",o.dataModel.actionType,""),e.Q6J("ngModel",o.dataModel.actionType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumUserClaimGroupActionTypeResult.listItems),e.xp6(2),e.Oqu(e.lcZ(52,71,"TITLE.Select_type_of_content")),e.xp6(2),e.Q6J("ngIf",null==f.errors?null:f.errors.required),e.xp6(2),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkModuleId)("optionPlaceholder",o.translate.instant("TITLE.MODULE"))("optionDisabled",!(null!=o.fieldsInfo.linkModuleId&&o.fieldsInfo.linkModuleId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkSiteCategoryId)("optionPlaceholder",o.translate.instant("TITLE.SITE_CATEGORY"))("optionDisabled",!(null!=o.fieldsInfo.linkSiteCategoryId&&o.fieldsInfo.linkSiteCategoryId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserGroupId)("optionPlaceholder",o.translate.instant("TITLE.User_Group"))("optionDisabled",!(null!=o.fieldsInfo.linkUserGroupId&&o.fieldsInfo.linkUserGroupId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkApplicationId)("optionPlaceholder",o.translate.instant("TITLE.Application"))("optionDisabled",!(null!=o.fieldsInfo.linkApplicationId&&o.fieldsInfo.linkApplicationId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkApplicationSourceId)("optionPlaceholder",o.translate.instant("TITLE.Application_Source"))("optionDisabled",!(null!=o.fieldsInfo.linkApplicationSourceId&&o.fieldsInfo.linkApplicationSourceId.accessEditField)),e.xp6(3),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(2),e.Q6J("ngIf",o.dataModel.description),e.xp6(4),e.hij("",g.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.required),e.xp6(1),e.s9C("label",e.lcZ(72,73,"TITLE.Required_Documents")),e.xp6(2),e.Q6J("optionSelectForce",o.dataCoreClaimTypeIds)("optionDisabled",!1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[u.mk,u.sg,u.O5,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.wO,m.nD,m.On,m.F,H.ey,Z.lW,h.KE,h.hX,h.bx,h.TO,h.R9,w.Hw,G.Nt,j.gD,oe.C0,oe.Vq,we,ve.z,Re.w,xe.g,J.O,jo,C.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();function ai(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionAdd())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function si(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionEdit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function ri(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionReload())}),e.TgZ(1,"mat-icon",12),e.ALo(2,"translate"),e._uU(3,"refresh"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.RELOAD")))}const Le=function(n){return{background:n}};function ci(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tree-node",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionSelect(a))}),e._UZ(1,"button",14),e._uU(2),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(2,Le,i.dataModelSelect.id>0&&i.dataModelSelect.id===t.id?"#d3d3da":"")),e.xp6(2),e.hij(" ",t.titleML," ")}}function di(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-nested-tree-node")(1,"li")(2,"div",15),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionSelect(a))}),e.TgZ(3,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionSelect(a))}),e.TgZ(4,"mat-icon",17),e._uU(5),e.qZA()(),e._uU(6),e.qZA(),e.TgZ(7,"ul"),e.GkF(8,18),e.qZA()()()}if(2&n){const t=s.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(6,Le,i.dataModelSelect.id>0&&i.dataModelSelect.id===t.id?"#d3d3da":"")),e.xp6(1),e.uIk("aria-label","Toggle "+t.titleML),e.xp6(2),e.hij(" ",i.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.xp6(1),e.hij(" ",t.titleML," "),e.xp6(1),e.ekj("category-tree-invisible",!i.treeControl.isExpanded(t))}}let mi=(()=>{class n{cmsToastrService;coreEnumService;categoryService;dialog;cdr;tokenHelper;translate;constructor(t,i,o,a,l,c,f){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=o,this.dialog=a,this.cdr=l,this.tokenHelper=c,this.translate=f,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(t){this.onActionSelectForce(t)}dataModelSelect=new r._wo;dataModelResult=new r.y$4;filterModel=new r.Hay;loading=new b.O;get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}treeControl=new _e.VY(t=>null);dataSource=new E.WX;optionChange=new e.vpe;cmsApiStoreSubscribe;optionReload=()=>this.onActionReload();hasChild=(t,i)=>!1;ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;const t=this.constructor.name+"main";this.loading.Start(t),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionReload(){this.onActionSelect(null),this.dataModelSelect=new r._wo,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){this.dialog.open(ke,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id),0!==t)this.dialog.open(Ge,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()});else{const a=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected");this.cmsToastrService.typeErrorSelected(a)}}static \u0275fac=function(i){return new(i||n)(e.Y36(y.e),e.Y36(r.FLW),e.Y36(r.WCx),e.Y36(A.uw),e.Y36(e.sBO),e.Y36(K.v),e.Y36(C.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimgroup-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionLoading:"optionLoading",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:9,vars:6,consts:[[1,"ntk-cms-html-tree-header"],["type","button","class","btn btn-outline-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],[1,"ntk-cms-html-tree-body"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngStyle","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"ntk-cms-html-tree-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-warning",3,"click"],["type","button",1,"btn","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"ngStyle","click"],["mat-icon-button","","disabled",""],[1,"mat-tree-node",3,"ngStyle","click"],["mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.YNc(1,ai,3,3,"button",1),e.YNc(2,si,3,3,"button",2),e.YNc(3,ri,4,3,"button",3),e.qZA(),e.TgZ(4,"div",4)(5,"mat-tree",5),e.YNc(6,ci,3,4,"mat-tree-node",6),e.YNc(7,di,9,8,"mat-nested-tree-node",7),e.qZA()(),e._UZ(8,"div",8)),2&i&&(e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.dataModelSelect?null:o.dataModelSelect.id)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow),e.xp6(2),e.Q6J("dataSource",o.dataSource)("treeControl",o.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",o.hasChild))},dependencies:[u.O5,u.PC,Z.RK,w.Hw,E.GZ,E.fQ,E.ah,E.eu,E.gi,E.uo,E.Ar,C.X$]})}return n})();function pi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonNewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function ui(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function _i(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function fi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",12),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function gi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParentType())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function hi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParentGroup())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Ci(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",39),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Si=function(n){return{display:n}};function Ti(n,s){if(1&n&&e._UZ(0,"select",42),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,Si,t.id===i.tableRowSelected.id?"":"none"))}}function Ai(n,s){if(1&n&&(e.TgZ(0,"mat-cell",40),e.ALo(1,"statusCellClass"),e._UZ(2,"i",40),e.ALo(3,"statusIconClass"),e.YNc(4,Ti,1,5,"select",41),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function Mi(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",39),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserClaimGroupId?null:t.fieldsInfo.linkUserClaimGroupId.fieldTitle," ")}}function bi(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"cmstitle"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.linkUserClaimGroupId,i.dataModelCoreUserClaimGroupResult.listItems)," ")}}function Ii(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",39),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserClaimTypeId?null:t.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function yi(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"cmstitle"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.linkUserClaimTypeId,i.dataModelCoreUserClaimTypeResult.listItems)," ")}}function Ei(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",39),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.isRequired?null:t.fieldsInfo.isRequired.fieldTitle," ")}}function Ui(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",40),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.isRequired))}}function Zi(n,s){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function wi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function vi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Ri(n,s){if(1&n&&(e.TgZ(0,"mat-cell",43)(1,"button",44)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,45),e.YNc(6,wi,6,3,"button",46),e.YNc(7,vi,6,3,"button",46),e.qZA()()),2&n){const t=e.MAs(5),i=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",i.dataModelResult.access.accessDeleteRow)}}function xi(n,s){1&n&&e._UZ(0,"mat-header-row")}const ki=function(n){return{background:n}};function Gi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",48),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(a))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,ki,t.linkUserClaimGroupId===i.tableRowSelected.linkUserClaimGroupId&&t.linkUserClaimTypeId===i.tableRowSelected.linkUserClaimTypeId?"#d3d3da":""))}}const Li=function(){return[5,10,20,100]};let me=(()=>{class n{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;coreUserClaimTypeService;coreUserClaimGroupService;router;tokenHelper;cdr;translate;dialog;requestLinkUserClaimGroupId=0;requestLinkUserClaimTypeId=0;constructor(t,i,o,a,l,c,f,g,v,L,P,I){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.activatedRoute=l,this.coreUserClaimTypeService=c,this.coreUserClaimGroupService=f,this.router=g,this.tokenHelper=v,this.cdr=L,this.translate=P,this.dialog=I,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkUserClaimGroupId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimGroupId")),this.optionsSearch.parentMethods={onSubmit:D=>this.onSubmitOptionsSearch(D)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=r.oYR.Descending,this.requestLinkUserClaimTypeId>0){const D=new r.AO3;D.propertyName="LinkUserClaimTypeId",D.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(D)}if(this.requestLinkUserClaimGroupId>0){const D=new r.AO3;D.propertyName="LinkUserClaimGroupId",D.value=this.requestLinkUserClaimGroupId,this.filteModelContent.filters.push(D)}}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new S.dj;optionsStatist=new T.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.KYZ;tableSource=new p.by;fieldsInfo=new Map;categoryModelSelected=new r._wo;dataModelCoreUserClaimTypeResult=new r.y$4;dataModelCoreUserClaimGroupResult=new r.y$4;tabledisplayedColumns=[];tabledisplayedColumnsSource=["RecordStatus","LinkUserClaimGroupId","LinkUserClaimTypeId","IsRequired","Action"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getUserClaimType(),this.getUserClaimGroup()}getUserClaimType(){const t=new r.Hay;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe(i=>{this.dataModelCoreUserClaimTypeResult=i})}getUserClaimGroup(){const t=new r.Hay;t.rowPerPage=100,this.coreUserClaimGroupService.ServiceGetAll(t).subscribe(i=>{this.dataModelCoreUserClaimGroupResult=i})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.KYZ);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){const o=new r.AO3;o.propertyName="LinkUserClaimHeaderId",o.value=this.categoryModelSelected.id,i.filters.push(o)}this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(Mo,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{linkUserClaimGroupId:this.requestLinkUserClaimGroupId,linkUserClaimTypeId:this.requestLinkUserClaimTypeId}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.linkUserClaimGroupId&&0!==t.linkUserClaimGroupId&&t.linkUserClaimTypeId&&0!==t.linkUserClaimTypeId?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Zo,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{model:this.tableRowSelected}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,o=this.filteModelContent.sortType;this.filteModelContent=new r.Hay,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=o,this.categoryModelSelected=t,this.DataGetAll()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id){const a=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(a)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),o=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,o).then(a=>{if(a){const l=this.constructor.name+"main";this.loading.Start(l),this.contentService.ServiceDeleteEntity(this.tableRowSelected).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(l)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(l)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}});const o=JSON.parse(JSON.stringify(this.filteModelContent)),a=new r.AO3;a.propertyName="RecordStatus",a.value=r.Anr.Available,o.filters.push(a),this.contentService.ServiceGetCount(o).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}})}onActionbuttonExport(){this.dialog.open($.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(B.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParentType(){this.router.navigate(["/core/userclaim/type/"])}onActionBackToParentGroup(){this.router.navigate(["/core/userclaim/group/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(r.Fq5),e.Y36(k.i),e.Y36(y.e),e.Y36(x.s),e.Y36(U.gz),e.Y36(r.kf3),e.Y36(r.WCx),e.Y36(U.F0),e.Y36(K.v),e.Y36(e.sBO),e.Y36(C.sK),e.Y36(A.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimgroupdetail-list"]],decls:53,vars:31,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-primary","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","RecordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimGroupId"],[4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsRequired"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-primary",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e.TgZ(2,"app-core-userclaimgroup-tree",2),e.NdJ("optionChange",function(c){return o.onActionSelectorSelect(c)}),e.qZA(),e.BQk(),e.GkF(3,3),e.ynx(4,4),e.YNc(5,pi,3,3,"button",5),e.YNc(6,ui,3,3,"button",6),e.YNc(7,_i,3,3,"button",7),e.TgZ(8,"a",8)(9,"mat-slide-toggle",9),e.NdJ("ngModelChange",function(c){return o.optionsSearch.data.show=c}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",8)(13,"mat-slide-toggle",10),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",11),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",12),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,fi,4,3,"button",13),e.TgZ(21,"button",11),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",12),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,gi,3,3,"button",14),e.YNc(26,hi,3,3,"button",14),e.BQk(),e.ynx(27,15),e.TgZ(28,"app-cms-search-list",16),e.NdJ("optionsChange",function(c){return o.optionsSearch=c}),e.qZA(),e.TgZ(29,"app-cms-statist-list",16),e.NdJ("optionsChange",function(c){return o.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(30,17),e.TgZ(31,"mat-table",18,19),e.NdJ("matSortChange",function(){e.CHM(a);const c=e.MAs(32);return e.KtG(o.onTableSortData(c))}),e.ynx(33,20),e.YNc(34,Ci,2,1,"mat-header-cell",21),e.YNc(35,Ai,5,7,"mat-cell",22),e.BQk(),e.ynx(36,23),e.YNc(37,Mi,2,1,"mat-header-cell",21),e.YNc(38,bi,3,4,"mat-cell",24),e.BQk(),e.ynx(39,25),e.YNc(40,Ii,2,1,"mat-header-cell",21),e.YNc(41,yi,3,4,"mat-cell",24),e.BQk(),e.ynx(42,26),e.YNc(43,Ei,2,1,"mat-header-cell",21),e.YNc(44,Ui,3,3,"mat-cell",24),e.BQk(),e.ynx(45,27),e.YNc(46,Zi,3,3,"mat-header-cell",28),e.YNc(47,Ri,8,3,"mat-cell",29),e.BQk(),e.YNc(48,xi,1,0,"mat-header-row",30),e.YNc(49,Gi,1,3,"mat-row",31),e.qZA(),e.BQk(),e.ynx(50,32),e.TgZ(51,"mat-paginator",33,34),e.NdJ("page",function(c){return o.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",0===o.requestLinkUserClaimGroupId),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&o.tableRowSelected.linkUserClaimGroupId>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&o.tableRowSelected.linkUserClaimGroupId>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,22,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,24,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,26,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,28,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkUserClaimTypeId>0),e.xp6(1),e.Q6J("ngIf",o.requestLinkUserClaimGroupId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(17),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(30,Li)))},dependencies:[u.mk,u.O5,u.PC,m.JJ,m.On,Z.RK,w.Hw,G.Nt,R.VK,R.OP,R.p6,V.NW,F.Rr,Y.YE,Y.nU,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,W.y,z.q,X.Z,ee.G,mi,C.X$,de.V,ie.G,ne.Y,ce.r],encapsulation:2})}return n})();function Di(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonNewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function Ni(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function qi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Oi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function Ji(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Fi(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Yi(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Qi=function(n){return{display:n}};function Hi(n,s){if(1&n&&e._UZ(0,"select",40),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,Qi,t.id===i.tableRowSelected.id?"":"none"))}}function Ki(n,s){if(1&n&&(e.TgZ(0,"mat-cell",38),e.ALo(1,"statusCellClass"),e._UZ(2,"i",38),e.ALo(3,"statusIconClass"),e.YNc(4,Hi,1,5,"select",39),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function Pi(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," ")}}function ji(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.titleML," ")}}function Bi(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteCategoryId?null:t.fieldsInfo.linkSiteCategoryId.fieldTitle," ")}}function $i(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"cmstitle"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.linkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," ")}}function Vi(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkModuleId?null:t.fieldsInfo.linkModuleId.fieldTitle," ")}}function Wi(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"cmstitle"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function zi(n,s){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Xi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function en(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function tn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",41)(1,"button",42)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,43),e.YNc(6,Xi,6,3,"button",44),e.YNc(7,en,6,3,"button",44),e.TgZ(8,"button",45),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDetailList(a))}),e.TgZ(9,"mat-icon"),e._uU(10,"view_module"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),i=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",i.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,4,"ACTION.Components"))}}function on(n,s){1&n&&e._UZ(0,"mat-header-row")}const nn=function(n){return{background:n}};function ln(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(a))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,nn,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const an=function(){return[5,10,20,100]};let sn=(()=>{class n{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;coreModuleService;coreSiteCategoryService;router;tokenHelper;cdr;translate;dialog;constructor(t,i,o,a,l,c,f,g,v,L,P){this.contentService=t,this.publicHelper=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.coreModuleService=l,this.coreSiteCategoryService=c,this.router=f,this.tokenHelper=g,this.cdr=v,this.translate=L,this.dialog=P,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.optionsSearch.parentMethods={onSubmit:I=>this.onSubmitOptionsSearch(I)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;dataModelCoreModuleResult=new r.y$4;dataModelCoreSiteCategoryResult=new r.y$4;optionsSearch=new S.dj;optionsStatist=new T.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r._wo;tableSource=new p.by;fieldsInfo=new Map;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","RecordStatus","Title","LinkModuleId","LinkSiteCategoryId","Action"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getModule(),this.getSiteCategory()}getModule(){const t=new r.Hay;t.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(t).subscribe(i=>{this.dataModelCoreModuleResult=i})}getSiteCategory(){const t=new r.Hay;t.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(t).subscribe(i=>{this.dataModelCoreSiteCategoryResult=i})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r._wo);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(ke,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Ge,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id){const a=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(a)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),o=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.title+" ) ";this.cmsConfirmationDialogService.confirm(i,o).then(a=>{if(a){const l=this.constructor.name+"main";this.loading.Start(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(l)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(l)}})}}).catch(()=>{})}onActionbuttonDetailList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimGroupId",this.tableRowSelected.id]);else{const i=this.translate.instant("MESSAGE.no_row_selected_to_display");this.cmsToastrService.typeErrorSelected(i)}}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}});const o=JSON.parse(JSON.stringify(this.filteModelContent)),a=new r.AO3;a.propertyName="RecordStatus",a.value=r.Anr.Available,o.filters.push(a),this.contentService.ServiceGetCount(o).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}})}onActionbuttonSiteList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow?this.router.navigate(["/core/site/list/LinkUserClaimGroupId",this.tableRowSelected.id]):this.cmsToastrService.typeErrorSelected();else{const i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i)}}onActionbuttonExport(){this.dialog.open($.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(B.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:this.tableRowSelected.title}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}static \u0275fac=function(i){return new(i||n)(e.Y36(r.WCx),e.Y36(k.i),e.Y36(y.e),e.Y36(x.s),e.Y36(r.EAm),e.Y36(r.PwI),e.Y36(U.F0),e.Y36(K.v),e.Y36(e.sBO),e.Y36(C.sK),e.Y36(A.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimgroup-list"]],decls:54,vars:29,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-primary","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkSiteCategoryId"],["matColumnDef","LinkModuleId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-primary",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,Di,3,3,"button",4),e.YNc(6,Ni,3,3,"button",5),e.YNc(7,qi,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(c){return o.optionsSearch.data.show=c}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,Oi,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.BQk(),e.ynx(25,13),e.TgZ(26,"app-cms-search-list",14),e.NdJ("optionsChange",function(c){return o.optionsSearch=c}),e.qZA(),e.TgZ(27,"app-cms-statist-list",14),e.NdJ("optionsChange",function(c){return o.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(28,15),e.TgZ(29,"mat-table",16,17),e.NdJ("matSortChange",function(){e.CHM(a);const c=e.MAs(30);return e.KtG(o.onTableSortData(c))}),e.ynx(31,18),e.YNc(32,Ji,2,1,"mat-header-cell",19),e.YNc(33,Fi,2,1,"mat-cell",20),e.BQk(),e.ynx(34,21),e.YNc(35,Yi,2,1,"mat-header-cell",19),e.YNc(36,Ki,5,7,"mat-cell",22),e.BQk(),e.ynx(37,23),e.YNc(38,Pi,2,1,"mat-header-cell",19),e.YNc(39,ji,2,1,"mat-cell",20),e.BQk(),e.ynx(40,24),e.YNc(41,Bi,2,1,"mat-header-cell",19),e.YNc(42,$i,3,4,"mat-cell",20),e.BQk(),e.ynx(43,25),e.YNc(44,Vi,2,1,"mat-header-cell",19),e.YNc(45,Wi,3,4,"mat-cell",20),e.BQk(),e.ynx(46,26),e.YNc(47,zi,3,3,"mat-header-cell",27),e.YNc(48,tn,14,6,"mat-cell",28),e.BQk(),e.YNc(49,on,1,0,"mat-header-row",29),e.YNc(50,ln,1,3,"mat-row",30),e.qZA(),e.BQk(),e.ynx(51,31),e.TgZ(52,"mat-paginator",32,33),e.NdJ("page",function(c){return o.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&o.tableRowSelected.id>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&o.tableRowSelected.id>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,20,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,22,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,24,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,26,"ACTION.RELOAD")),e.xp6(4),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(20),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(28,an)))},dependencies:[u.mk,u.O5,u.PC,m.JJ,m.On,Z.RK,w.Hw,G.Nt,R.VK,R.OP,R.p6,V.NW,F.Rr,Y.YE,Y.nU,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,W.y,z.q,X.Z,ee.G,C.X$,de.V,ie.G,ne.Y],encapsulation:2})}return n})();var rn=d(99654);function cn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonNewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function dn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function mn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function pn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function un(n,s){1&n&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.PICTURE")," "))}function _n(n,s){if(1&n&&(e._UZ(0,"img",39),e.ALo(1,"cmsthumbnail")),2&n){const t=e.oxw().$implicit;e.s9C("src",e.lcZ(1,1,t.linkMainImageIdSrc),e.LSH)}}function fn(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,_n,2,3,"img",38),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",(null==t||null==t.linkMainImageIdSrc?null:t.linkMainImageIdSrc.length)>0)}}function gn(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function hn(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Cn(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Sn=function(n){return{display:n}};function Tn(n,s){if(1&n&&e._UZ(0,"select",42),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,Sn,t.id===i.tableRowSelected.id?"":"none"))}}function An(n,s){if(1&n&&(e.TgZ(0,"mat-cell",40),e.ALo(1,"statusCellClass"),e._UZ(2,"i",40),e.ALo(3,"statusIconClass"),e.YNc(4,Tn,1,5,"select",41),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function Mn(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," ")}}function bn(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.titleML," ")}}function In(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.kind?null:t.fieldsInfo.kind.fieldTitle," ")}}function yn(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.kind,i.dataModelEnumUserClaimKindsResult.listItems)," ")}}function En(n,s){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Un(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Zn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function wn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",43)(1,"button",44)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,45),e.YNc(6,Un,6,3,"button",46),e.YNc(7,Zn,6,3,"button",46),e.TgZ(8,"button",47),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDetailList(a))}),e.TgZ(9,"mat-icon"),e._uU(10,"view_module"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),i=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",i.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,4,"ACTION.USED_ITEMS"))}}function vn(n,s){1&n&&e._UZ(0,"mat-header-row")}const Rn=function(n){return{background:n}};function xn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",48),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(a))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,Rn,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const kn=function(){return[5,10,20,100]},Gn=[{path:"",children:[{path:"group",component:sn},{path:"groupdetail",component:me},{path:"groupdetail/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:me},{path:"groupdetail/LinkUserClaimGroupId/:LinkUserClaimGroupId",component:me},{path:"type",component:(()=>{class n{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;coreEnumService;router;tokenHelper;cdr;translate;dialog;constructor(t,i,o,a,l,c,f,g,v,L){this.contentService=t,this.publicHelper=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.coreEnumService=l,this.router=c,this.tokenHelper=f,this.cdr=g,this.translate=v,this.dialog=L,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.optionsSearch.parentMethods={onSubmit:P=>this.onSubmitOptionsSearch(P)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;dataModelCoreUserGroupResult=new r.y$4;dataModelCoreSiteCategoryResult=new r.y$4;optionsSearch=new S.dj;optionsStatist=new T.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.OoK;tableSource=new p.by;fieldsInfo=new Map;dataModelEnumUserClaimKindsResult=new r.y$4;tabledisplayedColumns=[];tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","Title","Kind","Action"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe(t=>{this.dataModelEnumUserClaimKindsResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.OoK);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(ge,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Ce,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id){const a=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(a)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),o=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.title+" ) ";this.cmsConfirmationDialogService.confirm(i,o).then(a=>{if(a){const l=this.constructor.name+"main";this.loading.Start(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(l)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(l)}})}}).catch(()=>{})}onActionbuttonDetailList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimTypeId",this.tableRowSelected.id]);else{const i=this.translate.instant("MESSAGE.no_row_selected_to_display");this.cmsToastrService.typeErrorSelected(i)}}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}});const o=JSON.parse(JSON.stringify(this.filteModelContent)),a=new r.AO3;a.propertyName="RecordStatus",a.value=r.Anr.Available,o.filters.push(a),this.contentService.ServiceGetCount(o).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}})}onActionbuttonModuleList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow?this.router.navigate(["/core/sitecategorymodule/LinkCmsUserClaimTypeId",this.tableRowSelected.id]):this.cmsToastrService.typeErrorSelected();else{const i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i)}}onActionbuttonSiteList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow?this.router.navigate(["/core/site/list/LinkUserClaimTypeId",this.tableRowSelected.id]):this.cmsToastrService.typeErrorSelected();else{const i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i)}}onActionbuttonExport(){this.dialog.open($.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(B.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:this.tableRowSelected.title}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}static \u0275fac=function(i){return new(i||n)(e.Y36(r.kf3),e.Y36(k.i),e.Y36(y.e),e.Y36(x.s),e.Y36(r.FLW),e.Y36(U.F0),e.Y36(K.v),e.Y36(e.sBO),e.Y36(C.sK),e.Y36(A.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-userclaimtype-list"]],decls:54,vars:29,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-primary","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Kind"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-primary",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,cn,3,3,"button",4),e.YNc(6,dn,3,3,"button",5),e.YNc(7,mn,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(c){return o.optionsSearch.data.show=c}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,pn,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.BQk(),e.ynx(25,13),e.TgZ(26,"app-cms-search-list",14),e.NdJ("optionsChange",function(c){return o.optionsSearch=c}),e.qZA(),e.TgZ(27,"app-cms-statist-list",14),e.NdJ("optionsChange",function(c){return o.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(28,15),e.TgZ(29,"mat-table",16,17),e.NdJ("matSortChange",function(){e.CHM(a);const c=e.MAs(30);return e.KtG(o.onTableSortData(c))}),e.ynx(31,18),e.YNc(32,un,3,3,"mat-header-cell",19),e.YNc(33,fn,2,1,"mat-cell",20),e.BQk(),e.ynx(34,21),e.YNc(35,gn,2,1,"mat-header-cell",19),e.YNc(36,hn,2,1,"mat-cell",20),e.BQk(),e.ynx(37,22),e.YNc(38,Cn,2,1,"mat-header-cell",19),e.YNc(39,An,5,7,"mat-cell",23),e.BQk(),e.ynx(40,24),e.YNc(41,Mn,2,1,"mat-header-cell",19),e.YNc(42,bn,2,1,"mat-cell",20),e.BQk(),e.ynx(43,25),e.YNc(44,In,2,1,"mat-header-cell",19),e.YNc(45,yn,3,4,"mat-cell",20),e.BQk(),e.ynx(46,26),e.YNc(47,En,3,3,"mat-header-cell",27),e.YNc(48,wn,14,6,"mat-cell",28),e.BQk(),e.YNc(49,vn,1,0,"mat-header-row",29),e.YNc(50,xn,1,3,"mat-row",30),e.qZA(),e.BQk(),e.ynx(51,31),e.TgZ(52,"mat-paginator",32,33),e.NdJ("page",function(c){return o.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&o.tableRowSelected.id>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&o.tableRowSelected.id>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,20,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,22,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,24,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,26,"ACTION.RELOAD")),e.xp6(4),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(20),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(28,kn)))},dependencies:[u.mk,u.O5,u.PC,m.JJ,m.On,Z.RK,w.Hw,G.Nt,R.VK,R.OP,R.p6,V.NW,F.Rr,Y.YE,Y.nU,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,W.y,z.q,X.Z,ee.G,C.X$,rn.B,te.v,ie.G,ne.Y],encapsulation:2})}return n})()},{path:"content",component:le},{path:"content/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:le},{path:"content/LinkSiteId/:LinkSiteId",component:le},{path:"content/LinkUserId/:LinkUserId",component:le},{path:"checklist",component:ue},{path:"checklist/:LinkSiteId/:LinkUserId",component:ue}]}];let Ln=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[U.Bz.forChild(Gn),U.Bz]})}return n})(),Dn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({providers:[r.EAm,r.FLW,r.qlG,r.kf3,r.WCx,r.Fq5,x.s],imports:[u.ez,m.u5,Ln,m.UX.withConfig({warnOnNgModelWithFormControl:"never"}),M.m.forRoot(),q.UM]})}return n})()},39084:(se,N,d)=>{d.d(N,{Y:()=>x});var u=d(87241),m=d(27969),r=d(64537),q=d(34511);let x=(()=>{class M{service;constructor(p){this.service=p}transform(p){return!p||p<=0?new u.y:this.service.ServiceGetOneById(p,1e6).pipe((0,m.U)(S=>{var T="";return S.isSuccess&&(S.item.title&&S.item.title.length>0&&(T=S.item.title),S.item.id&&S.item.id>0&&(T.length>0&&(T+=" | "),T+=S.item.id),S.item.domain&&S.item.domain.length>0&&S.item.subDomain&&S.item.subDomain.length>0?(T.length>0&&(T+=" | "),T=T+S.item.subDomain+"."+S.item.domain):S.item.domain&&S.item.domain.length>0&&(T.length>0&&(T+=" | "),T+=S.item.domain)),0===T.length&&(T=p.toString()),T},S=>p.toString()))}static \u0275fac=function(S){return new(S||M)(r.Y36(q._0e,16))};static \u0275pipe=r.Yjl({name:"cmssiteinfo",type:M,pure:!0})}return M})()},99654:(se,N,d)=>{d.d(N,{B:()=>m});var u=d(64537);let m=(()=>{class r{transform(x,M){if(!M||0===M.length)return"";const U=M.find(p=>p.key===x||p.value===x);return U?U.description:""}static \u0275fac=function(M){return new(M||r)};static \u0275pipe=u.Yjl({name:"enums",type:r,pure:!0})}return r})()},25897:(se,N,d)=>{d.d(N,{Y:()=>r});var u=d(64537),m=d(5998);let r=(()=>{class q{sanitizer;constructor(M){this.sanitizer=M}transform(M){return"cms-RecordStatusEnum-cell-"+M}static \u0275fac=function(U){return new(U||q)(u.Y36(m.H7,16))};static \u0275pipe=u.Yjl({name:"statusCellClass",type:q,pure:!0})}return q})()}}]);