"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[1808,4891],{41808:(ae,q,d)=>{d.r(q),d.d(q,{CoreUserClaimModule:()=>xn});var l=d(86889),h=d(88692),p=d(20092),c=d(34511),x=d(4721),U=d(83914),M=d(6087),E=d(26114),u=d(80418),T=d(8918),C=d(97147),Z=d(60656),re=d(30643),me=d(3193),e=d(64537),G=d(13987),y=d(32607),H=d(50727),g=d(56707),A=d(54536),P=d(9638),D=d(11997),w=d(83331),O=d(75738),ce=d(91101);function Ne(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function qe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function De(i,r){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.approvedExpireDate," ")}}function Oe(i,r){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.typeDescription," ")}}function Je(i,r){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.approvedResult," ")}}function Fe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onActionbuttonEditRow(n))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.SEND_DOCUMENTS")))}function Ye(i,r){if(1&i&&(e.TgZ(0,"div",11)(1,"mat-card",12)(2,"mat-card-header"),e._UZ(3,"div",13),e.TgZ(4,"mat-card-title"),e._UZ(5,"i",1),e.ALo(6,"boolclass"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"mat-card-subtitle"),e._uU(10),e.qZA()(),e._UZ(11,"img",14),e.TgZ(12,"mat-card-content"),e.YNc(13,De,2,1,"p",15),e.YNc(14,Oe,2,1,"p",15),e.YNc(15,Je,2,1,"p",15),e.qZA(),e.TgZ(16,"mat-card-actions"),e.YNc(17,Fe,3,3,"button",16),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(3),e.Jzz("background-image: url('",t.typeLinkMainImageIdSrc,"'); background-size: cover;"),e.xp6(2),e.Q6J("ngClass",e.lcZ(6,12,t.isApproved)),e.xp6(2),e.hij(" ",e.lcZ(8,14,"ACTION.STATUS"),""),e.xp6(3),e.Oqu(t.typeTitle),e.xp6(1),e.s9C("src",t.linkFileContentIdSrc,e.LSH),e.s9C("alt",t.typeTitle),e.xp6(2),e.Q6J("ngIf",t.isApproved&&t.approvedExpireDate),e.xp6(1),e.Q6J("ngIf",!t.isApproved),e.xp6(1),e.Q6J("ngIf",t.approvedResult&&t.approvedResult.length>0),e.xp6(2),e.Q6J("ngIf",!t.isApproved)}}let ue=(()=>{class i{constructor(t,o,n,s,a,m,_,S,v,L){(0,l.Z)(this,"coreUserClaimContentService",void 0),(0,l.Z)(this,"publicHelper",void 0),(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"coreUserClaimTypeService",void 0),(0,l.Z)(this,"router",void 0),(0,l.Z)(this,"activatedRoute",void 0),(0,l.Z)(this,"tokenHelper",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"dialog",void 0),(0,l.Z)(this,"requestLinkUserId",0),(0,l.Z)(this,"requestLinkSiteId",0),(0,l.Z)(this,"comment",void 0),(0,l.Z)(this,"author",void 0),(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"flag",!1),(0,l.Z)(this,"tableContentSelected",[]),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"optionsSearch",new T.dj),(0,l.Z)(this,"optionsStatist",new C.TV),(0,l.Z)(this,"tokenInfo",new c.OdC),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"tableRowSelected",new c.hYp),(0,l.Z)(this,"tableSource",new u.by),(0,l.Z)(this,"fieldsInfo",new Map),(0,l.Z)(this,"categoryModelSelected",new c.OoK),(0,l.Z)(this,"dataModelCoreUserClaimTypeResult",new c.y$4),(0,l.Z)(this,"tabledisplayedColumns",["TypeTitle","IsApproved","ApprovedResult","ApproveCheckDate","ApprovedExpireDate","Action"]),(0,l.Z)(this,"expandedElement",void 0),(0,l.Z)(this,"cmsApiStoreSubscribe",void 0),this.coreUserClaimContentService=t,this.publicHelper=o,this.cmsToastrService=n,this.coreUserClaimTypeService=s,this.router=a,this.activatedRoute=m,this.tokenHelper=_,this.cdr=S,this.translate=v,this.dialog=L,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId"))}ngOnInit(){this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getUserClaimType()}getUserClaimType(){const t=new c.Hay;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe(o=>{this.dataModelCoreUserClaimTypeResult=o})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.onActionTableRowSelect(new c.hYp);const t=this.constructor.name+"main";if(this.loading.Start(t),this.requestLinkUserId>0&&this.requestLinkSiteId>0){const o=new c.L5n;o.userId=this.requestLinkUserId,o.siteId=this.requestLinkSiteId,this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheck(o).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}else this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheckCurrent().subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionbuttonNewRow(){this.dialog.open(re.K,{height:"90%",data:{}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()})}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.linkTypeId&&0!==t.linkTypeId?(this.onActionTableRowSelect(t),t.linkContentId&&t.linkContentId>0?this.dialog.open(me.D,{height:"90%",data:{id:this.tableRowSelected.linkContentId}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()}):this.dialog.open(re.K,{height:"90%",data:{linkUserClaimTypeId:this.tableRowSelected.linkTypeId}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t}onActionBackToParent(){this.router.navigate(["/core/user/"])}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(c.qlG),e.Y36(G.i),e.Y36(y.e),e.Y36(c.kf3),e.Y36(E.F0),e.Y36(E.gz),e.Y36(H.v),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(A.uw))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimcontent-checklist"]],decls:13,vars:8,consts:[[1,"row"],[3,"ngClass"],[1,"ntk-cms-html-list-header"],["type","button","class","btn btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn btn-outline-success BTN-text",3,"click",4,"ngIf"],[3,"options"],["class","col-4",4,"ngFor","ngForOf"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","btn-outline-warning",3,"click"],["type","button",1,"btn","btn-outline-success","BTN-text",3,"click"],[1,"col-4"],[1,"example-card"],["mat-card-avatar",""],["mat-card-image","",3,"src","alt"],[4,"ngIf"],["mat-button","","type","button","class","btn btn-secondary width",3,"click",4,"ngIf"],["mat-button","","type","button",1,"btn","btn-secondary","width",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,Ne,3,3,"button",3),e.TgZ(4,"button",4),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(5,"mat-icon",5),e.ALo(6,"translate"),e._uU(7,"refresh"),e.qZA()(),e.YNc(8,qe,3,3,"button",6),e.qZA(),e.TgZ(9,"div"),e._UZ(10,"app-progress-spinner",7),e.TgZ(11,"div",0),e.YNc(12,Ye,18,16,"div",8),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("ngClass","col-xl-12"),e.xp6(2),e.Q6J("ngIf",o.tableRowSelected.linkTypeId>0),e.xp6(2),e.s9C("title",e.lcZ(6,6,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkUserId>0),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.Q6J("ngForOf",o.dataModelResult.listItems))},dependencies:[h.mk,h.sg,h.O5,P.lW,D.a8,D.hq,D.kc,D.dn,D.dk,D.G2,D.$j,D.n5,w.Hw,O.O,g.X$,ce.r],styles:[".width[_ngcontent-%COMP%]{width:100%}"]})),i})();var B=d(76997),$=d(57154),k=d(39665),R=d(83319),W=d(53538),J=d(64639),F=d(56558),V=d(43014),z=d(10626),Qe=d(35952),X=d(37980),ee=d(13673),he=d(55211),I=d(18849),Y=d(8239),Q=d(1379),f=d(88659),j=d(18033),_e=d(99482),te=d(81418);const He=["vform"];function Pe(i,r){if(1&i&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Ke(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function je(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.dataModel.title="")}),e._uU(1,"close"),e.qZA()}}function Be(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function $e(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.dataModel.titleResourceLanguage="")}),e._uU(1,"close"),e.qZA()}}function We(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Ve(i,r){if(1&i&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function ze(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Kind is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Xe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",39),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.dismissOnEdit=n)}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.dataModel.dismissOnEdit)("disabled",!(null!=t.fieldsInfo.dismissOnEdit&&t.fieldsInfo.dismissOnEdit.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.dismissOnEdit?null:t.fieldsInfo.dismissOnEdit.fieldTitle," ")}}function et(i,r){if(1&i&&(e._UZ(0,"img",40),e.ALo(1,"cmsthumbnail")),2&i){const t=e.oxw();e.s9C("src",e.lcZ(1,1,t.dataModel.linkMainImageIdSrc),e.LSH)}}function tt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.dataModel.linkMainImageId=null)}),e._uU(1,"close"),e.qZA()}}function ot(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.dataModel.description="")}),e._uU(1,"close"),e.qZA()}}function it(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function nt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",32)(1,"button",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormSubmit())}),e._UZ(6,"i",44),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let fe=(()=>{class i{constructor(t,o,n,s,a,m,_,S){(0,l.Z)(this,"data",void 0),(0,l.Z)(this,"dialogRef",void 0),(0,l.Z)(this,"coreEnumService",void 0),(0,l.Z)(this,"coreUserClaimTypeService",void 0),(0,l.Z)(this,"publicHelper",void 0),(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"formGroup",void 0),(0,l.Z)(this,"fieldsInfo",new Map),(0,l.Z)(this,"selectFileTypeMainImage",["jpg","jpeg","png"]),(0,l.Z)(this,"fileManagerTree",void 0),(0,l.Z)(this,"appLanguage","fa"),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"dataModel",new c.OoK),(0,l.Z)(this,"formInfo",new c.LEF),(0,l.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,l.Z)(this,"dataModelEnumUserClaimKindsResult",new c.y$4),(0,l.Z)(this,"fileManagerOpenForm",!1),this.data=t,this.dialogRef=o,this.coreEnumService=n,this.coreUserClaimTypeService=s,this.publicHelper=a,this.cmsToastrService=m,this.cdr=_,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.ADD"),this.getEnumRecordStatus(),this.DataGetAccess(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceEnumUserClaimKinds().subscribe(t=>{this.dataModelEnumUserClaimKindsResult=t})}DataGetAccess(){const t=this.constructor.name+"DataGetAccess";this.loading.Start(t),this.coreUserClaimTypeService.ServiceViewModel().subscribe({next:o=>{o.isSuccess?this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access):this.cmsToastrService.typeErrorGetAccess(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeErrorGetAccess(o),this.loading.Stop(t)}})}getEnumRecordStatus(){var t=this;return(0,Y.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataAddContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreUserClaimTypeService.ServiceAdd(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.kf3),e.Y36(G.i),e.Y36(y.e),e.Y36(e.sBO),e.Y36(g.sK))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimtype-add"]],viewQuery:function(t,o){if(1&t&&e.Gf(He,5),2&t){let n;e.iGM(n=e.CRH())&&(o.formGroup=n.first)}},decls:82,vars:63,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","ngModelChange"],["Title",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","disabled","ngModelChange"],["TitleResourceLanguage",""],["name","dataModel.kind","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["Kind","ngModel"],["name","dataModel.dismissOnEdit",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],[3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off",3,"ngModel","placeholder","ngModelChange","click"],["LinkMainImageId",""],["matSuffix","",3,"click"],[3,"language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView","itemSelected","openFormChange"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5",3,"ngModel","placeholder","ngModelChange"],["Description",""],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["name","dataModel.dismissOnEdit",3,"ngModel","disabled","ngModelChange"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(s){return o.dataModel.recordStatus=s}),e.YNc(9,Pe,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Ke,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"mat-form-field",5)(15,"mat-label"),e._uU(16),e.qZA(),e.TgZ(17,"input",11,12),e.NdJ("ngModelChange",function(s){return o.dataModel.title=s}),e.qZA(),e.YNc(19,je,2,0,"mat-icon",13),e.TgZ(20,"mat-icon",14),e._uU(21,"mode_edit"),e.qZA(),e.TgZ(22,"mat-hint",9),e._uU(23),e.qZA(),e.YNc(24,Be,5,4,"mat-error",10),e.qZA(),e.TgZ(25,"mat-form-field",5)(26,"mat-label"),e._uU(27),e.qZA(),e.TgZ(28,"input",15,16),e.NdJ("ngModelChange",function(s){return o.dataModel.titleResourceLanguage=s}),e.qZA(),e.YNc(30,$e,2,0,"mat-icon",13),e.TgZ(31,"mat-icon",14),e._uU(32,"mode_edit"),e.qZA(),e.TgZ(33,"mat-hint",9),e._uU(34),e.qZA(),e.YNc(35,We,5,4,"mat-error",10),e.qZA(),e.TgZ(36,"mat-form-field",5)(37,"mat-select",17,18),e.NdJ("ngModelChange",function(s){return o.dataModel.kind=s}),e.ALo(39,"translate"),e.YNc(40,Ve,2,2,"mat-option",8),e.qZA(),e.TgZ(41,"mat-hint",9),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.YNc(44,ze,5,3,"mat-error",10),e.qZA(),e.TgZ(45,"div",5),e.YNc(46,Xe,2,3,"mat-slide-toggle",19),e.qZA(),e.TgZ(47,"div",20)(48,"a",21),e.ALo(49,"cmsthumbnail"),e.YNc(50,et,2,3,"img",22),e.qZA()(),e.TgZ(51,"div",23)(52,"mat-form-field",5)(53,"mat-label",24),e.NdJ("click",function(){return o.fileManagerOpenForm=!0}),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"input",25,26),e.NdJ("ngModelChange",function(s){return o.dataModel.linkMainImageId=s})("click",function(){return o.fileManagerOpenForm=!0}),e.ALo(58,"translate"),e.qZA(),e.YNc(59,tt,2,0,"mat-icon",13),e.TgZ(60,"mat-icon",27),e.NdJ("click",function(){return o.fileManagerOpenForm=!0}),e._uU(61,"mode_edit"),e.qZA()(),e.TgZ(62,"cms-file-manager",28),e.NdJ("itemSelected",function(s){return o.onActionFileSelected(s)})("openFormChange",function(s){return o.fileManagerOpenForm=s}),e.qZA()(),e.TgZ(63,"mat-form-field",5)(64,"mat-label"),e._uU(65),e.qZA(),e.TgZ(66,"textarea",29,30),e.NdJ("ngModelChange",function(s){return o.dataModel.description=s}),e.qZA(),e.YNc(68,ot,2,0,"mat-icon",13),e.TgZ(69,"mat-icon",14),e._uU(70,"mode_edit"),e.qZA(),e.TgZ(71,"mat-hint",9),e._uU(72),e.qZA(),e.YNc(73,it,5,4,"mat-error",10),e.qZA()(),e.TgZ(74,"div",31)(75,"div",32)(76,"small",33),e._uU(77),e.qZA(),e.TgZ(78,"small",34),e._uU(79),e.qZA()()(),e.TgZ(80,"div",35),e.YNc(81,nt,9,7,"div",36),e.qZA()()),2&t){const n=e.MAs(8),s=e.MAs(18),a=e.MAs(29),m=e.MAs(38),_=e.MAs(67);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-EnumRecordStatus-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,51,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(3),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title),e.xp6(2),e.Q6J("ngIf",o.dataModel.title),e.xp6(4),e.hij("",s.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==s.errors?null:s.errors.required),e.xp6(3),e.Oqu(null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.titleResourceLanguage)("disabled",!(null!=o.fieldsInfo.titleResourceLanguage&&o.fieldsInfo.titleResourceLanguage.accessAddField)),e.xp6(2),e.Q6J("ngIf",o.dataModel.titleResourceLanguage),e.xp6(4),e.hij("",a.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(39,53,"TITLE.Status")),e.MGl("panelClass","Kind-",o.dataModel.kind,""),e.Q6J("ngModel",o.dataModel.kind),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumUserClaimKindsResult.listItems),e.xp6(2),e.Oqu(e.lcZ(43,55,"TITLE.Select_type_of_content")),e.xp6(2),e.Q6J("ngIf",null==m.errors?null:m.errors.required),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.dismissOnEdit?null:o.fieldsInfo.dismissOnEdit.accessWatchField),e.xp6(2),e.s9C("href",e.lcZ(49,57,o.dataModel.linkMainImageIdSrc),e.LSH),e.xp6(2),e.Q6J("ngIf",(null==o.dataModel||null==o.dataModel.linkMainImageIdSrc?null:o.dataModel.linkMainImageIdSrc.length)>0),e.xp6(4),e.hij("",e.lcZ(55,59,"TITLE.Sample_File")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(58,61,"TITLE.Original_File_ID")),e.Q6J("ngModel",o.dataModel.linkMainImageId),e.xp6(3),e.Q6J("ngIf",o.dataModel.linkMainImageId),e.xp6(3),e.Q6J("language",o.appLanguage)("isPopup",!0)("openForm",o.fileManagerOpenForm)("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1),e.xp6(3),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(2),e.Q6J("ngIf",o.dataModel.description),e.xp6(4),e.hij("",_.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==_.errors?null:_.errors.required),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[h.mk,h.sg,h.O5,p._Y,p.Fj,p.JJ,p.JL,p.Q7,p.wO,p.nD,p.On,p.F,Q.ey,f.KE,f.hX,f.bx,f.TO,f.R9,w.Hw,k.Nt,j.gD,J.Rr,_e.HG,O.O,g.X$,te.v],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),i})();var oe=d(80707),ge=d(71561);function lt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"li")(1,"mat-checkbox",1),e.NdJ("change",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionSelect(s))}),e._uU(2),e.qZA()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.fieldsStatus.get(t.id))("disabled",o.optionDisabled),e.xp6(1),e.hij(" ",t.titleML," ")}}let st=(()=>{class i{constructor(t,o,n,s,a){(0,l.Z)(this,"coreEnumService",void 0),(0,l.Z)(this,"categoryService",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"dataModelSelect",[]),(0,l.Z)(this,"dataIdsSelect",[]),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"formControl",new p.NI),(0,l.Z)(this,"fieldsStatus",new Map),(0,l.Z)(this,"optionDisabled",!1),(0,l.Z)(this,"optionSelectFirstItem",!1),(0,l.Z)(this,"optionPlaceholder",""),(0,l.Z)(this,"optionChange",new e.vpe),(0,l.Z)(this,"optionSelectAdded",new e.vpe),(0,l.Z)(this,"optionSelectRemoved",new e.vpe),(0,l.Z)(this,"optionReload",()=>this.onActionReload()),this.coreEnumService=t,this.categoryService=o,this.cdr=n,this.translate=s,this.cmsToastrService=a,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll()}DataGetAll(){const t=new c.Hay;t.rowPerPage=50,t.accessLoad=!0;const o=this.constructor.name+"main";this.loading.Start(o),this.categoryService.ServiceGetAll(t).subscribe({next:n=>{n.isSuccess?(this.dataModelResult=n,this.dataModelResult.listItems.forEach(s=>this.fieldsStatus.set(s.id,!1)),this.dataIdsSelect.forEach(s=>this.fieldsStatus.set(s,!0)),this.dataModelResult.listItems.forEach(s=>{this.fieldsStatus.get(s.id)&&this.dataModelSelect.push(s)})):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(o)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(o)}})}onActionSelect(t){this.fieldsStatus.get(t.id)?(this.fieldsStatus.set(t.id,!1),this.optionSelectRemoved.emit(t),this.dataModelSelect.splice(this.dataModelSelect.indexOf(t),1)):(this.fieldsStatus.set(t.id,!0),this.optionSelectAdded.emit(t),this.dataModelSelect.push(t)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(t){typeof t==typeof Array(Number)?t.forEach(o=>{this.dataIdsSelect.push(o)}):typeof t==typeof Array(c._wo)&&t.forEach(o=>{this.dataIdsSelect.push(o.id)}),this.dataIdsSelect.forEach(o=>this.fieldsStatus.set(o,!0))}onActionReload(){this.DataGetAll()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(c.FLW),e.Y36(c.WCx),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(y.e))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimgroup-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"checked","disabled","change"]],template:function(t,o){1&t&&(e.TgZ(0,"ul"),e.YNc(1,lt,3,3,"li",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.dataModelResult.listItems))},dependencies:[h.sg,ge.oG]})),i})();const at=["vform"];function rt(i,r){if(1&i&&(e.TgZ(0,"mat-option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function ct(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function dt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.dataModel.title="")}),e._uU(1,"close"),e.qZA()}}function pt(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function mt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.dataModel.titleResourceLanguage="")}),e._uU(1,"close"),e.qZA()}}function ut(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function ht(i,r){if(1&i&&(e.TgZ(0,"mat-option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function _t(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Kind is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function ft(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",44),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.dismissOnEdit=n)}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.dataModel.dismissOnEdit)("disabled",!(null!=t.fieldsInfo.dismissOnEdit&&t.fieldsInfo.dismissOnEdit.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.dismissOnEdit?null:t.fieldsInfo.dismissOnEdit.fieldTitle," ")}}function gt(i,r){if(1&i&&(e._UZ(0,"img",45),e.ALo(1,"cmsthumbnail")),2&i){const t=e.oxw();e.s9C("src",e.lcZ(1,1,t.dataModel.linkMainImageIdSrc),e.LSH)}}function Ct(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.dataModel.linkMainImageId=null)}),e._uU(1,"close"),e.qZA()}}function St(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.dataModel.description="")}),e._uU(1,"close"),e.qZA()}}function Tt(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function At(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",37)(1,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",47),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormSubmit())}),e._UZ(6,"i",49),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Ce=(()=>{class i{constructor(t,o,n,s,a,m,_,S,v){(0,l.Z)(this,"data",void 0),(0,l.Z)(this,"dialogRef",void 0),(0,l.Z)(this,"coreEnumService",void 0),(0,l.Z)(this,"coreUserClaimTypeService",void 0),(0,l.Z)(this,"coreUserClaimGroupDetailService",void 0),(0,l.Z)(this,"publicHelper",void 0),(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"requestId",0),(0,l.Z)(this,"formGroup",void 0),(0,l.Z)(this,"fieldsInfo",new Map),(0,l.Z)(this,"selectFileTypeMainImage",["jpg","jpeg","png"]),(0,l.Z)(this,"fileManagerTree",void 0),(0,l.Z)(this,"appLanguage","fa"),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"dataModel",new c.OoK),(0,l.Z)(this,"formInfo",new c.LEF),(0,l.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,l.Z)(this,"dataModelEnumUserClaimKindsResult",new c.y$4),(0,l.Z)(this,"fileManagerOpenForm",!1),(0,l.Z)(this,"dataCoreUserClaimTypeModels",void 0),(0,l.Z)(this,"dataCoreClaimGroupIds",[]),(0,l.Z)(this,"dataCoreUserClaimGroupDetailModels",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=n,this.coreUserClaimTypeService=s,this.coreUserClaimGroupDetailService=a,this.publicHelper=m,this.cmsToastrService=_,this.cdr=S,this.translate=v,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=+t.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(!(this.requestId>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.getEnumRecordStatus(),this.DataGetAllCoreUserClaimType(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceEnumUserClaimKinds().subscribe(t=>{this.dataModelEnumUserClaimKindsResult=t})}getEnumRecordStatus(){var t=this;return(0,Y.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(this.requestId<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreUserClaimTypeService.setAccessLoad(),this.coreUserClaimTypeService.setAccessDataType(c.MZK.Editor),this.coreUserClaimTypeService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.title,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}DataGetAllCoreUserClaimType(){if(this.requestId<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"DataGetAllCoreUserClaimType";this.loading.Start(t,this.translate.instant("MESSAGE.Get_the_list_of_documents"));const o=new c.Hay,n=new c.AO3;n.propertyName="LinkUserClaimTypeId",n.value=this.requestId,o.filters.push(n),this.coreUserClaimGroupDetailService.ServiceGetAll(o).subscribe({next:s=>{this.dataCoreUserClaimGroupDetailModels=s.listItems;const a=[];this.dataCoreUserClaimGroupDetailModels.forEach(m=>{a.push(m.linkUserClaimGroupId)}),this.dataCoreClaimGroupIds=a,s.isSuccess?this.formInfo.formAlert="":(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.loading.Stop(t)},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(t)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.sending_information_to_the_server")),this.coreUserClaimTypeService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onStepClick(t,o){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{o.selectedIndex=t.previouslySelectedIndex},10)))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUserCategorySelect(t){this.dataCoreUserClaimTypeModels=t}onActionSelectorUserCategorySelectAdded(t){const o=new c.KYZ;o.linkUserClaimTypeId=t.id,o.linkUserClaimGroupId=this.dataModel.id,o.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(o).subscribe({next:n=>{n.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_in_this_group_was_successful"),this.cmsToastrService.typeSuccessEdit()):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage))},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n)}})}onActionSelectorUserCategorySelectRemoved(t){const o=new c.KYZ;o.linkUserClaimTypeId=t.id,o.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(o).subscribe({next:n=>{n.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.Deletion_from_this_group_Was_Successful"),this.cmsToastrService.typeSuccessEdit()):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage))},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n)}})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.kf3),e.Y36(c.Fq5),e.Y36(G.i),e.Y36(y.e),e.Y36(e.sBO),e.Y36(g.sK))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimtype-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(at,5),2&t){let n;e.iGM(n=e.CRH())&&(o.formGroup=n.first)}},decls:94,vars:76,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"selectionChange"],["stepper",""],["state","main",3,"label"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","ngModelChange"],["Title",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.titleML","type","text",3,"ngModel","disabled","ngModelChange"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","disabled","ngModelChange"],["TitleResourceLanguage",""],["name","dataModel.kind","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["Kind","ngModel"],["name","dataModel.dismissOnEdit",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],[3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off",3,"ngModel","placeholder","ngModelChange","click"],["LinkMainImageId",""],["matSuffix","",3,"click"],[3,"language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView","itemSelected","openFormChange"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5",3,"ngModel","placeholder","ngModelChange"],["Description",""],[3,"optionSelectForce","optionDisabled","optionChange","optionSelectAdded","optionSelectRemoved"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["name","dataModel.dismissOnEdit",3,"ngModel","disabled","ngModelChange"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-horizontal-stepper",5,6),e.NdJ("selectionChange",function(a){e.CHM(n);const m=e.MAs(7);return e.KtG(o.onStepClick(a,m))}),e.TgZ(8,"mat-step",7),e.ALo(9,"translate"),e.TgZ(10,"mat-form-field",8)(11,"mat-select",9,10),e.NdJ("ngModelChange",function(a){return o.dataModel.recordStatus=a}),e.YNc(13,rt,2,2,"mat-option",11),e.qZA(),e.TgZ(14,"mat-hint",12),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,ct,5,3,"mat-error",13),e.qZA(),e.TgZ(18,"mat-form-field",8)(19,"mat-label"),e._uU(20),e.qZA(),e.TgZ(21,"input",14,15),e.NdJ("ngModelChange",function(a){return o.dataModel.title=a}),e.qZA(),e.YNc(23,dt,2,0,"mat-icon",16),e.TgZ(24,"mat-icon",17),e._uU(25,"mode_edit"),e.qZA(),e.TgZ(26,"mat-hint",12),e._uU(27),e.qZA(),e.YNc(28,pt,5,4,"mat-error",13),e.qZA(),e.TgZ(29,"mat-form-field",8)(30,"mat-label"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"input",18),e.NdJ("ngModelChange",function(a){return o.dataModel.titleML=a}),e.qZA()(),e.TgZ(34,"mat-form-field",8)(35,"mat-label"),e._uU(36),e.qZA(),e.TgZ(37,"input",19,20),e.NdJ("ngModelChange",function(a){return o.dataModel.titleResourceLanguage=a}),e.qZA(),e.YNc(39,mt,2,0,"mat-icon",16),e.TgZ(40,"mat-icon",17),e._uU(41,"mode_edit"),e.qZA(),e.TgZ(42,"mat-hint",12),e._uU(43),e.qZA(),e.YNc(44,ut,5,4,"mat-error",13),e.qZA(),e.TgZ(45,"mat-form-field",8)(46,"mat-select",21,22),e.NdJ("ngModelChange",function(a){return o.dataModel.kind=a}),e.ALo(48,"translate"),e.YNc(49,ht,2,2,"mat-option",11),e.qZA(),e.TgZ(50,"mat-hint",12),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.YNc(53,_t,5,3,"mat-error",13),e.qZA(),e.TgZ(54,"div",8),e.YNc(55,ft,2,3,"mat-slide-toggle",23),e.qZA(),e.TgZ(56,"div",24)(57,"a",25),e.ALo(58,"cmsthumbnail"),e.YNc(59,gt,2,3,"img",26),e.qZA()(),e.TgZ(60,"div",27)(61,"mat-form-field",8)(62,"mat-label",28),e.NdJ("click",function(){return o.fileManagerOpenForm=!0}),e._uU(63),e.ALo(64,"translate"),e.qZA(),e.TgZ(65,"input",29,30),e.NdJ("ngModelChange",function(a){return o.dataModel.linkMainImageId=a})("click",function(){return o.fileManagerOpenForm=!0}),e.ALo(67,"translate"),e.qZA(),e.YNc(68,Ct,2,0,"mat-icon",16),e.TgZ(69,"mat-icon",31),e.NdJ("click",function(){return o.fileManagerOpenForm=!0}),e._uU(70,"mode_edit"),e.qZA()(),e.TgZ(71,"cms-file-manager",32),e.NdJ("itemSelected",function(a){return o.onActionFileSelected(a)})("openFormChange",function(a){return o.fileManagerOpenForm=a}),e.qZA()(),e.TgZ(72,"mat-form-field",8)(73,"mat-label"),e._uU(74),e.qZA(),e.TgZ(75,"textarea",33,34),e.NdJ("ngModelChange",function(a){return o.dataModel.description=a}),e.qZA(),e.YNc(77,St,2,0,"mat-icon",16),e.TgZ(78,"mat-icon",17),e._uU(79,"mode_edit"),e.qZA(),e.TgZ(80,"mat-hint",12),e._uU(81),e.qZA(),e.YNc(82,Tt,5,4,"mat-error",13),e.qZA()(),e.TgZ(83,"mat-step",7),e.ALo(84,"translate"),e.TgZ(85,"app-core-userclaimgroup-selectionlist",35),e.NdJ("optionChange",function(a){return o.onActionSelectorUserCategorySelect(a)})("optionSelectAdded",function(a){return o.onActionSelectorUserCategorySelectAdded(a)})("optionSelectRemoved",function(a){return o.onActionSelectorUserCategorySelectRemoved(a)}),e.qZA()()()(),e.TgZ(86,"div",36)(87,"div",37)(88,"small",38),e._uU(89),e.qZA(),e.TgZ(90,"small",39),e._uU(91),e.qZA()()(),e.TgZ(92,"div",40),e.YNc(93,At,9,7,"div",41),e.qZA()()}if(2&t){const n=e.MAs(12),s=e.MAs(22),a=e.MAs(38),m=e.MAs(47),_=e.MAs(76);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(3),e.s9C("label",e.lcZ(9,58,"TITLE.Details_Claim")),e.xp6(3),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-EnumRecordStatus-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(16,60,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(3),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title),e.xp6(2),e.Q6J("ngIf",o.dataModel.title),e.xp6(4),e.hij("",s.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==s.errors?null:s.errors.required),e.xp6(3),e.hij(" ",e.lcZ(32,62,"TITLE.TitleML"),""),e.xp6(2),e.Q6J("ngModel",o.dataModel.titleML)("disabled",!0),e.xp6(3),e.Oqu(null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.titleResourceLanguage)("disabled",!(null!=o.fieldsInfo.titleResourceLanguage&&o.fieldsInfo.titleResourceLanguage.accessEditField)),e.xp6(2),e.Q6J("ngIf",o.dataModel.titleResourceLanguage),e.xp6(4),e.hij("",a.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(48,64,"TITLE.Status")),e.MGl("panelClass","Kind-",o.dataModel.kind,""),e.Q6J("ngModel",o.dataModel.kind),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumUserClaimKindsResult.listItems),e.xp6(2),e.Oqu(e.lcZ(52,66,"TITLE.Select_type_of_content")),e.xp6(2),e.Q6J("ngIf",null==m.errors?null:m.errors.required),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.dismissOnEdit?null:o.fieldsInfo.dismissOnEdit.accessWatchField),e.xp6(2),e.s9C("href",e.lcZ(58,68,o.dataModel.linkMainImageIdSrc),e.LSH),e.xp6(2),e.Q6J("ngIf",(null==o.dataModel||null==o.dataModel.linkMainImageIdSrc?null:o.dataModel.linkMainImageIdSrc.length)>0),e.xp6(4),e.hij("",e.lcZ(64,70,"TITLE.Sample_File")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(67,72,"TITLE.Original_File_ID")),e.Q6J("ngModel",o.dataModel.linkMainImageId),e.xp6(3),e.Q6J("ngIf",o.dataModel.linkMainImageId),e.xp6(3),e.Q6J("language",o.appLanguage)("isPopup",!0)("openForm",o.fileManagerOpenForm)("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1),e.xp6(3),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(2),e.Q6J("ngIf",o.dataModel.description),e.xp6(4),e.hij("",_.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==_.errors?null:_.errors.required),e.xp6(1),e.s9C("label",e.lcZ(84,74,"TITLE.Get_Used")),e.xp6(2),e.Q6J("optionSelectForce",o.dataCoreClaimGroupIds)("optionDisabled",!1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[h.mk,h.sg,h.O5,p._Y,p.Fj,p.JJ,p.JL,p.Q7,p.wO,p.nD,p.On,p.F,Q.ey,f.KE,f.hX,f.bx,f.TO,f.R9,w.Hw,k.Nt,j.gD,J.Rr,oe.C0,oe.Vq,_e.HG,O.O,st,g.X$,te.v],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),i})();function Mt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionAdd())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function Zt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionEdit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function bt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionReload())}),e.TgZ(1,"mat-icon",12),e.ALo(2,"translate"),e._uU(3,"refresh"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.RELOAD")))}const Se=function(i){return{background:i}};function yt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tree-node",13),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionSelect(s))}),e._UZ(1,"button",14),e._uU(2),e.qZA()}if(2&i){const t=r.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(2,Se,o.dataModelSelect.id>0&&o.dataModelSelect.id===t.id?"#d3d3da":"")),e.xp6(2),e.hij(" ",t.titleML," ")}}function It(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-nested-tree-node")(1,"li")(2,"div",15),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionSelect(s))}),e.TgZ(3,"button",16),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionSelect(s))}),e.TgZ(4,"mat-icon",17),e._uU(5),e.qZA()(),e._uU(6),e.qZA(),e.TgZ(7,"ul"),e.GkF(8,18),e.qZA()()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(6,Se,o.dataModelSelect.id>0&&o.dataModelSelect.id===t.id?"#d3d3da":"")),e.xp6(1),e.uIk("aria-label","Toggle "+t.titleML),e.xp6(2),e.hij(" ",o.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.xp6(1),e.hij(" ",t.titleML," "),e.xp6(1),e.ekj("category-tree-invisible",!o.treeControl.isExpanded(t))}}let Et=(()=>{class i{constructor(t,o,n,s,a,m,_){(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"coreEnumService",void 0),(0,l.Z)(this,"categoryService",void 0),(0,l.Z)(this,"dialog",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"tokenHelper",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"dataModelSelect",new c.OoK),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"filterModel",new c.Hay),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"treeControl",new he.VY(S=>null)),(0,l.Z)(this,"dataSource",new I.WX),(0,l.Z)(this,"optionChange",new e.vpe),(0,l.Z)(this,"cmsApiStoreSubscribe",void 0),(0,l.Z)(this,"optionReload",()=>this.onActionReload()),(0,l.Z)(this,"hasChild",(S,v)=>!1),this.cmsToastrService=t,this.coreEnumService=o,this.categoryService=n,this.dialog=s,this.cdr=a,this.tokenHelper=m,this.translate=_,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(t){this.onActionSelectForce(t)}get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;const t=this.constructor.name+"main";this.loading.Start(t),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:o=>{o.isSuccess?(this.dataModelResult=o,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionReload(){this.onActionSelect(this.dataModelSelect&&this.dataModelSelect.id>0?this.dataModelSelect:null),this.dataModelSelect=new c.OoK,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){this.dialog.open(fe,{height:"90%",data:{}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id),0!==t)this.dialog.open(Ce,{height:"90%",data:{id:t}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()});else{const n=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected");this.cmsToastrService.typeErrorSelected(n)}}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(y.e),e.Y36(c.FLW),e.Y36(c.kf3),e.Y36(A.uw),e.Y36(e.sBO),e.Y36(H.v),e.Y36(g.sK))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimtype-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionLoading:"optionLoading",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:9,vars:6,consts:[[1,"ntk-cms-html-tree-header"],["type","button","class","btn btn-outline-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],[1,"ntk-cms-html-tree-body"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngStyle","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"ntk-cms-html-tree-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-warning",3,"click"],["type","button",1,"btn","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"ngStyle","click"],["mat-icon-button","","disabled",""],[1,"mat-tree-node",3,"ngStyle","click"],["mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Mt,3,3,"button",1),e.YNc(2,Zt,3,3,"button",2),e.YNc(3,bt,4,3,"button",3),e.qZA(),e.TgZ(4,"div",4)(5,"mat-tree",5),e.YNc(6,yt,3,4,"mat-tree-node",6),e.YNc(7,It,9,8,"mat-nested-tree-node",7),e.qZA()(),e._UZ(8,"div",8)),2&t&&(e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.dataModelSelect?null:o.dataModelSelect.id)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow),e.xp6(2),e.Q6J("dataSource",o.dataSource)("treeControl",o.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",o.hasChild))},dependencies:[h.O5,h.PC,P.RK,w.Hw,I.GZ,I.fQ,I.ah,I.eu,I.gi,I.uo,I.Ar,g.X$]})),i})();var de=d(56939),vt=d(93817),Ut=d(39084),ie=d(86639),ne=d(25897);function wt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonNewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function Rt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function xt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Gt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",13),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function kt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Lt(i,r){1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.PICTURE")," "))}function Nt(i,r){if(1&i&&e._UZ(0,"img",50),2&i){const t=e.oxw().$implicit;e.s9C("src",t.linkFileContentId,e.LSH)}}function qt(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e.YNc(1,Nt,1,1,"img",49),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",(null==t||null==t.linkFileContentId?null:t.linkFileContentId.length)>0)}}function Dt(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Ot(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Jt(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," ")}}function Ft(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.title," ")}}function Yt(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Qt(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function Ht(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Pt(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Kt(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const jt=function(i){return{display:i}};function Bt(i,r){if(1&i&&(e.TgZ(0,"mat-cell",51),e.ALo(1,"statusCellClass"),e._UZ(2,"i",51),e.ALo(3,"statusIconClass"),e._UZ(4,"select",52),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,t.recordStatus)),e.xp6(2),e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(9,jt,t.id===o.tableRowSelected.id?"":"none"))}}function $t(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserClaimTypeId?null:t.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function Wt(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"cmstitle"),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,t.linkUserClaimTypeId,o.dataModelCoreUserClaimTypeResult.listItems))}}function Vt(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.isApproved?null:t.fieldsInfo.isApproved.fieldTitle," ")}}function zt(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.isApproved))}}function Xt(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function eo(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.createdDate)," ")}}function to(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.updatedDate?null:t.fieldsInfo.updatedDate.fieldTitle," ")}}function oo(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.updatedDate)," ")}}function io(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}const Te=function(i){return{background:i}};function no(i,r){if(1&i&&(e.TgZ(0,"mat-cell",53),e._uU(1),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(2,Te,o.publicHelper.RowStyleExpireDate(t.expireDate))),e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.expireDate)," ")}}function lo(i,r){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function so(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onActionbuttonEditRow(n))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function ao(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onActionbuttonDeleteRow(n))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function ro(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,56),e.YNc(6,so,6,3,"button",57),e.YNc(7,ao,6,3,"button",57),e.TgZ(8,"button",58),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionbuttonModuleList(s))}),e.TgZ(9,"mat-icon"),e._uU(10,"view_module"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",58),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionbuttonSiteList(s))}),e.TgZ(15,"mat-icon"),e._uU(16,"view_module"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&i){const t=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(5),e.hij(" ",e.lcZ(13,5,"ACTION.MODULES"),""),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.SITES"))}}function co(i,r){1&i&&e._UZ(0,"mat-header-row")}function po(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-row",59),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionTableRowSelect(s))}),e.qZA()}if(2&i){const t=r.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,Te,t.id===o.tableRowSelected.id?"#d3d3da":""))}}const mo=function(){return[5,10,20,100]};let le=(()=>{class i{constructor(t,o,n,s,a,m,_,S,v,L,K){if((0,l.Z)(this,"contentService",void 0),(0,l.Z)(this,"publicHelper",void 0),(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"cmsConfirmationDialogService",void 0),(0,l.Z)(this,"coreUserClaimTypeService",void 0),(0,l.Z)(this,"router",void 0),(0,l.Z)(this,"tokenHelper",void 0),(0,l.Z)(this,"activatedRoute",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"dialog",void 0),(0,l.Z)(this,"requestLinkUserClaimTypeId",0),(0,l.Z)(this,"requestLinkSiteId",0),(0,l.Z)(this,"requestLinkUserId",0),(0,l.Z)(this,"comment",void 0),(0,l.Z)(this,"author",void 0),(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"flag",!1),(0,l.Z)(this,"tableContentSelected",[]),(0,l.Z)(this,"filteModelContent",new c.Hay),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"optionsSearch",new T.dj),(0,l.Z)(this,"optionsStatist",new C.TV),(0,l.Z)(this,"tokenInfo",new c.OdC),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"tableRowsSelected",[]),(0,l.Z)(this,"tableRowSelected",new c.NQc),(0,l.Z)(this,"tableSource",new u.by),(0,l.Z)(this,"fieldsInfo",new Map),(0,l.Z)(this,"categoryModelSelected",new c.OoK),(0,l.Z)(this,"dataModelCoreUserClaimTypeResult",new c.y$4),(0,l.Z)(this,"tabledisplayedColumns",[]),(0,l.Z)(this,"tabledisplayedColumnsSource",["LinkFileContentId","Id","RecordStatus","Title","LinkSiteId","LinkUserId","LinkUserClaimTypeId","IsApproved","CreatedDate","UpdatedDate","ExpireDate","Action"]),(0,l.Z)(this,"expandedElement",void 0),(0,l.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=n,this.cmsConfirmationDialogService=s,this.coreUserClaimTypeService=a,this.router=m,this.tokenHelper=_,this.activatedRoute=S,this.cdr=v,this.translate=L,this.dialog=K,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.optionsSearch.parentMethods={onSubmit:b=>this.onSubmitOptionsSearch(b)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=c.oCf.Descending,this.requestLinkUserClaimTypeId>0){const b=new c.AO3;b.propertyName="LinkUserClaimTypeId",b.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(b)}if(this.requestLinkSiteId>0){const b=new c.AO3;b.propertyName="LinkSiteId",b.value=this.requestLinkSiteId,this.filteModelContent.filters.push(b)}if(this.requestLinkUserId>0){const b=new c.AO3;b.propertyName="LinkUserId",b.value=this.requestLinkUserId,this.filteModelContent.filters.push(b)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getUserClaimType()}getUserClaimType(){const t=new c.Hay;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe(o=>{this.dataModelCoreUserClaimTypeResult=o})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.NQc);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){const n=new c.AO3;n.propertyName="LinkUserClaimTypeId",n.value=this.categoryModelSelected.id,o.filters.push(n)}this.contentService.ServiceGetAllEditor(o).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oCf.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(re.K,{height:"90%",data:{}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(me.D,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionSelectorSelect(t){var o=this.filteModelContent.sortColumn,n=this.filteModelContent.sortType;this.filteModelContent=new c.Hay,this.filteModelContent.sortColumn=o,this.filteModelContent.sortType=n,this.categoryModelSelected=t,this.DataGetAll()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id){const s=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(s)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),n=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,n).then(s=>{if(s){const a=this.constructor.name+"main";this.loading.Start(a),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(a)},error:m=>{this.cmsToastrService.typeError(m),this.loading.Stop(a)}})}}).catch(()=>{})}onActionbuttonGoToUserClaimList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),this.router.navigate(["/core/siteUserClaim/",this.tableRowSelected.id]);else{const o=this.translate.instant("MESSAGE.no_row_selected_to_display");this.cmsToastrService.typeErrorSelected(o)}}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(o)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(o)}});const n=JSON.parse(JSON.stringify(this.filteModelContent)),s=new c.AO3;s.propertyName="RecordStatus",s.value=c.FVU.Available,n.filters.push(s),this.contentService.ServiceGetCount(n).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(o)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(o)}})}onActionbuttonModuleList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow?this.router.navigate(["/core/sitecategorymodule/LinkCmsModuleId",this.tableRowSelected.id]):this.cmsToastrService.typeErrorSelected();else{const o=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(o)}}onActionbuttonSiteList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow?this.router.navigate(["/core/site/list/LinkSiteCategoryId",this.tableRowSelected.id]):this.cmsToastrService.typeErrorSelected();else{const o=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(o)}}onActionbuttonExport(){this.dialog.open($.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(B.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:this.tableRowSelected.title}}).afterClosed().subscribe(n=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t}onActionBackToParent(){this.router.navigate(["/core/userclaim/type/"])}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(c.qlG),e.Y36(G.i),e.Y36(y.e),e.Y36(U.s),e.Y36(c.kf3),e.Y36(E.F0),e.Y36(H.v),e.Y36(E.gz),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(A.uw))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimcontent-list"]],decls:74,vars:32,consts:[[3,"Key","svg"],[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-primary","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","LinkFileContentId"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsApproved"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-primary",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[3,"ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const n=e.EpF();e._UZ(0,"app-cms-guide-notice",0),e.TgZ(1,"app-cms-html-list",1),e.ynx(2,2),e.TgZ(3,"app-core-userclaimtype-tree",3),e.NdJ("optionChange",function(a){return o.onActionSelectorSelect(a)}),e.qZA(),e.BQk(),e.GkF(4,4),e.ynx(5,5),e.YNc(6,wt,3,3,"button",6),e.YNc(7,Rt,3,3,"button",7),e.YNc(8,xt,3,3,"button",8),e.TgZ(9,"a",9)(10,"mat-slide-toggle",10),e.NdJ("ngModelChange",function(a){return o.optionsSearch.data.show=a}),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"a",9)(14,"mat-slide-toggle",11),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"button",12),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(18,"mat-icon",13),e.ALo(19,"translate"),e._uU(20,"cloud_download"),e.qZA()(),e.YNc(21,Gt,4,3,"button",14),e.TgZ(22,"button",12),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(23,"mat-icon",13),e.ALo(24,"translate"),e._uU(25,"refresh"),e.qZA()(),e.YNc(26,kt,3,3,"button",15),e.BQk(),e.ynx(27,16),e.TgZ(28,"app-cms-search-list",17),e.NdJ("optionsChange",function(a){return o.optionsSearch=a}),e.qZA(),e.TgZ(29,"app-cms-statist-list",17),e.NdJ("optionsChange",function(a){return o.optionsStatist=a}),e.qZA(),e.BQk(),e.ynx(30,18),e.TgZ(31,"mat-table",19,20),e.NdJ("matSortChange",function(){e.CHM(n);const a=e.MAs(32);return e.KtG(o.onTableSortData(a))}),e.ynx(33,21),e.YNc(34,Lt,3,3,"mat-header-cell",22),e.YNc(35,qt,2,1,"mat-cell",23),e.BQk(),e.ynx(36,24),e.YNc(37,Dt,2,1,"mat-header-cell",22),e.YNc(38,Ot,2,1,"mat-cell",23),e.BQk(),e.ynx(39,25),e.YNc(40,Jt,2,1,"mat-header-cell",22),e.YNc(41,Ft,2,1,"mat-cell",23),e.BQk(),e.ynx(42,26),e.YNc(43,Yt,2,1,"mat-header-cell",22),e.YNc(44,Qt,4,5,"mat-cell",23),e.BQk(),e.ynx(45,27),e.YNc(46,Ht,2,1,"mat-header-cell",22),e.YNc(47,Pt,4,5,"mat-cell",23),e.BQk(),e.ynx(48,28),e.YNc(49,Kt,2,1,"mat-header-cell",22),e.YNc(50,Bt,5,11,"mat-cell",29),e.BQk(),e.ynx(51,30),e.YNc(52,$t,2,1,"mat-header-cell",22),e.YNc(53,Wt,3,4,"mat-cell",23),e.BQk(),e.ynx(54,31),e.YNc(55,Vt,2,1,"mat-header-cell",22),e.YNc(56,zt,3,3,"mat-cell",23),e.BQk(),e.ynx(57,32),e.YNc(58,Xt,2,1,"mat-header-cell",22),e.YNc(59,eo,2,1,"mat-cell",23),e.BQk(),e.ynx(60,33),e.YNc(61,to,2,1,"mat-header-cell",22),e.YNc(62,oo,2,1,"mat-cell",23),e.BQk(),e.ynx(63,34),e.YNc(64,io,2,1,"mat-header-cell",22),e.YNc(65,no,2,4,"mat-cell",35),e.BQk(),e.ynx(66,36),e.YNc(67,lo,3,3,"mat-header-cell",37),e.YNc(68,ro,20,9,"mat-cell",38),e.BQk(),e.YNc(69,co,1,0,"mat-header-row",39),e.YNc(70,po,1,3,"mat-row",40),e.qZA(),e.BQk(),e.ynx(71,41),e.TgZ(72,"mat-paginator",42,43),e.NdJ("page",function(a){return o.onTablePageingData(a)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("Key","userclaim.content.list")("svg","assets/media/svg/icons/General/Notifications1.svg"),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionTreeDisplay",0===o.requestLinkUserClaimTypeId),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&o.tableRowSelected.id>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&o.tableRowSelected.id>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(12,23,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(16,25,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(19,27,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(24,29,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkUserClaimTypeId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(38),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(31,mo)))},dependencies:[h.mk,h.O5,h.PC,p.JJ,p.On,P.RK,w.Hw,k.Nt,R.VK,R.OP,R.p6,W.NW,J.Rr,F.YE,F.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,V.y,z.q,Qe.v,X.Z,ee.G,Et,h.Ov,g.X$,de.V,vt.J,Ut.Y,ie.G,ne.Y,ce.r],encapsulation:2})),i})();var Ae=d(57445),Me=d(51927),Ze=d(83151),be=d(42147),ye=d(61528),Ie=d(27969),se=d(61637);function uo(i,r){if(1&i&&(e.TgZ(0,"mat-option",6)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=r.$implicit,o=e.oxw();e.Q6J("value",t)("disabled",o.optionDisabled),e.xp6(2),e.Oqu(o.displayOption(t))}}function ho(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const _o=["*"];let Ee=(()=>{class i{constructor(t,o,n,s,a){(0,l.Z)(this,"coreEnumService",void 0),(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"categoryService",void 0),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"dataModelSelect",new c._wo),(0,l.Z)(this,"formControl",new p.NI),(0,l.Z)(this,"filteredOptions",void 0),(0,l.Z)(this,"optionDisabled",!1),(0,l.Z)(this,"optionSelectFirstItem",!1),(0,l.Z)(this,"optionPlaceholder",""),(0,l.Z)(this,"optionChange",new e.vpe),(0,l.Z)(this,"optionReload",()=>this.onActionReload()),(0,l.Z)(this,"loading",new Z.O),this.coreEnumService=t,this.cmsToastrService=o,this.cdr=n,this.translate=s,this.categoryService=a,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(t){this.onActionSelectForce(t)}get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,Me.O)(""),(0,Ze.b)(1500),(0,be.x)(),(0,ye.w)(t=>"string"==typeof t||"number"==typeof t?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){var o=this;return(0,Y.Z)(function*(){const n=new c.Hay;n.rowPerPage=20,n.accessLoad=!0;let s=new c.AO3;s.propertyName="Title",s.value=t,s.searchType=c.b3P.Contains,s.clauseType=c.KT6.Or,n.filters.push(s),t&&"number"==typeof+t&&+t>0&&(s=new c.AO3,s.propertyName="Id",s.value=t,s.searchType=c.b3P.Equal,s.clauseType=c.KT6.Or,n.filters.push(s));const a=o.constructor.name+"main";return o.loading.Start(a),yield(0,Ae.z)(o.categoryService.ServiceGetAll(n)).then(m=>(o.dataModelResult=m,o.optionSelectFirstItem&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect.id<=0)&&o.dataModelResult.listItems.length>0&&(o.optionSelectFirstItem=!1,setTimeout(()=>{o.formControl.setValue(o.dataModelResult.listItems[0])},1e3),o.onActionSelect(o.dataModelResult.listItems[0])),o.loading.Stop(a),m.listItems))})()}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe((0,Ie.U)(o=>(o.find(n=>n.id===t.id)||o.push(t),o)))}onActionSelectForce(t){if("number"==typeof t&&t>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.id===t)){const o=this.dataModelResult.listItems.find(n=>n.id===t);return this.dataModelSelect=o,void this.formControl.setValue(o)}this.categoryService.ServiceGetOneById(t).subscribe({next:o=>{o.isSuccess?(this.filteredOptions=this.push(o.item),this.dataModelSelect=o.item,this.formControl.setValue(o.item),this.optionChange.emit(o.item)):this.cmsToastrService.typeErrorMessage(o.errorMessage)}})}else{if(typeof t==typeof c._wo)return this.filteredOptions=this.push(t),this.dataModelSelect=t,void this.formControl.setValue(t);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new c._wo,this.loadOptions()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(c.FLW),e.Y36(y.e),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(c.WCx))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimgroup-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLoading:"optionLoading"},outputs:{optionChange:"optionChange"},ngContentSelectors:_o,decls:8,vars:9,consts:[[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,o){if(1&t&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"input",1),e.TgZ(2,"mat-autocomplete",2,3),e.NdJ("optionSelected",function(s){return o.onActionSelect(s.option.value)}),e.YNc(4,uo,3,3,"mat-option",4),e.ALo(5,"async"),e.qZA(),e.YNc(6,ho,2,0,"mat-icon",5),e.Hsn(7),e.qZA()),2&t){const n=e.MAs(3);e.xp6(1),e.s9C("placeholder",o.optionPlaceholder),e.Q6J("formControl",o.formControl)("matAutocomplete",n),e.uIk("disabled",!!o.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",o.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(5,7,o.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==o.dataModelSelect?null:o.dataModelSelect.id)}},dependencies:[h.sg,h.O5,p.Fj,p.JJ,p.oH,se.XC,Q.ey,se.ZL,f.KE,f.R9,w.Hw,k.Nt,h.Ov]})),i})();var ve=d(56014);const fo=["vform"];function go(i,r){if(1&i&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Co(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function So(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",20),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.isRequired=n)}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.dataModel.isRequired)("disabled",!(null!=t.fieldsInfo.isRequired&&t.fieldsInfo.isRequired.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.isRequired?null:t.fieldsInfo.isRequired.fieldTitle," ")}}function To(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",14)(1,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",22),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormSubmit())}),e._UZ(6,"i",24),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Ao=(()=>{class i{constructor(t,o,n,s,a,m,_,S){(0,l.Z)(this,"data",void 0),(0,l.Z)(this,"dialogRef",void 0),(0,l.Z)(this,"coreEnumService",void 0),(0,l.Z)(this,"coreUserClaimGroupDetailService",void 0),(0,l.Z)(this,"publicHelper",void 0),(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"requestLinkUserClaimGroupId",0),(0,l.Z)(this,"requestLinkUserClaimTypeId",0),(0,l.Z)(this,"formGroup",void 0),(0,l.Z)(this,"fieldsInfo",new Map),(0,l.Z)(this,"selectFileTypeMainImage",["jpg","jpeg","png"]),(0,l.Z)(this,"fileManagerTree",void 0),(0,l.Z)(this,"appLanguage","fa"),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"dataModel",new c.KYZ),(0,l.Z)(this,"formInfo",new c.LEF),(0,l.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,l.Z)(this,"fileManagerOpenForm",!1),this.data=t,this.dialogRef=o,this.coreEnumService=n,this.coreUserClaimGroupDetailService=s,this.publicHelper=a,this.cmsToastrService=m,this.cdr=_,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestLinkUserClaimGroupId=+t.linkUserClaimGroupId||0,this.requestLinkUserClaimTypeId=+t.linkUserClaimTypeId||0),this.requestLinkUserClaimGroupId>0&&(this.dataModel.linkUserClaimGroupId=this.requestLinkUserClaimGroupId),this.requestLinkUserClaimTypeId>0&&(this.dataModel.linkUserClaimTypeId=this.requestLinkUserClaimTypeId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.ADD"),this.getEnumRecordStatus(),this.DataGetAccess()}DataGetAccess(){const t=this.constructor.name+"DataGetAccess";this.loading.Start(t),this.coreUserClaimGroupDetailService.ServiceViewModel().subscribe({next:o=>{o.isSuccess?this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access):this.cmsToastrService.typeErrorGetAccess(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeErrorGetAccess(o),this.loading.Stop(t)}})}getEnumRecordStatus(){var t=this;return(0,Y.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataAddContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreUserClaimGroupDetailService.ServiceAdd(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionSelectClaimGroup(t){!t||t.id<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),"MESSAGE.group_of_information_documents_is_not_clear"):this.dataModel.linkUserClaimGroupId=t.id}onActionSelectClaimType(t){!t||t.id<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.type_of_information_documents_is_not_clear")):this.dataModel.linkUserClaimTypeId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.Fq5),e.Y36(G.i),e.Y36(y.e),e.Y36(e.sBO),e.Y36(g.sK))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimgroupdetail-add"]],viewQuery:function(t,o){if(1&t&&e.Gf(fo,5),2&t){let n;e.iGM(n=e.CRH())&&(o.formGroup=n.first)}},decls:26,vars:22,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(s){return o.dataModel.recordStatus=s}),e.YNc(9,go,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Co,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"app-core-userclaimgroup-selector",11),e.NdJ("optionChange",function(s){return o.onActionSelectClaimGroup(s)})("optionLoadingChange",function(s){return o.loading=s}),e.qZA(),e.TgZ(15,"app-core-userclaimtype-selector",11),e.NdJ("optionChange",function(s){return o.onActionSelectClaimType(s)})("optionLoadingChange",function(s){return o.loading=s}),e.qZA(),e.TgZ(16,"div",5),e.YNc(17,So,2,3,"mat-slide-toggle",12),e.qZA()(),e.TgZ(18,"div",13)(19,"div",14)(20,"small",15),e._uU(21),e.qZA(),e.TgZ(22,"small",16),e._uU(23),e.qZA()()(),e.TgZ(24,"div",17),e.YNc(25,To,9,7,"div",18),e.qZA()()),2&t){const n=e.MAs(8);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-EnumRecordStatus-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,20,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserClaimGroupId)("optionPlaceholder",o.translate.instant("TITLE.DOCUMENT_GROUP"))("optionDisabled",!(null!=o.fieldsInfo.linkUserClaimGroupId&&o.fieldsInfo.linkUserClaimGroupId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserClaimTypeId)("optionPlaceholder",o.translate.instant("TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(null!=o.fieldsInfo.linkUserClaimTypeId&&o.fieldsInfo.linkUserClaimTypeId.accessEditField)),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.isRequired?null:o.fieldsInfo.isRequired.accessWatchField),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[h.mk,h.sg,h.O5,p._Y,p.JJ,p.JL,p.Q7,p.On,p.F,Q.ey,f.KE,f.bx,f.TO,j.gD,J.Rr,O.O,Ee,ve.b,g.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),i})();const Mo=["vform"];function Zo(i,r){if(1&i&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function bo(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function yo(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",20),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.isRequired=n)}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.dataModel.isRequired)("disabled",!(null!=t.fieldsInfo.isRequired&&t.fieldsInfo.isRequired.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.isRequired?null:t.fieldsInfo.isRequired.fieldTitle," ")}}function Io(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",14)(1,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",22),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormSubmit())}),e._UZ(6,"i",24),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Eo=(()=>{class i{constructor(t,o,n,s,a,m,_,S){(0,l.Z)(this,"data",void 0),(0,l.Z)(this,"dialogRef",void 0),(0,l.Z)(this,"coreEnumService",void 0),(0,l.Z)(this,"coreUserClaimGroupDetailService",void 0),(0,l.Z)(this,"publicHelper",void 0),(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"requestModel",new c.KYZ),(0,l.Z)(this,"formGroup",void 0),(0,l.Z)(this,"fieldsInfo",new Map),(0,l.Z)(this,"selectFileTypeMainImage",["jpg","jpeg","png"]),(0,l.Z)(this,"fileManagerTree",void 0),(0,l.Z)(this,"appLanguage","fa"),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"dataModel",new c.KYZ),(0,l.Z)(this,"formInfo",new c.LEF),(0,l.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,l.Z)(this,"fileManagerOpenForm",!1),this.data=t,this.dialogRef=o,this.coreEnumService=n,this.coreUserClaimGroupDetailService=s,this.publicHelper=a,this.cmsToastrService=m,this.cdr=_,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestModel=t.model),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(!(this.requestModel&&this.requestModel.linkUserClaimTypeId>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.getEnumRecordStatus()}getEnumRecordStatus(){var t=this;return(0,Y.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t);const o=new c.Hay;let n=new c.AO3;n.propertyName="LinkUserClaimGroupId",n.value=this.requestModel.linkUserClaimGroupId,o.filters.push(n),n=new c.AO3,n.propertyName="LinkUserClaimTypeId",n.value=this.requestModel.linkUserClaimTypeId,o.filters.push(n),this.coreUserClaimGroupDetailService.setAccessLoad(),this.coreUserClaimGroupDetailService.setAccessDataType(c.MZK.Editor),this.coreUserClaimGroupDetailService.ServiceGetAll(o).subscribe({next:s=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),s.isSuccess&&s.listItems.length>0?(this.dataModel=s.listItems[0],this.formInfo.formTitle=this.formInfo.formTitle+" "+this.dataModel.linkUserClaimGroupId+"<--\x3e"+this.dataModel.linkUserClaimTypeId,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.loading.Stop(t)},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(t)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.sending_information_to_the_server")),this.coreUserClaimGroupDetailService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionSelectClaimGroup(t){!t||t.id<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.group_of_information_documents_is_not_clear")):this.dataModel.linkUserClaimGroupId=t.id}onActionSelectClaimType(t){!t||t.id<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.type_of_information_documents_is_not_clear")):this.dataModel.linkUserClaimTypeId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.Fq5),e.Y36(G.i),e.Y36(y.e),e.Y36(e.sBO),e.Y36(g.sK))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimgroupdetail-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(Mo,5),2&t){let n;e.iGM(n=e.CRH())&&(o.formGroup=n.first)}},decls:26,vars:22,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(s){return o.dataModel.recordStatus=s}),e.YNc(9,Zo,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,bo,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"app-core-userclaimgroup-selector",11),e.NdJ("optionChange",function(s){return o.onActionSelectClaimGroup(s)})("optionLoadingChange",function(s){return o.loading=s}),e.qZA(),e.TgZ(15,"app-core-userclaimtype-selector",11),e.NdJ("optionChange",function(s){return o.onActionSelectClaimType(s)})("optionLoadingChange",function(s){return o.loading=s}),e.qZA(),e.TgZ(16,"div",5),e.YNc(17,yo,2,3,"mat-slide-toggle",12),e.qZA()(),e.TgZ(18,"div",13)(19,"div",14)(20,"small",15),e._uU(21),e.qZA(),e.TgZ(22,"small",16),e._uU(23),e.qZA()()(),e.TgZ(24,"div",17),e.YNc(25,Io,9,7,"div",18),e.qZA()()),2&t){const n=e.MAs(8);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-EnumRecordStatus-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,20,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserClaimGroupId)("optionPlaceholder",o.translate.instant("TITLE.DOCUMENT_GROUP"))("optionDisabled",!(null!=o.fieldsInfo.linkUserClaimGroupId&&o.fieldsInfo.linkUserClaimGroupId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserClaimTypeId)("optionPlaceholder",o.translate.instant("TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(null!=o.fieldsInfo.linkUserClaimTypeId&&o.fieldsInfo.linkUserClaimTypeId.accessEditField)),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.isRequired?null:o.fieldsInfo.isRequired.accessWatchField),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[h.mk,h.sg,h.O5,p._Y,p.JJ,p.JL,p.Q7,p.On,p.F,Q.ey,f.KE,f.bx,f.TO,j.gD,J.Rr,O.O,Ee,ve.b,g.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),i})();function vo(i,r){if(1&i&&(e._UZ(0,"img",9),e.ALo(1,"cmsthumbnail")),2&i){const t=e.oxw();e.s9C("src",e.lcZ(1,1,t.dataModelSelect.linkMainImageIdSrc),e.LSH)}}function Uo(i,r){if(1&i&&(e._UZ(0,"img",9),e.ALo(1,"cmsthumbnail")),2&i){const t=e.oxw().$implicit;e.s9C("src",e.lcZ(1,1,t.linkMainImageIdSrc),e.LSH)}}function wo(i,r){if(1&i&&(e.TgZ(0,"mat-option",10),e.YNc(1,Uo,2,3,"img",3),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&i){const t=r.$implicit,o=e.oxw();e.Q6J("value",t)("disabled",o.optionDisabled),e.xp6(1),e.Q6J("ngIf",t.linkMainImageIdSrc),e.xp6(2),e.Oqu(o.displayOption(t))}}function Ro(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const xo=["*"];let Ue=(()=>{class i{constructor(t,o,n,s){(0,l.Z)(this,"coreEnumService",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"categoryService",void 0),(0,l.Z)(this,"id",++i.nextId),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"dataModelSelect",new c.U4O),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"formControl",new p.NI),(0,l.Z)(this,"filteredOptions",void 0),(0,l.Z)(this,"optionDisabled",!1),(0,l.Z)(this,"optionSelectFirstItem",!1),(0,l.Z)(this,"optionPlaceholder",""),(0,l.Z)(this,"optionChange",new e.vpe),(0,l.Z)(this,"optionReload",()=>this.onActionReload()),this.coreEnumService=t,this.translate=o,this.cdr=n,this.categoryService=s,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,Me.O)(""),(0,Ze.b)(1500),(0,be.x)(),(0,ye.w)(t=>this.DataGetAll("string"==typeof t||"number"==typeof t?t:"")))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){var o=this;return(0,Y.Z)(function*(){const n=new c.Hay;if(n.rowPerPage=20,n.accessLoad=!0,t&&t.length>0){let a=new c.AO3;a=new c.AO3,a.propertyName="SubDomain",a.value=t,a.searchType=c.b3P.Contains,a.clauseType=c.KT6.Or,n.filters.push(a),a=new c.AO3,a.propertyName="Domain",a.value=t,a.searchType=c.b3P.Contains,a.clauseType=c.KT6.Or,n.filters.push(a),a=new c.AO3,a.propertyName="Title",a.value=t,a.searchType=c.b3P.Contains,a.clauseType=c.KT6.Or,n.filters.push(a),t&&"number"==typeof+t&&+t>0&&(a=new c.AO3,a.propertyName="Id",a.value=t,a.searchType=c.b3P.Equal,a.clauseType=c.KT6.Or,n.filters.push(a))}const s=o.constructor.name+"main";return o.loading.Start(s),yield(0,Ae.z)(o.categoryService.ServiceGetAll(n)).then(a=>(o.dataModelResult=a,o.optionSelectFirstItem&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect.id<=0)&&o.dataModelResult.listItems.length>0&&(o.optionSelectFirstItem=!1,setTimeout(()=>{o.formControl.setValue(o.dataModelResult.listItems[0])},1e3),o.onActionSelect(o.dataModelResult.listItems[0])),o.loading.Stop(s),a.listItems))})()}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe((0,Ie.U)(o=>(o.find(n=>n.id===t.id)||o.push(t),o)))}onActionSelectForce(t){if("number"==typeof t&&t>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.id===t)){const o=this.dataModelResult.listItems.find(n=>n.id===t);return this.dataModelSelect=o,void this.formControl.setValue(o)}this.categoryService.ServiceGetOneById(t).subscribe(o=>{o.isSuccess&&(this.filteredOptions=this.push(o.item),this.dataModelSelect=o.item,this.formControl.setValue(o.item),this.optionChange.emit(o.item))})}else{if(typeof t==typeof c.U4O)return this.filteredOptions=this.push(t),this.dataModelSelect=t,void this.formControl.setValue(t);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new c.U4O,this.loadOptions()}}return(0,l.Z)(i,"nextId",0),(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(c.FLW),e.Y36(g.sK),e.Y36(e.sBO),e.Y36(c.Onl))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-cms-application-selector"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:xo,decls:12,vars:11,consts:[[1,"ntk-full-width"],[3,"options"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,o){if(1&t&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"span",2),e.YNc(3,vo,2,3,"img",3),e._uU(4," \xa0"),e.qZA(),e._UZ(5,"input",4),e.TgZ(6,"mat-autocomplete",5,6),e.NdJ("optionSelected",function(s){return o.onActionSelect(s.option.value)}),e.YNc(8,wo,4,4,"mat-option",7),e.ALo(9,"async"),e.qZA(),e.YNc(10,Ro,2,0,"mat-icon",8),e.Hsn(11),e.qZA()),2&t){const n=e.MAs(7);e.xp6(1),e.Q6J("options",o.loading),e.xp6(2),e.Q6J("ngIf",o.dataModelSelect&&(null==o.dataModelSelect?null:o.dataModelSelect.linkMainImageIdSrc)),e.xp6(2),e.s9C("placeholder",o.optionPlaceholder),e.Q6J("formControl",o.formControl)("matAutocomplete",n),e.uIk("disabled",!!o.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",o.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(9,9,o.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==o.dataModelSelect?null:o.dataModelSelect.id)}},dependencies:[h.sg,h.O5,p.Fj,p.JJ,p.oH,se.XC,Q.ey,se.ZL,f.KE,f.qo,f.R9,w.Hw,k.Nt,O.O,h.Ov,te.v],encapsulation:2})),i})();var we=d(95631),Re=d(6586),xe=d(11126);const Go=["vform"];function ko(i,r){if(1&i&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Lo(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function No(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",29),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.dataModel.title="")}),e._uU(1,"close"),e.qZA()}}function qo(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Do(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",29),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.dataModel.titleResourceLanguage="")}),e._uU(1,"close"),e.qZA()}}function Oo(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Jo(i,r){if(1&i&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Fo(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," ActionType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Yo(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",29),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.dataModel.description="")}),e._uU(1,"close"),e.qZA()}}function Qo(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Ho(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",31),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormSubmit())}),e._UZ(6,"i",33),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Ge=(()=>{class i{constructor(t,o,n,s,a,m,_,S){(0,l.Z)(this,"data",void 0),(0,l.Z)(this,"dialogRef",void 0),(0,l.Z)(this,"coreEnumService",void 0),(0,l.Z)(this,"coreUserClaimGroupService",void 0),(0,l.Z)(this,"publicHelper",void 0),(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"formGroup",void 0),(0,l.Z)(this,"fieldsInfo",new Map),(0,l.Z)(this,"selectFileTypeMainImage",["jpg","jpeg","png"]),(0,l.Z)(this,"fileManagerTree",void 0),(0,l.Z)(this,"appLanguage","fa"),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"dataModel",new c._wo),(0,l.Z)(this,"formInfo",new c.LEF),(0,l.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,l.Z)(this,"dataModelEnumUserClaimGroupActionTypeResult",new c.y$4),(0,l.Z)(this,"fileManagerOpenForm",!1),this.data=t,this.dialogRef=o,this.coreEnumService=n,this.coreUserClaimGroupService=s,this.publicHelper=a,this.cmsToastrService=m,this.cdr=_,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.ADD"),this.getEnumRecordStatus(),this.DataGetAccess(),this.getEnumUserClaimGroupActionType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceEnumUserClaimGroupActionType().subscribe(t=>{this.dataModelEnumUserClaimGroupActionTypeResult=t})}DataGetAccess(){const t=this.constructor.name+"DataGetAccess";this.loading.Start(t),this.coreUserClaimGroupService.ServiceViewModel().subscribe({next:o=>{o.isSuccess?this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access):this.cmsToastrService.typeErrorGetAccess(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeErrorGetAccess(o),this.loading.Stop(t)}})}getEnumRecordStatus(){var t=this;return(0,Y.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataAddContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreUserClaimGroupService.ServiceAdd(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionSelectApplication(t){this.dataModel.linkApplicationId=!t||t.id<=0?null:t.id}onActionSelectApplicationSource(t){this.dataModel.linkApplicationSourceId=!t||t.id<=0?null:t.id}onActionSelectUserGroup(t){this.dataModel.linkUserGroupId=!t||t.id<=0?null:t.id}onActionSelectSiteCategory(t){this.dataModel.linkSiteCategoryId=null,this.dataModel.linkSiteCategoryId=!t||t.id<=0?null:t.id}onActionSelectModuleId(t){this.dataModel.linkModuleId=null,t&&!(t.id<=0)&&(this.dataModel.linkModuleId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.WCx),e.Y36(G.i),e.Y36(y.e),e.Y36(e.sBO),e.Y36(g.sK))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimgroup-add"]],viewQuery:function(t,o){if(1&t&&e.Gf(Go,5),2&t){let n;e.iGM(n=e.CRH())&&(o.formGroup=n.first)}},decls:70,vars:62,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","ngModelChange"],["Title",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","disabled","ngModelChange"],["TitleResourceLanguage",""],["name","dataModel.actionType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["ActionType","ngModel"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5",3,"ngModel","placeholder","ngModelChange"],["Description",""],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(s){return o.dataModel.recordStatus=s}),e.YNc(9,ko,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Lo,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"mat-form-field",5)(15,"mat-label"),e._uU(16),e.qZA(),e.TgZ(17,"input",11,12),e.NdJ("ngModelChange",function(s){return o.dataModel.title=s}),e.qZA(),e.YNc(19,No,2,0,"mat-icon",13),e.TgZ(20,"mat-icon",14),e._uU(21,"mode_edit"),e.qZA(),e.TgZ(22,"mat-hint",9),e._uU(23),e.qZA(),e.YNc(24,qo,5,4,"mat-error",10),e.qZA(),e.TgZ(25,"mat-form-field",5)(26,"mat-label"),e._uU(27),e.qZA(),e.TgZ(28,"input",15,16),e.NdJ("ngModelChange",function(s){return o.dataModel.titleResourceLanguage=s}),e.qZA(),e.YNc(30,Do,2,0,"mat-icon",13),e.TgZ(31,"mat-icon",14),e._uU(32,"mode_edit"),e.qZA(),e.TgZ(33,"mat-hint",9),e._uU(34),e.qZA(),e.YNc(35,Oo,5,4,"mat-error",10),e.qZA(),e.TgZ(36,"mat-form-field",5)(37,"mat-select",17,18),e.NdJ("ngModelChange",function(s){return o.dataModel.actionType=s}),e.ALo(39,"translate"),e.YNc(40,Jo,2,2,"mat-option",8),e.qZA(),e.TgZ(41,"mat-hint",9),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.YNc(44,Fo,5,3,"mat-error",10),e.qZA(),e._UZ(45,"hr"),e.TgZ(46,"app-cms-module-selector",19),e.NdJ("optionChange",function(s){return o.onActionSelectModuleId(s)})("optionLoadingChange",function(s){return o.loading=s}),e.qZA(),e.TgZ(47,"app-cms-sitecategory-selector",19),e.NdJ("optionChange",function(s){return o.onActionSelectSiteCategory(s)})("optionLoadingChange",function(s){return o.loading=s}),e.qZA(),e.TgZ(48,"app-cms-usergroup-selector",19),e.NdJ("optionChange",function(s){return o.onActionSelectUserGroup(s)})("optionLoadingChange",function(s){return o.loading=s}),e.qZA(),e.TgZ(49,"app-cms-application-selector",19),e.NdJ("optionChange",function(s){return o.onActionSelectApplication(s)})("optionLoadingChange",function(s){return o.loading=s}),e.qZA(),e.TgZ(50,"app-cms-application-selector",19),e.NdJ("optionChange",function(s){return o.onActionSelectApplicationSource(s)})("optionLoadingChange",function(s){return o.loading=s}),e.qZA(),e.TgZ(51,"mat-form-field",5)(52,"mat-label"),e._uU(53),e.qZA(),e.TgZ(54,"textarea",20,21),e.NdJ("ngModelChange",function(s){return o.dataModel.description=s}),e.qZA(),e.YNc(56,Yo,2,0,"mat-icon",13),e.TgZ(57,"mat-icon",14),e._uU(58,"mode_edit"),e.qZA(),e.TgZ(59,"mat-hint",9),e._uU(60),e.qZA(),e.YNc(61,Qo,5,4,"mat-error",10),e.qZA()(),e.TgZ(62,"div",22)(63,"div",23)(64,"small",24),e._uU(65),e.qZA(),e.TgZ(66,"small",25),e._uU(67),e.qZA()()(),e.TgZ(68,"div",26),e.YNc(69,Ho,9,7,"div",27),e.qZA()()),2&t){const n=e.MAs(8),s=e.MAs(18),a=e.MAs(29),m=e.MAs(38),_=e.MAs(55);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-EnumRecordStatus-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,56,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(3),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title),e.xp6(2),e.Q6J("ngIf",o.dataModel.title),e.xp6(4),e.hij("",s.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==s.errors?null:s.errors.required),e.xp6(3),e.Oqu(null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.titleResourceLanguage)("disabled",!(null!=o.fieldsInfo.titleResourceLanguage&&o.fieldsInfo.titleResourceLanguage.accessAddField)),e.xp6(2),e.Q6J("ngIf",o.dataModel.titleResourceLanguage),e.xp6(4),e.hij("",a.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(39,58,"TITLE.Status")),e.MGl("panelClass","ActionType-",o.dataModel.actionType,""),e.Q6J("ngModel",o.dataModel.actionType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumUserClaimGroupActionTypeResult.listItems),e.xp6(2),e.Oqu(e.lcZ(43,60,"TITLE.Select_type_of_content")),e.xp6(2),e.Q6J("ngIf",null==m.errors?null:m.errors.required),e.xp6(2),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkModuleId)("optionPlaceholder",o.translate.instant("TITLE.MODULE"))("optionDisabled",!(null!=o.fieldsInfo.linkModuleId&&o.fieldsInfo.linkModuleId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkSiteCategoryId)("optionPlaceholder",o.translate.instant("TITLE.SITE_CATEGORY"))("optionDisabled",!(null!=o.fieldsInfo.linkSiteCategoryId&&o.fieldsInfo.linkSiteCategoryId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserGroupId)("optionPlaceholder",o.translate.instant("TITLE.User_Group"))("optionDisabled",!(null!=o.fieldsInfo.linkUserGroupId&&o.fieldsInfo.linkUserGroupId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkApplicationId)("optionPlaceholder",o.translate.instant("TITLE.Application"))("optionDisabled",!(null!=o.fieldsInfo.linkApplicationId&&o.fieldsInfo.linkApplicationId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkApplicationSourceId)("optionPlaceholder",o.translate.instant("TITLE.Application_Source"))("optionDisabled",!(null!=o.fieldsInfo.linkApplicationSourceId&&o.fieldsInfo.linkApplicationSourceId.accessEditField)),e.xp6(3),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(2),e.Q6J("ngIf",o.dataModel.description),e.xp6(4),e.hij("",_.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==_.errors?null:_.errors.required),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[h.mk,h.sg,h.O5,p._Y,p.Fj,p.JJ,p.JL,p.Q7,p.wO,p.nD,p.On,p.F,Q.ey,f.KE,f.hX,f.bx,f.TO,f.R9,w.Hw,k.Nt,j.gD,Ue,we.z,Re.w,xe.g,O.O,g.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),i})();function Po(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"li")(1,"mat-checkbox",1),e.NdJ("change",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionSelect(s))}),e._uU(2),e.qZA()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.fieldsStatus.get(t.id))("disabled",o.optionDisabled),e.xp6(1),e.hij(" ",t.titleML," ")}}let Ko=(()=>{class i{constructor(t,o,n,s,a){(0,l.Z)(this,"coreEnumService",void 0),(0,l.Z)(this,"categoryService",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"dataModelSelect",[]),(0,l.Z)(this,"dataIdsSelect",[]),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"formControl",new p.NI),(0,l.Z)(this,"fieldsStatus",new Map),(0,l.Z)(this,"optionDisabled",!1),(0,l.Z)(this,"optionSelectFirstItem",!1),(0,l.Z)(this,"optionPlaceholder",""),(0,l.Z)(this,"optionChange",new e.vpe),(0,l.Z)(this,"optionSelectAdded",new e.vpe),(0,l.Z)(this,"optionSelectRemoved",new e.vpe),(0,l.Z)(this,"optionReload",()=>this.onActionReload()),this.coreEnumService=t,this.categoryService=o,this.cdr=n,this.translate=s,this.cmsToastrService=a,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll()}DataGetAll(){const t=new c.Hay;t.rowPerPage=50,t.accessLoad=!0;const o=this.constructor.name+"main";this.loading.Start(o),this.categoryService.ServiceGetAll(t).subscribe({next:n=>{n.isSuccess?(this.dataModelResult=n,this.dataModelResult.listItems.forEach(s=>this.fieldsStatus.set(s.id,!1)),this.dataIdsSelect.forEach(s=>this.fieldsStatus.set(s,!0)),this.dataModelResult.listItems.forEach(s=>{this.fieldsStatus.get(s.id)&&this.dataModelSelect.push(s)})):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(o)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(o)}})}onActionSelect(t){this.fieldsStatus.get(t.id)?(this.fieldsStatus.set(t.id,!1),this.optionSelectRemoved.emit(t),this.dataModelSelect.splice(this.dataModelSelect.indexOf(t),1)):(this.fieldsStatus.set(t.id,!0),this.optionSelectAdded.emit(t),this.dataModelSelect.push(t)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(t){typeof t==typeof Array(Number)?t.forEach(o=>{this.dataIdsSelect.push(o)}):typeof t==typeof Array(c.OoK)&&t.forEach(o=>{this.dataIdsSelect.push(o.id)}),this.dataIdsSelect.forEach(o=>this.fieldsStatus.set(o,!0))}onActionReload(){this.DataGetAll()}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(c.FLW),e.Y36(c.kf3),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(y.e))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimtype-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"checked","disabled","change"]],template:function(t,o){1&t&&(e.TgZ(0,"ul"),e.YNc(1,Po,3,3,"li",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.dataModelResult.listItems))},dependencies:[h.sg,ge.oG]})),i})();const jo=["vform"];function Bo(i,r){if(1&i&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function $o(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Wo(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.dataModel.title="")}),e._uU(1,"close"),e.qZA()}}function Vo(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function zo(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.dataModel.titleResourceLanguage="")}),e._uU(1,"close"),e.qZA()}}function Xo(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function ei(i,r){if(1&i&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function ti(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," ActionType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function oi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.dataModel.description="")}),e._uU(1,"close"),e.qZA()}}function ii(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function ni(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",28)(1,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",36),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",37),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormSubmit())}),e._UZ(6,"i",38),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let ke=(()=>{class i{constructor(t,o,n,s,a,m,_,S,v){(0,l.Z)(this,"data",void 0),(0,l.Z)(this,"dialogRef",void 0),(0,l.Z)(this,"coreEnumService",void 0),(0,l.Z)(this,"coreUserClaimGroupService",void 0),(0,l.Z)(this,"coreUserClaimGroupDetailService",void 0),(0,l.Z)(this,"publicHelper",void 0),(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"requestId",0),(0,l.Z)(this,"formGroup",void 0),(0,l.Z)(this,"fieldsInfo",new Map),(0,l.Z)(this,"selectFileTypeMainImage",["jpg","jpeg","png"]),(0,l.Z)(this,"fileManagerTree",void 0),(0,l.Z)(this,"appLanguage","fa"),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"dataModel",new c._wo),(0,l.Z)(this,"formInfo",new c.LEF),(0,l.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,l.Z)(this,"dataModelEnumUserClaimGroupActionTypeResult",new c.y$4),(0,l.Z)(this,"fileManagerOpenForm",!1),(0,l.Z)(this,"dataCoreUserClaimTypeModels",void 0),(0,l.Z)(this,"dataCoreClaimTypeIds",[]),(0,l.Z)(this,"dataCoreUserClaimGroupDetailModels",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=n,this.coreUserClaimGroupService=s,this.coreUserClaimGroupDetailService=a,this.publicHelper=m,this.cmsToastrService=_,this.cdr=S,this.translate=v,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=+t.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(!(this.requestId>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.getEnumRecordStatus(),this.getEnumUserClaimGroupActionType(),this.DataGetAllCoreUserClaimType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceEnumUserClaimGroupActionType().subscribe(t=>{this.dataModelEnumUserClaimGroupActionTypeResult=t})}getEnumRecordStatus(){var t=this;return(0,Y.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(this.requestId<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"DataGetOneContent";this.loading.Start(t,this.translate.instant("MESSAGE.Receive_categories_of_documents")),this.coreUserClaimGroupService.setAccessLoad(),this.coreUserClaimGroupService.setAccessDataType(c.MZK.Editor),this.coreUserClaimGroupService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.title,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.Registration_of categories_of_documents")),this.coreUserClaimGroupService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionSelectApplication(t){this.dataModel.linkApplicationId=!t||t.id<=0?null:t.id}onActionSelectApplicationSource(t){this.dataModel.linkApplicationSourceId=!t||t.id<=0?null:t.id}onActionSelectUserGroup(t){this.dataModel.linkUserGroupId=!t||t.id<=0?null:t.id}onActionSelectSiteCategory(t){this.dataModel.linkSiteCategoryId=null,this.dataModel.linkSiteCategoryId=!t||t.id<=0?null:t.id}onActionSelectModuleId(t){this.dataModel.linkModuleId=null,t&&!(t.id<=0)&&(this.dataModel.linkModuleId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,o){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{o.selectedIndex=t.previouslySelectedIndex},10)))}DataGetAllCoreUserClaimType(){if(this.requestId<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"DataGetAllCoreUserClaimType";this.loading.Start(t,this.translate.instant("MESSAGE.Receive_categories_of_documents"));const o=new c.Hay,n=new c.AO3;n.propertyName="LinkUserClaimGroupId",n.value=this.requestId,o.filters.push(n),this.coreUserClaimGroupDetailService.ServiceGetAll(o).subscribe({next:s=>{this.dataCoreUserClaimGroupDetailModels=s.listItems;const a=[];this.dataCoreUserClaimGroupDetailModels.forEach(m=>{a.push(m.linkUserClaimTypeId)}),this.dataCoreClaimTypeIds=a,s.isSuccess?this.formInfo.formAlert="":(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.loading.Stop(t)},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(t)}})}onActionSelectorUserCategorySelect(t){this.dataCoreUserClaimTypeModels=t}onActionSelectorUserCategorySelectAdded(t){const o=new c.KYZ;o.linkUserClaimTypeId=t.id,o.linkUserClaimGroupId=this.dataModel.id,o.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(o).subscribe({next:n=>{n.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_in_this_group_was_successful"),this.cmsToastrService.typeSuccessEdit()):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage))},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n)}})}onActionSelectorUserCategorySelectRemoved(t){const o=new c.KYZ;o.linkUserClaimTypeId=t.id,o.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(o).subscribe({next:n=>{n.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.Deletion_from_this_group_Was_Successful"),this.cmsToastrService.typeSuccessEdit()):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage))},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n)}})}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.WCx),e.Y36(c.Fq5),e.Y36(G.i),e.Y36(y.e),e.Y36(e.sBO),e.Y36(g.sK))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimgroup-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(jo,5),2&t){let n;e.iGM(n=e.CRH())&&(o.formGroup=n.first)}},decls:82,vars:75,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"selectionChange"],["stepper",""],["state","main",3,"label"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","ngModelChange"],["Title",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.titleML","type","text",3,"ngModel","disabled","ngModelChange"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","",3,"ngModel","placeholder","disabled","ngModelChange"],["TitleResourceLanguage",""],["name","dataModel.actionType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["ActionType","ngModel"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5",3,"ngModel","placeholder","ngModelChange"],["Description",""],[3,"optionSelectForce","optionDisabled","optionChange","optionSelectAdded","optionSelectRemoved"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-horizontal-stepper",5,6),e.NdJ("selectionChange",function(a){e.CHM(n);const m=e.MAs(7);return e.KtG(o.onStepClick(a,m))}),e.TgZ(8,"mat-step",7),e.ALo(9,"translate"),e.TgZ(10,"mat-form-field",8)(11,"mat-select",9,10),e.NdJ("ngModelChange",function(a){return o.dataModel.recordStatus=a}),e.YNc(13,Bo,2,2,"mat-option",11),e.qZA(),e.TgZ(14,"mat-hint",12),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,$o,5,3,"mat-error",13),e.qZA(),e.TgZ(18,"mat-form-field",8)(19,"mat-label"),e._uU(20),e.qZA(),e.TgZ(21,"input",14,15),e.NdJ("ngModelChange",function(a){return o.dataModel.title=a}),e.qZA(),e.YNc(23,Wo,2,0,"mat-icon",16),e.TgZ(24,"mat-icon",17),e._uU(25,"mode_edit"),e.qZA(),e.TgZ(26,"mat-hint",12),e._uU(27),e.qZA(),e.YNc(28,Vo,5,4,"mat-error",13),e.qZA(),e.TgZ(29,"mat-form-field",8)(30,"mat-label"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"input",18),e.NdJ("ngModelChange",function(a){return o.dataModel.titleML=a}),e.qZA()(),e.TgZ(34,"mat-form-field",8)(35,"mat-label"),e._uU(36),e.qZA(),e.TgZ(37,"input",19,20),e.NdJ("ngModelChange",function(a){return o.dataModel.titleResourceLanguage=a}),e.qZA(),e.YNc(39,zo,2,0,"mat-icon",16),e.TgZ(40,"mat-icon",17),e._uU(41,"mode_edit"),e.qZA(),e.TgZ(42,"mat-hint",12),e._uU(43),e.qZA(),e.YNc(44,Xo,5,4,"mat-error",13),e.qZA(),e.TgZ(45,"mat-form-field",8)(46,"mat-select",21,22),e.NdJ("ngModelChange",function(a){return o.dataModel.actionType=a}),e.ALo(48,"translate"),e.YNc(49,ei,2,2,"mat-option",11),e.qZA(),e.TgZ(50,"mat-hint",12),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.YNc(53,ti,5,3,"mat-error",13),e.qZA(),e._UZ(54,"hr"),e.TgZ(55,"app-cms-module-selector",23),e.NdJ("optionChange",function(a){return o.onActionSelectModuleId(a)})("optionLoadingChange",function(a){return o.loading=a}),e.qZA(),e.TgZ(56,"app-cms-sitecategory-selector",23),e.NdJ("optionChange",function(a){return o.onActionSelectSiteCategory(a)})("optionLoadingChange",function(a){return o.loading=a}),e.qZA(),e.TgZ(57,"app-cms-usergroup-selector",23),e.NdJ("optionChange",function(a){return o.onActionSelectUserGroup(a)})("optionLoadingChange",function(a){return o.loading=a}),e.qZA(),e.TgZ(58,"app-cms-application-selector",23),e.NdJ("optionChange",function(a){return o.onActionSelectApplication(a)})("optionLoadingChange",function(a){return o.loading=a}),e.qZA(),e.TgZ(59,"app-cms-application-selector",23),e.NdJ("optionChange",function(a){return o.onActionSelectApplicationSource(a)})("optionLoadingChange",function(a){return o.loading=a}),e.qZA(),e.TgZ(60,"mat-form-field",8)(61,"mat-label"),e._uU(62),e.qZA(),e.TgZ(63,"textarea",24,25),e.NdJ("ngModelChange",function(a){return o.dataModel.description=a}),e.qZA(),e.YNc(65,oi,2,0,"mat-icon",16),e.TgZ(66,"mat-icon",17),e._uU(67,"mode_edit"),e.qZA(),e.TgZ(68,"mat-hint",12),e._uU(69),e.qZA(),e.YNc(70,ii,5,4,"mat-error",13),e.qZA()(),e.TgZ(71,"mat-step",7),e.ALo(72,"translate"),e.TgZ(73,"app-core-userclaimtype-selectionlist",26),e.NdJ("optionChange",function(a){return o.onActionSelectorUserCategorySelect(a)})("optionSelectAdded",function(a){return o.onActionSelectorUserCategorySelectAdded(a)})("optionSelectRemoved",function(a){return o.onActionSelectorUserCategorySelectRemoved(a)}),e.qZA()()()(),e.TgZ(74,"div",27)(75,"div",28)(76,"small",29),e._uU(77),e.qZA(),e.TgZ(78,"small",30),e._uU(79),e.qZA()()(),e.TgZ(80,"div",31),e.YNc(81,ni,9,7,"div",32),e.qZA()()}if(2&t){const n=e.MAs(12),s=e.MAs(22),a=e.MAs(38),m=e.MAs(47),_=e.MAs(64);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(3),e.s9C("label",e.lcZ(9,63,"TITLE.Details_Claim")),e.xp6(3),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-EnumRecordStatus-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(16,65,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(3),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title),e.xp6(2),e.Q6J("ngIf",o.dataModel.title),e.xp6(4),e.hij("",s.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==s.errors?null:s.errors.required),e.xp6(3),e.hij(" ",e.lcZ(32,67,"TITLE.TitleML"),""),e.xp6(2),e.Q6J("ngModel",o.dataModel.titleML)("disabled",!0),e.xp6(3),e.Oqu(null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.titleResourceLanguage)("disabled",!(null!=o.fieldsInfo.titleResourceLanguage&&o.fieldsInfo.titleResourceLanguage.accessEditField)),e.xp6(2),e.Q6J("ngIf",o.dataModel.titleResourceLanguage),e.xp6(4),e.hij("",a.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(48,69,"TITLE.Status")),e.MGl("panelClass","ActionType-",o.dataModel.actionType,""),e.Q6J("ngModel",o.dataModel.actionType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumUserClaimGroupActionTypeResult.listItems),e.xp6(2),e.Oqu(e.lcZ(52,71,"TITLE.Select_type_of_content")),e.xp6(2),e.Q6J("ngIf",null==m.errors?null:m.errors.required),e.xp6(2),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkModuleId)("optionPlaceholder",o.translate.instant("TITLE.MODULE"))("optionDisabled",!(null!=o.fieldsInfo.linkModuleId&&o.fieldsInfo.linkModuleId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkSiteCategoryId)("optionPlaceholder",o.translate.instant("TITLE.SITE_CATEGORY"))("optionDisabled",!(null!=o.fieldsInfo.linkSiteCategoryId&&o.fieldsInfo.linkSiteCategoryId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserGroupId)("optionPlaceholder",o.translate.instant("TITLE.User_Group"))("optionDisabled",!(null!=o.fieldsInfo.linkUserGroupId&&o.fieldsInfo.linkUserGroupId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkApplicationId)("optionPlaceholder",o.translate.instant("TITLE.Application"))("optionDisabled",!(null!=o.fieldsInfo.linkApplicationId&&o.fieldsInfo.linkApplicationId.accessEditField)),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkApplicationSourceId)("optionPlaceholder",o.translate.instant("TITLE.Application_Source"))("optionDisabled",!(null!=o.fieldsInfo.linkApplicationSourceId&&o.fieldsInfo.linkApplicationSourceId.accessEditField)),e.xp6(3),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(2),e.Q6J("ngIf",o.dataModel.description),e.xp6(4),e.hij("",_.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==_.errors?null:_.errors.required),e.xp6(1),e.s9C("label",e.lcZ(72,73,"TITLE.Required_Documents")),e.xp6(2),e.Q6J("optionSelectForce",o.dataCoreClaimTypeIds)("optionDisabled",!1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[h.mk,h.sg,h.O5,p._Y,p.Fj,p.JJ,p.JL,p.Q7,p.wO,p.nD,p.On,p.F,Q.ey,f.KE,f.hX,f.bx,f.TO,f.R9,w.Hw,k.Nt,j.gD,oe.C0,oe.Vq,Ue,we.z,Re.w,xe.g,O.O,Ko,g.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),i})();function li(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionAdd())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function si(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionEdit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function ai(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionReload())}),e.TgZ(1,"mat-icon",12),e.ALo(2,"translate"),e._uU(3,"refresh"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.RELOAD")))}const Le=function(i){return{background:i}};function ri(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tree-node",13),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionSelect(s))}),e._UZ(1,"button",14),e._uU(2),e.qZA()}if(2&i){const t=r.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(2,Le,o.dataModelSelect.id>0&&o.dataModelSelect.id===t.id?"#d3d3da":"")),e.xp6(2),e.hij(" ",t.titleML," ")}}function ci(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-nested-tree-node")(1,"li")(2,"div",15),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionSelect(s))}),e.TgZ(3,"button",16),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionSelect(s))}),e.TgZ(4,"mat-icon",17),e._uU(5),e.qZA()(),e._uU(6),e.qZA(),e.TgZ(7,"ul"),e.GkF(8,18),e.qZA()()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(6,Le,o.dataModelSelect.id>0&&o.dataModelSelect.id===t.id?"#d3d3da":"")),e.xp6(1),e.uIk("aria-label","Toggle "+t.titleML),e.xp6(2),e.hij(" ",o.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.xp6(1),e.hij(" ",t.titleML," "),e.xp6(1),e.ekj("category-tree-invisible",!o.treeControl.isExpanded(t))}}let di=(()=>{class i{constructor(t,o,n,s,a,m,_){(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"coreEnumService",void 0),(0,l.Z)(this,"categoryService",void 0),(0,l.Z)(this,"dialog",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"tokenHelper",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"dataModelSelect",new c._wo),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"filterModel",new c.Hay),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"treeControl",new he.VY(S=>null)),(0,l.Z)(this,"dataSource",new I.WX),(0,l.Z)(this,"optionChange",new e.vpe),(0,l.Z)(this,"cmsApiStoreSubscribe",void 0),(0,l.Z)(this,"optionReload",()=>this.onActionReload()),(0,l.Z)(this,"hasChild",(S,v)=>!1),this.cmsToastrService=t,this.coreEnumService=o,this.categoryService=n,this.dialog=s,this.cdr=a,this.tokenHelper=m,this.translate=_,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(t){this.onActionSelectForce(t)}get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;const t=this.constructor.name+"main";this.loading.Start(t),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:o=>{o.isSuccess?(this.dataModelResult=o,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionReload(){this.onActionSelect(this.dataModelSelect&&this.dataModelSelect.id>0?this.dataModelSelect:null),this.dataModelSelect=new c._wo,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){this.dialog.open(Ge,{height:"90%",data:{}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id),0!==t)this.dialog.open(ke,{height:"90%",data:{id:t}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()});else{const n=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected");this.cmsToastrService.typeErrorSelected(n)}}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(y.e),e.Y36(c.FLW),e.Y36(c.WCx),e.Y36(A.uw),e.Y36(e.sBO),e.Y36(H.v),e.Y36(g.sK))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimgroup-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionLoading:"optionLoading",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:9,vars:6,consts:[[1,"ntk-cms-html-tree-header"],["type","button","class","btn btn-outline-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],[1,"ntk-cms-html-tree-body"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngStyle","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"ntk-cms-html-tree-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-warning",3,"click"],["type","button",1,"btn","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"ngStyle","click"],["mat-icon-button","","disabled",""],[1,"mat-tree-node",3,"ngStyle","click"],["mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,li,3,3,"button",1),e.YNc(2,si,3,3,"button",2),e.YNc(3,ai,4,3,"button",3),e.qZA(),e.TgZ(4,"div",4)(5,"mat-tree",5),e.YNc(6,ri,3,4,"mat-tree-node",6),e.YNc(7,ci,9,8,"mat-nested-tree-node",7),e.qZA()(),e._UZ(8,"div",8)),2&t&&(e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.dataModelSelect?null:o.dataModelSelect.id)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow),e.xp6(2),e.Q6J("dataSource",o.dataSource)("treeControl",o.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",o.hasChild))},dependencies:[h.O5,h.PC,P.RK,w.Hw,I.GZ,I.fQ,I.ah,I.eu,I.gi,I.uo,I.Ar,g.X$]})),i})();function pi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonNewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function mi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function ui(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function hi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",12),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function _i(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParentType())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function fi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParentGroup())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function gi(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",39),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Ci=function(i){return{display:i}};function Si(i,r){if(1&i&&(e.TgZ(0,"mat-cell",40),e.ALo(1,"statusCellClass"),e._UZ(2,"i",40),e.ALo(3,"statusIconClass"),e._UZ(4,"select",41),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,t.recordStatus)),e.xp6(2),e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(9,Ci,t.id===o.tableRowSelected.id?"":"none"))}}function Ti(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",39),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserClaimGroupId?null:t.fieldsInfo.linkUserClaimGroupId.fieldTitle," ")}}function Ai(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"cmstitle"),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.linkUserClaimGroupId,o.dataModelCoreUserClaimGroupResult.listItems)," ")}}function Mi(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",39),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserClaimTypeId?null:t.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function Zi(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"cmstitle"),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.linkUserClaimTypeId,o.dataModelCoreUserClaimTypeResult.listItems)," ")}}function bi(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",39),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.isRequired?null:t.fieldsInfo.isRequired.fieldTitle," ")}}function yi(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",40),e.ALo(2,"boolclass"),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.isRequired))}}function Ii(i,r){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Ei(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onActionbuttonEditRow(n))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function vi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onActionbuttonDeleteRow(n))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Ui(i,r){if(1&i&&(e.TgZ(0,"mat-cell",42)(1,"button",43)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,44),e.YNc(6,Ei,6,3,"button",45),e.YNc(7,vi,6,3,"button",45),e.qZA()()),2&i){const t=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow)}}function wi(i,r){1&i&&e._UZ(0,"mat-header-row")}const Ri=function(i){return{background:i}};function xi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-row",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionTableRowSelect(s))}),e.qZA()}if(2&i){const t=r.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,Ri,t.linkUserClaimGroupId===o.tableRowSelected.linkUserClaimGroupId&&t.linkUserClaimTypeId===o.tableRowSelected.linkUserClaimTypeId?"#d3d3da":""))}}const Gi=function(){return[5,10,20,100]};let pe=(()=>{class i{constructor(t,o,n,s,a,m,_,S,v,L,K,b){if((0,l.Z)(this,"contentService",void 0),(0,l.Z)(this,"publicHelper",void 0),(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"cmsConfirmationDialogService",void 0),(0,l.Z)(this,"activatedRoute",void 0),(0,l.Z)(this,"coreUserClaimTypeService",void 0),(0,l.Z)(this,"coreUserClaimGroupService",void 0),(0,l.Z)(this,"router",void 0),(0,l.Z)(this,"tokenHelper",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"dialog",void 0),(0,l.Z)(this,"requestLinkUserClaimGroupId",0),(0,l.Z)(this,"requestLinkUserClaimTypeId",0),(0,l.Z)(this,"comment",void 0),(0,l.Z)(this,"author",void 0),(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"flag",!1),(0,l.Z)(this,"tableContentSelected",[]),(0,l.Z)(this,"filteModelContent",new c.Hay),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"optionsSearch",new T.dj),(0,l.Z)(this,"optionsStatist",new C.TV),(0,l.Z)(this,"tokenInfo",new c.OdC),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"tableRowsSelected",[]),(0,l.Z)(this,"tableRowSelected",new c.KYZ),(0,l.Z)(this,"tableSource",new u.by),(0,l.Z)(this,"fieldsInfo",new Map),(0,l.Z)(this,"categoryModelSelected",new c._wo),(0,l.Z)(this,"dataModelCoreUserClaimTypeResult",new c.y$4),(0,l.Z)(this,"dataModelCoreUserClaimGroupResult",new c.y$4),(0,l.Z)(this,"tabledisplayedColumns",[]),(0,l.Z)(this,"tabledisplayedColumnsSource",["RecordStatus","LinkUserClaimGroupId","LinkUserClaimTypeId","IsRequired","Action"]),(0,l.Z)(this,"expandedElement",void 0),(0,l.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=n,this.cmsConfirmationDialogService=s,this.activatedRoute=a,this.coreUserClaimTypeService=m,this.coreUserClaimGroupService=_,this.router=S,this.tokenHelper=v,this.cdr=L,this.translate=K,this.dialog=b,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkUserClaimGroupId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimGroupId")),this.optionsSearch.parentMethods={onSubmit:N=>this.onSubmitOptionsSearch(N)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=c.oCf.Descending,this.requestLinkUserClaimTypeId>0){const N=new c.AO3;N.propertyName="LinkUserClaimTypeId",N.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(N)}if(this.requestLinkUserClaimGroupId>0){const N=new c.AO3;N.propertyName="LinkUserClaimGroupId",N.value=this.requestLinkUserClaimGroupId,this.filteModelContent.filters.push(N)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getUserClaimType(),this.getUserClaimGroup()}getUserClaimType(){const t=new c.Hay;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe(o=>{this.dataModelCoreUserClaimTypeResult=o})}getUserClaimGroup(){const t=new c.Hay;t.rowPerPage=100,this.coreUserClaimGroupService.ServiceGetAll(t).subscribe(o=>{this.dataModelCoreUserClaimGroupResult=o})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.KYZ);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){const n=new c.AO3;n.propertyName="LinkUserClaimHeaderId",n.value=this.categoryModelSelected.id,o.filters.push(n)}this.contentService.ServiceGetAllEditor(o).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oCf.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(Ao,{height:"90%",data:{linkUserClaimGroupId:this.requestLinkUserClaimGroupId,linkUserClaimTypeId:this.requestLinkUserClaimTypeId}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.linkUserClaimGroupId&&0!==t.linkUserClaimGroupId&&t.linkUserClaimTypeId&&0!==t.linkUserClaimTypeId?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Eo,{height:"90%",data:{model:this.tableRowSelected}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionSelectorSelect(t){var o=this.filteModelContent.sortColumn,n=this.filteModelContent.sortType;this.filteModelContent=new c.Hay,this.filteModelContent.sortColumn=o,this.filteModelContent.sortType=n,this.categoryModelSelected=t,this.DataGetAll()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id){const s=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(s)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),n=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,n).then(s=>{if(s){const a=this.constructor.name+"main";this.loading.Start(a),this.contentService.ServiceDeleteEntity(this.tableRowSelected).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(a)},error:m=>{this.cmsToastrService.typeError(m),this.loading.Stop(a)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(o)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(o)}});const n=JSON.parse(JSON.stringify(this.filteModelContent)),s=new c.AO3;s.propertyName="RecordStatus",s.value=c.FVU.Available,n.filters.push(s),this.contentService.ServiceGetCount(n).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(o)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(o)}})}onActionbuttonExport(){this.dialog.open($.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(B.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(n=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t}onActionBackToParentType(){this.router.navigate(["/core/userclaim/type/"])}onActionBackToParentGroup(){this.router.navigate(["/core/userclaim/group/"])}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(c.Fq5),e.Y36(G.i),e.Y36(y.e),e.Y36(U.s),e.Y36(E.gz),e.Y36(c.kf3),e.Y36(c.WCx),e.Y36(E.F0),e.Y36(H.v),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(A.uw))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimgroupdetail-list"]],decls:53,vars:31,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-primary","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","RecordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimGroupId"],[4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsRequired"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-primary",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e.TgZ(2,"app-core-userclaimgroup-tree",2),e.NdJ("optionChange",function(a){return o.onActionSelectorSelect(a)}),e.qZA(),e.BQk(),e.GkF(3,3),e.ynx(4,4),e.YNc(5,pi,3,3,"button",5),e.YNc(6,mi,3,3,"button",6),e.YNc(7,ui,3,3,"button",7),e.TgZ(8,"a",8)(9,"mat-slide-toggle",9),e.NdJ("ngModelChange",function(a){return o.optionsSearch.data.show=a}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",8)(13,"mat-slide-toggle",10),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",11),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",12),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,hi,4,3,"button",13),e.TgZ(21,"button",11),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",12),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,_i,3,3,"button",14),e.YNc(26,fi,3,3,"button",14),e.BQk(),e.ynx(27,15),e.TgZ(28,"app-cms-search-list",16),e.NdJ("optionsChange",function(a){return o.optionsSearch=a}),e.qZA(),e.TgZ(29,"app-cms-statist-list",16),e.NdJ("optionsChange",function(a){return o.optionsStatist=a}),e.qZA(),e.BQk(),e.ynx(30,17),e.TgZ(31,"mat-table",18,19),e.NdJ("matSortChange",function(){e.CHM(n);const a=e.MAs(32);return e.KtG(o.onTableSortData(a))}),e.ynx(33,20),e.YNc(34,gi,2,1,"mat-header-cell",21),e.YNc(35,Si,5,11,"mat-cell",22),e.BQk(),e.ynx(36,23),e.YNc(37,Ti,2,1,"mat-header-cell",21),e.YNc(38,Ai,3,4,"mat-cell",24),e.BQk(),e.ynx(39,25),e.YNc(40,Mi,2,1,"mat-header-cell",21),e.YNc(41,Zi,3,4,"mat-cell",24),e.BQk(),e.ynx(42,26),e.YNc(43,bi,2,1,"mat-header-cell",21),e.YNc(44,yi,3,3,"mat-cell",24),e.BQk(),e.ynx(45,27),e.YNc(46,Ii,3,3,"mat-header-cell",28),e.YNc(47,Ui,8,3,"mat-cell",29),e.BQk(),e.YNc(48,wi,1,0,"mat-header-row",30),e.YNc(49,xi,1,3,"mat-row",31),e.qZA(),e.BQk(),e.ynx(50,32),e.TgZ(51,"mat-paginator",33,34),e.NdJ("page",function(a){return o.onTablePageingData(a)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",0===o.requestLinkUserClaimGroupId),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&o.tableRowSelected.linkUserClaimGroupId>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&o.tableRowSelected.linkUserClaimGroupId>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,22,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,24,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,26,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,28,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkUserClaimTypeId>0),e.xp6(1),e.Q6J("ngIf",o.requestLinkUserClaimGroupId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(17),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(30,Gi)))},dependencies:[h.mk,h.O5,h.PC,p.JJ,p.On,P.RK,w.Hw,k.Nt,R.VK,R.OP,R.p6,W.NW,J.Rr,F.YE,F.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,V.y,z.q,X.Z,ee.G,di,g.X$,de.V,ie.G,ne.Y,ce.r],encapsulation:2})),i})();function ki(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonNewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function Li(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function Ni(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function qi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function Di(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Oi(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Ji(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Fi=function(i){return{display:i}};function Yi(i,r){if(1&i&&(e.TgZ(0,"mat-cell",38),e.ALo(1,"statusCellClass"),e._UZ(2,"i",38),e.ALo(3,"statusIconClass"),e._UZ(4,"select",39),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,t.recordStatus)),e.xp6(2),e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(9,Fi,t.id===o.tableRowSelected.id?"":"none"))}}function Qi(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," ")}}function Hi(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.titleML," ")}}function Pi(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteCategoryId?null:t.fieldsInfo.linkSiteCategoryId.fieldTitle," ")}}function Ki(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"cmstitle"),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.linkSiteCategoryId,o.dataModelCoreSiteCategoryResult.listItems)," ")}}function ji(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkModuleId?null:t.fieldsInfo.linkModuleId.fieldTitle," ")}}function Bi(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"cmstitle"),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.linkModuleId,o.dataModelCoreModuleResult.listItems)," ")}}function $i(i,r){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Wi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onActionbuttonEditRow(n))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Vi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onActionbuttonDeleteRow(n))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function zi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-cell",40)(1,"button",41)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,42),e.YNc(6,Wi,6,3,"button",43),e.YNc(7,Vi,6,3,"button",43),e.TgZ(8,"button",44),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionbuttonDetailList(s))}),e.TgZ(9,"mat-icon"),e._uU(10,"view_module"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&i){const t=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,4,"ACTION.Components"))}}function Xi(i,r){1&i&&e._UZ(0,"mat-header-row")}const en=function(i){return{background:i}};function tn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-row",45),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionTableRowSelect(s))}),e.qZA()}if(2&i){const t=r.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,en,t.id===o.tableRowSelected.id?"#d3d3da":""))}}const on=function(){return[5,10,20,100]};let nn=(()=>{class i{constructor(t,o,n,s,a,m,_,S,v,L,K){(0,l.Z)(this,"contentService",void 0),(0,l.Z)(this,"publicHelper",void 0),(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"cmsConfirmationDialogService",void 0),(0,l.Z)(this,"coreModuleService",void 0),(0,l.Z)(this,"coreSiteCategoryService",void 0),(0,l.Z)(this,"router",void 0),(0,l.Z)(this,"tokenHelper",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"dialog",void 0),(0,l.Z)(this,"comment",void 0),(0,l.Z)(this,"author",void 0),(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"flag",!1),(0,l.Z)(this,"tableContentSelected",[]),(0,l.Z)(this,"filteModelContent",new c.Hay),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"dataModelCoreModuleResult",new c.y$4),(0,l.Z)(this,"dataModelCoreSiteCategoryResult",new c.y$4),(0,l.Z)(this,"optionsSearch",new T.dj),(0,l.Z)(this,"optionsStatist",new C.TV),(0,l.Z)(this,"tokenInfo",new c.OdC),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"tableRowsSelected",[]),(0,l.Z)(this,"tableRowSelected",new c._wo),(0,l.Z)(this,"tableSource",new u.by),(0,l.Z)(this,"fieldsInfo",new Map),(0,l.Z)(this,"tabledisplayedColumns",[]),(0,l.Z)(this,"tabledisplayedColumnsSource",["Id","RecordStatus","Title","LinkModuleId","LinkSiteCategoryId","Action"]),(0,l.Z)(this,"expandedElement",void 0),(0,l.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=n,this.cmsConfirmationDialogService=s,this.coreModuleService=a,this.coreSiteCategoryService=m,this.router=_,this.tokenHelper=S,this.cdr=v,this.translate=L,this.dialog=K,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.optionsSearch.parentMethods={onSubmit:b=>this.onSubmitOptionsSearch(b)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=c.oCf.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getModule(),this.getSiteCategory()}getModule(){const t=new c.Hay;t.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(t).subscribe(o=>{this.dataModelCoreModuleResult=o})}getSiteCategory(){const t=new c.Hay;t.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(t).subscribe(o=>{this.dataModelCoreSiteCategoryResult=o})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c._wo);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oCf.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(Ge,{height:"90%",data:{}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ke,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id){const s=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(s)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),n=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.title+" ) ";this.cmsConfirmationDialogService.confirm(o,n).then(s=>{if(s){const a=this.constructor.name+"main";this.loading.Start(a),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(a)},error:m=>{this.cmsToastrService.typeError(m),this.loading.Stop(a)}})}}).catch(()=>{})}onActionbuttonDetailList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimGroupId",this.tableRowSelected.id]);else{const o=this.translate.instant("MESSAGE.no_row_selected_to_display");this.cmsToastrService.typeErrorSelected(o)}}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(o)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(o)}});const n=JSON.parse(JSON.stringify(this.filteModelContent)),s=new c.AO3;s.propertyName="RecordStatus",s.value=c.FVU.Available,n.filters.push(s),this.contentService.ServiceGetCount(n).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(o)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(o)}})}onActionbuttonSiteList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow?this.router.navigate(["/core/site/list/LinkUserClaimGroupId",this.tableRowSelected.id]):this.cmsToastrService.typeErrorSelected();else{const o=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(o)}}onActionbuttonExport(){this.dialog.open($.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(B.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:this.tableRowSelected.title}}).afterClosed().subscribe(n=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(c.WCx),e.Y36(G.i),e.Y36(y.e),e.Y36(U.s),e.Y36(c.EAm),e.Y36(c.PwI),e.Y36(E.F0),e.Y36(H.v),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(A.uw))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimgroup-list"]],decls:54,vars:29,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-primary","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkSiteCategoryId"],["matColumnDef","LinkModuleId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-primary",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,ki,3,3,"button",4),e.YNc(6,Li,3,3,"button",5),e.YNc(7,Ni,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(a){return o.optionsSearch.data.show=a}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,qi,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.BQk(),e.ynx(25,13),e.TgZ(26,"app-cms-search-list",14),e.NdJ("optionsChange",function(a){return o.optionsSearch=a}),e.qZA(),e.TgZ(27,"app-cms-statist-list",14),e.NdJ("optionsChange",function(a){return o.optionsStatist=a}),e.qZA(),e.BQk(),e.ynx(28,15),e.TgZ(29,"mat-table",16,17),e.NdJ("matSortChange",function(){e.CHM(n);const a=e.MAs(30);return e.KtG(o.onTableSortData(a))}),e.ynx(31,18),e.YNc(32,Di,2,1,"mat-header-cell",19),e.YNc(33,Oi,2,1,"mat-cell",20),e.BQk(),e.ynx(34,21),e.YNc(35,Ji,2,1,"mat-header-cell",19),e.YNc(36,Yi,5,11,"mat-cell",22),e.BQk(),e.ynx(37,23),e.YNc(38,Qi,2,1,"mat-header-cell",19),e.YNc(39,Hi,2,1,"mat-cell",20),e.BQk(),e.ynx(40,24),e.YNc(41,Pi,2,1,"mat-header-cell",19),e.YNc(42,Ki,3,4,"mat-cell",20),e.BQk(),e.ynx(43,25),e.YNc(44,ji,2,1,"mat-header-cell",19),e.YNc(45,Bi,3,4,"mat-cell",20),e.BQk(),e.ynx(46,26),e.YNc(47,$i,3,3,"mat-header-cell",27),e.YNc(48,zi,14,6,"mat-cell",28),e.BQk(),e.YNc(49,Xi,1,0,"mat-header-row",29),e.YNc(50,tn,1,3,"mat-row",30),e.qZA(),e.BQk(),e.ynx(51,31),e.TgZ(52,"mat-paginator",32,33),e.NdJ("page",function(a){return o.onTablePageingData(a)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&o.tableRowSelected.id>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&o.tableRowSelected.id>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,20,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,22,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,24,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,26,"ACTION.RELOAD")),e.xp6(4),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(20),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(28,on)))},dependencies:[h.mk,h.O5,h.PC,p.JJ,p.On,P.RK,w.Hw,k.Nt,R.VK,R.OP,R.p6,W.NW,J.Rr,F.YE,F.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,V.y,z.q,X.Z,ee.G,g.X$,de.V,ie.G,ne.Y],encapsulation:2})),i})();var ln=d(99654);function sn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonNewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function an(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function rn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function cn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function dn(i,r){1&i&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.PICTURE")," "))}function pn(i,r){if(1&i&&(e._UZ(0,"img",39),e.ALo(1,"cmsthumbnail")),2&i){const t=e.oxw().$implicit;e.s9C("src",e.lcZ(1,1,t.linkMainImageIdSrc),e.LSH)}}function mn(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e.YNc(1,pn,2,3,"img",38),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",(null==t||null==t.linkMainImageIdSrc?null:t.linkMainImageIdSrc.length)>0)}}function un(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function hn(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function _n(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const fn=function(i){return{display:i}};function gn(i,r){if(1&i&&(e.TgZ(0,"mat-cell",40),e.ALo(1,"statusCellClass"),e._UZ(2,"i",40),e.ALo(3,"statusIconClass"),e._UZ(4,"select",41),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,t.recordStatus)),e.xp6(2),e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(9,fn,t.id===o.tableRowSelected.id?"":"none"))}}function Cn(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," ")}}function Sn(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.titleML," ")}}function Tn(i,r){if(1&i&&(e.TgZ(0,"mat-header-cell",37),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.kind?null:t.fieldsInfo.kind.fieldTitle," ")}}function An(i,r){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.kind,o.dataModelEnumUserClaimKindsResult.listItems)," ")}}function Mn(i,r){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Zn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onActionbuttonEditRow(n))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function bn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onActionbuttonDeleteRow(n))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function yn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-cell",42)(1,"button",43)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,44),e.YNc(6,Zn,6,3,"button",45),e.YNc(7,bn,6,3,"button",45),e.TgZ(8,"button",46),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionbuttonDetailList(s))}),e.TgZ(9,"mat-icon"),e._uU(10,"view_module"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&i){const t=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,4,"ACTION.USED_ITEMS"))}}function In(i,r){1&i&&e._UZ(0,"mat-header-row")}const En=function(i){return{background:i}};function vn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-row",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionTableRowSelect(s))}),e.qZA()}if(2&i){const t=r.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,En,t.id===o.tableRowSelected.id?"#d3d3da":""))}}const Un=function(){return[5,10,20,100]},wn=[{path:"",children:[{path:"group",component:nn},{path:"groupdetail",component:pe},{path:"groupdetail/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:pe},{path:"groupdetail/LinkUserClaimGroupId/:LinkUserClaimGroupId",component:pe},{path:"type",component:(()=>{class i{constructor(t,o,n,s,a,m,_,S,v,L){(0,l.Z)(this,"contentService",void 0),(0,l.Z)(this,"publicHelper",void 0),(0,l.Z)(this,"cmsToastrService",void 0),(0,l.Z)(this,"cmsConfirmationDialogService",void 0),(0,l.Z)(this,"coreEnumService",void 0),(0,l.Z)(this,"router",void 0),(0,l.Z)(this,"tokenHelper",void 0),(0,l.Z)(this,"cdr",void 0),(0,l.Z)(this,"translate",void 0),(0,l.Z)(this,"dialog",void 0),(0,l.Z)(this,"comment",void 0),(0,l.Z)(this,"author",void 0),(0,l.Z)(this,"dataSource",void 0),(0,l.Z)(this,"flag",!1),(0,l.Z)(this,"tableContentSelected",[]),(0,l.Z)(this,"filteModelContent",new c.Hay),(0,l.Z)(this,"dataModelResult",new c.y$4),(0,l.Z)(this,"dataModelCoreUserGroupResult",new c.y$4),(0,l.Z)(this,"dataModelCoreSiteCategoryResult",new c.y$4),(0,l.Z)(this,"optionsSearch",new T.dj),(0,l.Z)(this,"optionsStatist",new C.TV),(0,l.Z)(this,"tokenInfo",new c.OdC),(0,l.Z)(this,"loading",new Z.O),(0,l.Z)(this,"tableRowsSelected",[]),(0,l.Z)(this,"tableRowSelected",new c.OoK),(0,l.Z)(this,"tableSource",new u.by),(0,l.Z)(this,"fieldsInfo",new Map),(0,l.Z)(this,"dataModelEnumUserClaimKindsResult",new c.y$4),(0,l.Z)(this,"tabledisplayedColumns",[]),(0,l.Z)(this,"tabledisplayedColumnsSource",["LinkMainImageIdSrc","Id","RecordStatus","Title","Kind","Action"]),(0,l.Z)(this,"expandedElement",void 0),(0,l.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=n,this.cmsConfirmationDialogService=s,this.coreEnumService=a,this.router=m,this.tokenHelper=_,this.cdr=S,this.translate=v,this.dialog=L,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.optionsSearch.parentMethods={onSubmit:K=>this.onSubmitOptionsSearch(K)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=c.oCf.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceEnumUserClaimKinds().subscribe(t=>{this.dataModelEnumUserClaimKindsResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.OoK);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oCf.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oCf.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(fe,{height:"90%",data:{}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Ce,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id){const s=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(s)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),n=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.title+" ) ";this.cmsConfirmationDialogService.confirm(o,n).then(s=>{if(s){const a=this.constructor.name+"main";this.loading.Start(a),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(a)},error:m=>{this.cmsToastrService.typeError(m),this.loading.Stop(a)}})}}).catch(()=>{})}onActionbuttonDetailList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimTypeId",this.tableRowSelected.id]);else{const o=this.translate.instant("MESSAGE.no_row_selected_to_display");this.cmsToastrService.typeErrorSelected(o)}}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(o)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(o)}});const n=JSON.parse(JSON.stringify(this.filteModelContent)),s=new c.AO3;s.propertyName="RecordStatus",s.value=c.FVU.Available,n.filters.push(s),this.contentService.ServiceGetCount(n).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(o)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(o)}})}onActionbuttonModuleList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow?this.router.navigate(["/core/sitecategorymodule/LinkCmsUserClaimTypeId",this.tableRowSelected.id]):this.cmsToastrService.typeErrorSelected();else{const o=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(o)}}onActionbuttonSiteList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow?this.router.navigate(["/core/site/list/LinkUserClaimTypeId",this.tableRowSelected.id]):this.cmsToastrService.typeErrorSelected();else{const o=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(o)}}onActionbuttonExport(){this.dialog.open($.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(B.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:this.tableRowSelected.title}}).afterClosed().subscribe(n=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t}}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)(e.Y36(c.kf3),e.Y36(G.i),e.Y36(y.e),e.Y36(U.s),e.Y36(c.FLW),e.Y36(E.F0),e.Y36(H.v),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(A.uw))}),(0,l.Z)(i,"\u0275cmp",e.Xpm({type:i,selectors:[["app-core-userclaimtype-list"]],decls:54,vars:29,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-primary","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Kind"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-primary",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,sn,3,3,"button",4),e.YNc(6,an,3,3,"button",5),e.YNc(7,rn,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(a){return o.optionsSearch.data.show=a}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,cn,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.BQk(),e.ynx(25,13),e.TgZ(26,"app-cms-search-list",14),e.NdJ("optionsChange",function(a){return o.optionsSearch=a}),e.qZA(),e.TgZ(27,"app-cms-statist-list",14),e.NdJ("optionsChange",function(a){return o.optionsStatist=a}),e.qZA(),e.BQk(),e.ynx(28,15),e.TgZ(29,"mat-table",16,17),e.NdJ("matSortChange",function(){e.CHM(n);const a=e.MAs(30);return e.KtG(o.onTableSortData(a))}),e.ynx(31,18),e.YNc(32,dn,3,3,"mat-header-cell",19),e.YNc(33,mn,2,1,"mat-cell",20),e.BQk(),e.ynx(34,21),e.YNc(35,un,2,1,"mat-header-cell",19),e.YNc(36,hn,2,1,"mat-cell",20),e.BQk(),e.ynx(37,22),e.YNc(38,_n,2,1,"mat-header-cell",19),e.YNc(39,gn,5,11,"mat-cell",23),e.BQk(),e.ynx(40,24),e.YNc(41,Cn,2,1,"mat-header-cell",19),e.YNc(42,Sn,2,1,"mat-cell",20),e.BQk(),e.ynx(43,25),e.YNc(44,Tn,2,1,"mat-header-cell",19),e.YNc(45,An,3,4,"mat-cell",20),e.BQk(),e.ynx(46,26),e.YNc(47,Mn,3,3,"mat-header-cell",27),e.YNc(48,yn,14,6,"mat-cell",28),e.BQk(),e.YNc(49,In,1,0,"mat-header-row",29),e.YNc(50,vn,1,3,"mat-row",30),e.qZA(),e.BQk(),e.ynx(51,31),e.TgZ(52,"mat-paginator",32,33),e.NdJ("page",function(a){return o.onTablePageingData(a)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&o.tableRowSelected.id>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&o.tableRowSelected.id>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,20,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,22,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,24,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,26,"ACTION.RELOAD")),e.xp6(4),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(20),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(28,Un)))},dependencies:[h.mk,h.O5,h.PC,p.JJ,p.On,P.RK,w.Hw,k.Nt,R.VK,R.OP,R.p6,W.NW,J.Rr,F.YE,F.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,V.y,z.q,X.Z,ee.G,g.X$,ln.B,te.v,ie.G,ne.Y],encapsulation:2})),i})()},{path:"content",component:le},{path:"content/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:le},{path:"content/LinkSiteId/:LinkSiteId",component:le},{path:"content/LinkUserId/:LinkUserId",component:le},{path:"checklist",component:ue},{path:"checklist/:LinkSiteId/:LinkUserId",component:ue}]}];let Rn=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({imports:[E.Bz.forChild(wn),E.Bz]})),i})(),xn=(()=>{class i{}return(0,l.Z)(i,"\u0275fac",function(t){return new(t||i)}),(0,l.Z)(i,"\u0275mod",e.oAB({type:i})),(0,l.Z)(i,"\u0275inj",e.cJS({providers:[c.EAm,c.FLW,c.qlG,c.kf3,c.WCx,c.Fq5,U.s],imports:[h.ez,p.u5,Rn,p.UX.withConfig({warnOnNgModelWithFormControl:"never"}),M.m.forRoot(),x.UM]})),i})()},39084:(ae,q,d)=>{d.d(q,{Y:()=>U});var l=d(86889),h=d(87241),p=d(27969),c=d(64537),x=d(34511);let U=(()=>{class M{constructor(u){(0,l.Z)(this,"service",void 0),this.service=u}transform(u){return!u||u<=0?new h.y:this.service.ServiceGetOneById(u).pipe((0,p.U)(T=>{var C="";return T.isSuccess&&(T.item.title&&T.item.title.length>0&&(C=T.item.title),T.item.id&&T.item.id>0&&(C.length>0&&(C+=" | "),C+=T.item.id),T.item.domain&&T.item.domain.length>0&&T.item.subDomain&&T.item.subDomain.length>0?(C.length>0&&(C+=" | "),C=C+T.item.subDomain+"."+T.item.domain):T.item.domain&&T.item.domain.length>0&&(C.length>0&&(C+=" | "),C+=T.item.domain)),0===C.length&&(C=u.toString()),C},T=>u.toString()))}}return(0,l.Z)(M,"\u0275fac",function(u){return new(u||M)(c.Y36(x._0e,16))}),(0,l.Z)(M,"\u0275pipe",c.Yjl({name:"cmssiteinfo",type:M,pure:!0})),M})()},99654:(ae,q,d)=>{d.d(q,{B:()=>p});var l=d(86889),h=d(64537);let p=(()=>{class c{transform(U,M){if(!M||0===M.length)return"";const E=M.find(u=>u.key===U||u.value===U);return E?E.description:""}}return(0,l.Z)(c,"\u0275fac",function(U){return new(U||c)}),(0,l.Z)(c,"\u0275pipe",h.Yjl({name:"enums",type:c,pure:!0})),c})()},25897:(ae,q,d)=>{d.d(q,{Y:()=>c});var l=d(86889),h=d(64537),p=d(5998);let c=(()=>{class x{constructor(M){(0,l.Z)(this,"sanitizer",void 0),this.sanitizer=M}transform(M){return"cms-EnumRecordStatus-cell-"+M}}return(0,l.Z)(x,"\u0275fac",function(M){return new(M||x)(h.Y36(p.H7,16))}),(0,l.Z)(x,"\u0275pipe",h.Yjl({name:"statusCellClass",type:x,pure:!0})),x})()}}]);