"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[6311],{39084:(x,T,a)=>{a.d(T,{Y:()=>L});var t=a(87241),e=a(27969),v=a(64537),s=a(34511);let L=(()=>{class I{service;constructor(C){this.service=C}transform(C){return!C||C<=0?new t.y:this.service.ServiceGetOneById(C,1e6).pipe((0,e.U)(h=>{var f="";return h.isSuccess&&(h.item.title&&h.item.title.length>0&&(f=h.item.title),h.item.id&&h.item.id>0&&(f.length>0&&(f+=" | "),f+=h.item.id),h.item.domain&&h.item.domain.length>0&&h.item.subDomain&&h.item.subDomain.length>0?(f.length>0&&(f+=" | "),f=f+h.item.subDomain+"."+h.item.domain):h.item.domain&&h.item.domain.length>0&&(f.length>0&&(f+=" | "),f+=h.item.domain)),0===f.length&&(f=C.toString()),f},h=>C.toString()))}static \u0275fac=function(h){return new(h||I)(v.Y36(s._0e,16))};static \u0275pipe=v.Yjl({name:"cmssiteinfo",type:I,pure:!0})}return I})()},42370:(x,T,a)=>{a.d(T,{v:()=>y});var t=a(64537),e=a(88692),v=a(56707);let s=(()=>{class l{transform(r,p){if(!r)return[];let P=Object.keys(r);return P=P.filter(D=>D&&D.length>0&&D.toLowerCase().indexOf("antiinjection")<0),p&&p.size>0&&(P=P.filter(D=>D&&D.length>0&&p.has(D))),P}static \u0275fac=function(p){return new(p||l)};static \u0275pipe=t.Yjl({name:"keys",type:l,pure:!0})}return l})();function L(l,g){1&l&&(t.TgZ(0,"div",4)(1,"div",5),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",5),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"div",6),t.qZA()),2&l&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"TITLE.parameter")),t.xp6(3),t.Oqu(t.lcZ(6,4,"TITLE.Values")))}function I(l,g){if(1&l&&(t.TgZ(0,"div",7)(1,"div",5),t._uU(2),t.qZA(),t.TgZ(3,"div",5),t._uU(4),t.qZA(),t._UZ(5,"div",8),t.qZA()),2&l){const r=g.$implicit,p=t.oxw(2);t.xp6(2),t.Oqu(p.optionFields&&p.optionFields.size>0?p.optionFields.get(r):r),t.xp6(2),t.Oqu(p.dataModel[r])}}function R(l,g){if(1&l&&(t.TgZ(0,"div",1),t.YNc(1,L,8,6,"div",2),t.YNc(2,I,6,2,"div",3),t.ALo(3,"keys"),t.qZA()),2&l){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.optionViewHead),t.xp6(1),t.Q6J("ngForOf",t.xi3(3,2,r.dataModel,r.optionFields))}}function C(l,g){if(1&l&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&l){const r=g.$implicit,p=t.oxw(3);t.xp6(1),t.Oqu(p.optionFields&&p.optionFields.size>0?p.optionFields.get(r):r)}}function h(l,g){if(1&l&&(t.TgZ(0,"div",4),t.YNc(1,C,2,1,"div",9),t.ALo(2,"keys"),t._UZ(3,"div",6),t.qZA()),2&l){const r=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,r.dataModel[0],r.optionFields))}}function f(l,g){if(1&l&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&l){const r=g.$implicit,p=t.oxw().$implicit;t.xp6(1),t.Oqu(p[r])}}function A(l,g){if(1&l&&(t.TgZ(0,"div",7),t.YNc(1,f,2,1,"div",9),t.ALo(2,"keys"),t._UZ(3,"div",8),t.qZA()),2&l){const r=g.$implicit,p=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,r,p.optionFields))}}function U(l,g){if(1&l&&(t.TgZ(0,"div",1),t.YNc(1,h,4,4,"div",2),t.YNc(2,A,4,4,"div",3),t.qZA()),2&l){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.optionViewHead),t.xp6(1),t.Q6J("ngForOf",r.dataModel)}}function c(l,g){if(1&l&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&l){const r=g.$implicit,p=t.oxw(3);t.xp6(1),t.Oqu(p.optionFields&&p.optionFields.size>0?p.optionFields.get(r):r)}}function m(l,g){if(1&l&&(t.TgZ(0,"div",4),t.YNc(1,c,2,1,"div",9),t.ALo(2,"keys"),t._UZ(3,"div",6),t.qZA()),2&l){const r=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,r.dataModel[0],r.optionFields))}}function S(l,g){if(1&l&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&l){const r=g.$implicit,p=t.oxw(2);t.xp6(1),t.Oqu(p.dataModel[r])}}function O(l,g){if(1&l&&(t.TgZ(0,"div",1),t.YNc(1,m,4,4,"div",2),t.TgZ(2,"div",7),t.YNc(3,S,2,1,"div",9),t.ALo(4,"keys"),t._UZ(5,"div",8),t.qZA()()),2&l){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.optionViewHead),t.xp6(2),t.Q6J("ngForOf",t.xi3(4,2,r.dataModel,r.optionFields))}}let y=(()=>{class l{static nextId=0;id=++l.nextId;constructor(){}optionMethod=1;dataModel;optionFields;optionViewHead=!0;ngOnInit(){}static \u0275fac=function(p){return new(p||l)};static \u0275cmp=t.Xpm({type:l,selectors:[["app-cms-json-list"]],inputs:{optionMethod:"optionMethod",dataModel:"dataModel",optionFields:"optionFields",optionViewHead:"optionViewHead"},decls:3,vars:3,consts:[["class","table",4,"ngIf"],[1,"table"],["class","th",4,"ngIf"],["class","tr",4,"ngFor","ngForOf"],[1,"th"],[1,"td"],[1,"clear"],[1,"tr"],[2,"clear","both"],["class","td",4,"ngFor","ngForOf"]],template:function(p,P){1&p&&(t.YNc(0,R,4,5,"div",0),t.YNc(1,U,3,2,"div",0),t.YNc(2,O,6,5,"div",0)),2&p&&(t.Q6J("ngIf",1===P.optionMethod&&P.dataModel),t.xp6(1),t.Q6J("ngIf",2===P.optionMethod&&P.dataModel),t.xp6(1),t.Q6J("ngIf",3===P.optionMethod&&P.dataModel))},dependencies:[e.sg,e.O5,v.X$,s],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f5;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.clear[_ngcontent-%COMP%]{clear:both}"]})}return l})()},76609:(x,T,a)=>{a.d(T,{D:()=>Z});var t=a(8239),e=a(64537),v=a(20092),s=a(34511),L=a(57445),I=a(51927),R=a(83151),C=a(42147),h=a(61528),f=a(27969),A=a(60656),U=a(56707),c=a(88692),m=a(61637),S=a(1379),O=a(88659),y=a(83331),l=a(39665),g=a(75738),r=a(81418);function p(E,M){if(1&E&&(e._UZ(0,"img",9),e.ALo(1,"cmsthumbnail")),2&E){const o=e.oxw().$implicit;e.s9C("src",e.lcZ(1,1,o.linkImageIdSrc),e.LSH)}}function P(E,M){if(1&E&&(e.TgZ(0,"mat-option",7),e.YNc(1,p,2,3,"img",8),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&E){const o=M.$implicit,i=e.oxw();e.Q6J("value",o)("disabled",i.optionDisabled),e.xp6(1),e.Q6J("ngIf",o.linkImageIdSrc),e.xp6(2),e.Oqu(i.displayOption(o))}}function D(E,M){if(1&E){const o=e.EpF();e.TgZ(0,"mat-icon",10),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const F=["*"];let Z=(()=>{class E{coreEnumService;translate;cdr;categoryService;static nextId=0;id=++E.nextId;constructor(o,i,n,_){this.coreEnumService=o,this.translate=i,this.cdr=n,this.categoryService=_,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}dataModelResult=new s.y$4;dataModelSelect=new s.Dp$;formControl=new v.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionChange=new e.vpe;optionReload=()=>this.onActionReload();set optionSelectForce(o){this.onActionSelectForce(o)}loading=new A.O;get optionLoading(){return this.loading}set optionLoading(o){this.loading=o}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,I.O)(""),(0,R.b)(1500),(0,C.x)(),(0,h.w)(o=>this.DataGetAll("string"==typeof o||"number"==typeof o?o:"")))}displayFn(o){return o&&o.virtual_Parent&&o.virtual_Parent.title.length>0&&o.virtual_Parent.virtual_Parent&&o.virtual_Parent.virtual_Parent.title.length>0&&o.virtual_Parent.virtual_Parent.virtual_Parent&&o.virtual_Parent.virtual_Parent.virtual_Parent.title.length>0?o.virtual_Parent.virtual_Parent.virtual_Parent.titleML+" > "+o.virtual_Parent.virtual_Parent.titleML+" > "+o.virtual_Parent.titleML+" > "+o.titleML:o&&o.virtual_Parent&&o.virtual_Parent.title.length>0&&o.virtual_Parent.virtual_Parent&&o.virtual_Parent.virtual_Parent.title.length>0?o.virtual_Parent.virtual_Parent.titleML+" > "+o.virtual_Parent.titleML+" > "+o.titleML:o&&o.virtual_Parent&&o.virtual_Parent.title.length>0?o.virtual_Parent.titleML+" > "+o.titleML:o?o.titleML:void 0}displayOption(o){return o&&o.virtual_Parent&&o.virtual_Parent.title.length>0&&o.virtual_Parent.virtual_Parent&&o.virtual_Parent.virtual_Parent.title.length>0&&o.virtual_Parent.virtual_Parent.virtual_Parent&&o.virtual_Parent.virtual_Parent.virtual_Parent.title.length>0?o.virtual_Parent.virtual_Parent.virtual_Parent.titleML+" > "+o.virtual_Parent.virtual_Parent.titleML+" > "+o.virtual_Parent.titleML+" > "+o.titleML:o&&o.virtual_Parent&&o.virtual_Parent.title.length>0&&o.virtual_Parent.virtual_Parent&&o.virtual_Parent.virtual_Parent.title.length>0?o.virtual_Parent.virtual_Parent.titleML+" > "+o.virtual_Parent.titleML+" > "+o.titleML:o&&o.virtual_Parent&&o.virtual_Parent.title.length>0?o.virtual_Parent.titleML+" > "+o.titleML:o?o.titleML:void 0}DataGetAll(o){var i=this;return(0,t.Z)(function*(){const n=new s.Hay;if(n.rowPerPage=20,n.accessLoad=!0,o&&o.length>0){let u=new s.AO3;u=new s.AO3,u.propertyName="Symbol",u.value=o,u.searchType=s.J6G.Contains,u.clauseType=s.ppe.Or,n.filters.push(u),u=new s.AO3,u.propertyName="Title",u.value=o,u.searchType=s.J6G.Contains,u.clauseType=s.ppe.Or,n.filters.push(u),o&&"number"==typeof+o&&+o>0&&(u=new s.AO3,u.propertyName="Id",u.value=o,u.searchType=s.J6G.Equal,u.clauseType=s.ppe.Or,n.filters.push(u))}const _=i.constructor.name+"main";return i.loading.Start(_),yield(0,L.z)(i.categoryService.ServiceGetAll(n)).then(u=>(i.dataModelResult=u,i.optionSelectFirstItem&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0)&&i.dataModelResult.listItems.length>0&&(i.optionSelectFirstItem=!1,setTimeout(()=>{i.formControl.setValue(i.dataModelResult.listItems[0])},1e3),i.onActionSelect(i.dataModelResult.listItems[0])),i.loading.Stop(_),u.listItems))})()}onActionSelect(o){this.optionDisabled||(this.dataModelSelect=o,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(o){return this.filteredOptions.pipe((0,f.U)(i=>(i.find(n=>n.id===o.id)||i.push(o),i)))}onActionSelectForce(o){if("number"==typeof o&&o>0){if(this.dataModelSelect&&this.dataModelSelect.id===o)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===o)){const i=this.dataModelResult.listItems.find(n=>n.id===o);return this.dataModelSelect=i,void this.formControl.setValue(i)}this.categoryService.ServiceGetOneIncludeParent(o).subscribe(i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))})}else{if(typeof o==typeof s.Dp$)return this.filteredOptions=this.push(o),this.dataModelSelect=o,void this.formControl.setValue(o);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new s.Dp$,this.loadOptions()}static \u0275fac=function(i){return new(i||E)(e.Y36(s.FLW),e.Y36(U.sK),e.Y36(e.sBO),e.Y36(s.XRW))};static \u0275cmp=e.Xpm({type:E,selectors:[["app-cms-location-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLoading:"optionLoading"},outputs:{optionChange:"optionChange"},ngContentSelectors:F,decls:9,vars:10,consts:[[1,"ntk-full-width"],[3,"options"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,n){if(1&i&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"app-progress-spinner",1)(2,"input",2),e.TgZ(3,"mat-autocomplete",3,4),e.NdJ("optionSelected",function(u){return n.onActionSelect(u.option.value)}),e.YNc(5,P,4,4,"mat-option",5),e.ALo(6,"async"),e.qZA(),e.YNc(7,D,2,0,"mat-icon",6),e.Hsn(8),e.qZA()),2&i){const _=e.MAs(4);e.xp6(1),e.Q6J("options",n.loading),e.xp6(1),e.s9C("placeholder",n.optionPlaceholder),e.Q6J("formControl",n.formControl)("matAutocomplete",_),e.uIk("disabled",!!n.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",n.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(6,8,n.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==n.dataModelSelect?null:n.dataModelSelect.id)}},dependencies:[c.sg,c.O5,v.Fj,v.JJ,v.oH,m.XC,S.ey,m.ZL,O.KE,O.R9,y.Hw,l.Nt,g.O,c.Ov,r.v],encapsulation:2})}return E})()},64370:(x,T,a)=>{a.d(T,{a:()=>f});var t=a(64537),e=a(20092),v=a(34511),s=a(60656),L=a(32607),I=a(56707),R=a(88692),C=a(71561);function h(A,U){if(1&A){const c=t.EpF();t.TgZ(0,"li")(1,"mat-checkbox",1),t.NdJ("change",function(){const O=t.CHM(c).$implicit,y=t.oxw();return t.KtG(y.onActionSelect(O))}),t._uU(2),t.qZA()()}if(2&A){const c=U.$implicit,m=t.oxw();t.xp6(1),t.Q6J("checked",m.fieldsStatus.get(c.id))("disabled",m.optionDisabled),t.xp6(1),t.hij(" ",c.title," ")}}let f=(()=>{class A{coreEnumService;categoryService;cdr;cmsToastrService;translate;static nextId=0;id=++A.nextId;constructor(c,m,S,O,y){this.coreEnumService=c,this.categoryService=m,this.cdr=S,this.cmsToastrService=O,this.translate=y,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}dataModelResult=new v.y$4;dataModelSelect=[];dataIdsSelect=[];loading=new s.O;get optionLoading(){return this.loading}set optionLoading(c){this.loading=c}formControl=new e.NI;fieldsStatus=new Map;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder=new t.vpe;optionChange=new t.vpe;optionSelectAdded=new t.vpe;optionSelectRemoved=new t.vpe;optionReload=()=>this.onActionReload();set optionSelectForce(c){this.onActionSelectForce(c)}ngOnInit(){this.DataGetAll()}DataGetAll(){const c=new v.Hay;c.rowPerPage=50,c.accessLoad=!0;const m=this.constructor.name+"main";this.loading.Start(m),this.categoryService.ServiceGetAll(c).subscribe(S=>{S.isSuccess&&(this.dataModelResult=S,this.dataModelResult.listItems.forEach(O=>this.fieldsStatus.set(O.id,!1)),this.dataIdsSelect.forEach(O=>this.fieldsStatus.set(O,!0)),this.dataModelResult.listItems.forEach(O=>{this.fieldsStatus.get(O.id)&&this.dataModelSelect.push(O)})),this.loading.Stop(m)},S=>{this.cmsToastrService.typeError(S),this.loading.Stop(m)})}onActionSelect(c){this.fieldsStatus.get(c.id)?(this.fieldsStatus.set(c.id,!1),this.optionSelectRemoved.emit(c),this.dataModelSelect.splice(this.dataModelSelect.indexOf(c),1)):(this.fieldsStatus.set(c.id,!0),this.optionSelectAdded.emit(c),this.dataModelSelect.push(c)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(c){typeof c==typeof Array(Number)?c.forEach(m=>{this.dataIdsSelect.push(m)}):typeof c==typeof Array(v.MCb)&&c.forEach(m=>{this.dataIdsSelect.push(m.id)}),this.dataIdsSelect.forEach(m=>this.fieldsStatus.set(m,!0))}onActionReload(){this.DataGetAll()}static \u0275fac=function(m){return new(m||A)(t.Y36(v.FLW),t.Y36(v.PwI),t.Y36(t.sBO),t.Y36(L.e),t.Y36(I.sK))};static \u0275cmp=t.Xpm({type:A,selectors:[["app-cms-sitecategory-selectionlist"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"checked","disabled","change"]],template:function(m,S){1&m&&(t.TgZ(0,"ul"),t.YNc(1,h,3,3,"li",0),t.qZA()),2&m&&(t.xp6(1),t.Q6J("ngForOf",S.dataModelResult.listItems))},dependencies:[R.sg,C.oG],encapsulation:2})}return A})()},63181:(x,T,a)=>{a.d(T,{g:()=>E});var t=a(8239),e=a(64537),v=a(20092),s=a(34511),L=a(57445),I=a(51927),R=a(83151),C=a(42147),h=a(61528),f=a(27969),A=a(60656),U=a(56707),c=a(88692),m=a(61637),S=a(1379),O=a(88659),y=a(83331),l=a(39665),g=a(75738),r=a(81418);function p(M,o){if(1&M&&(e._UZ(0,"img",9),e.ALo(1,"cmsthumbnail")),2&M){const i=e.oxw();e.s9C("src",e.lcZ(1,1,null==i.dataModelSelect?null:i.dataModelSelect.linkMainImageIdSrc),e.LSH)}}function P(M,o){if(1&M&&(e._UZ(0,"img",9),e.ALo(1,"cmsthumbnail")),2&M){const i=e.oxw().$implicit;e.s9C("src",e.lcZ(1,1,i.linkMainImageIdSrc),e.LSH)}}function D(M,o){if(1&M&&(e.TgZ(0,"mat-option",10),e.YNc(1,P,2,3,"img",11),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&M){const i=o.$implicit,n=e.oxw();e.Q6J("value",i)("disabled",n.optionDisabled),e.xp6(1),e.Q6J("ngIf",i.linkMainImageIdSrc),e.xp6(2),e.Oqu(n.displayOption(i))}}function F(M,o){if(1&M){const i=e.EpF();e.TgZ(0,"mat-icon",12),e.NdJ("click",function(){e.CHM(i);const _=e.oxw();return e.KtG(_.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const Z=["*"];let E=(()=>{class M{coreEnumService;cdr;translate;categoryService;static nextId=0;id=++M.nextId;constructor(i,n,_,u){this.coreEnumService=i,this.cdr=n,this.translate=_,this.categoryService=u,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}dataModelResult=new s.y$4;dataModelSelect=new s.NCo;loading=new A.O;get optionLoading(){return this.loading}set optionLoading(i){this.loading=i}formControl=new v.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionChange=new e.vpe;optionReload=()=>this.onActionReload();set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,I.O)(""),(0,R.b)(1500),(0,C.x)(),(0,h.w)(i=>this.DataGetAll("string"==typeof i||"number"==typeof i?i:"")))}displayFn(i){let n="";return i&&(i.username&&i.username.length>0&&(n=n+" "+i.username),i.name&&i.name.length>0&&(n=n+" "+i.name),i.lastName&&i.lastName.length>0&&(n=n+" "+i.lastName),n=n+"#:"+i.id),n}displayOption(i){let n="";return i&&(i.username&&i.username.length>0&&(n=n+" "+i.username),i.name&&i.name.length>0&&(n=n+" "+i.name),i.lastName&&i.lastName.length>0&&(n=n+" "+i.lastName),n=n+"#:"+i.id),n}DataGetAll(i){var n=this;return(0,t.Z)(function*(){const _=new s.Hay;if(_.rowPerPage=20,_.accessLoad=!0,i&&i.length>0){let d=new s.AO3;d=new s.AO3,d.propertyName="username",d.value=i,d.searchType=s.J6G.Contains,d.clauseType=s.ppe.Or,_.filters.push(d),d=new s.AO3,d.propertyName="name",d.value=i,d.searchType=s.J6G.Contains,d.clauseType=s.ppe.Or,_.filters.push(d),d=new s.AO3,d.propertyName="email",d.value=i,d.searchType=s.J6G.Contains,d.clauseType=s.ppe.Or,_.filters.push(d),d=new s.AO3,d.propertyName="lastname",d.value=i,d.searchType=s.J6G.Contains,d.clauseType=s.ppe.Or,_.filters.push(d),i&&"number"==typeof+i&&+i>0&&(d=new s.AO3,d.propertyName="Id",d.value=i,d.searchType=s.J6G.Equal,d.clauseType=s.ppe.Or,_.filters.push(d))}const u=n.constructor.name+"main";return n.loading.Start(u),yield(0,L.z)(n.categoryService.ServiceGetAll(_)).then(d=>(n.dataModelResult=d,n.optionSelectFirstItem&&(!n.dataModelSelect||!n.dataModelSelect.id||n.dataModelSelect.id<=0)&&n.dataModelResult.listItems.length>0&&(n.optionSelectFirstItem=!1,setTimeout(()=>{n.formControl.setValue(n.dataModelResult.listItems[0])},1e3),n.onActionSelect(n.dataModelResult.listItems[0])),n.loading.Stop(u),d.listItems))})()}onActionSelect(i){this.optionDisabled||(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(i){return this.filteredOptions.pipe((0,f.U)(n=>(n.find(_=>_.id===i.id)||n.push(i),n)))}onActionSelectForce(i){if("number"==typeof i&&i>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(n=>n.id===i)){const n=this.dataModelResult.listItems.find(_=>_.id===i);return this.dataModelSelect=n,void this.formControl.setValue(n)}this.categoryService.ServiceGetOneById(i).subscribe(n=>{n.isSuccess&&(this.filteredOptions=this.push(n.item),this.dataModelSelect=n.item,this.formControl.setValue(n.item),this.optionChange.emit(n.item))})}else{if(typeof i==typeof s.NCo)return this.filteredOptions=this.push(i),this.dataModelSelect=i,void this.formControl.setValue(i);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new s.NCo,this.loadOptions()}static \u0275fac=function(n){return new(n||M)(e.Y36(s.FLW),e.Y36(e.sBO),e.Y36(U.sK),e.Y36(s.k$Z))};static \u0275cmp=e.Xpm({type:M,selectors:[["app-cms-user-selector"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:Z,decls:12,vars:11,consts:[[1,"ntk-full-width"],[3,"options"],["matPrefix",""],["class","ntk-hover-zoom","style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(n,_){if(1&n&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"span",2),e.YNc(3,p,2,3,"img",3),e._uU(4," \xa0"),e.qZA(),e._UZ(5,"input",4),e.TgZ(6,"mat-autocomplete",5,6),e.NdJ("optionSelected",function(d){return _.onActionSelect(d.option.value)}),e.YNc(8,D,4,4,"mat-option",7),e.ALo(9,"async"),e.qZA(),e.YNc(10,F,2,0,"mat-icon",8),e.Hsn(11),e.qZA()),2&n){const u=e.MAs(7);e.xp6(1),e.Q6J("options",_.loading),e.xp6(2),e.Q6J("ngIf",_.dataModelSelect&&(null==_.dataModelSelect?null:_.dataModelSelect.linkMainImageIdSrc)),e.xp6(2),e.s9C("placeholder",_.optionPlaceholder),e.Q6J("formControl",_.formControl)("matAutocomplete",u),e.uIk("disabled",!!_.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",_.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(9,9,_.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==_.dataModelSelect?null:_.dataModelSelect.id)}},dependencies:[c.sg,c.O5,v.Fj,v.JJ,v.oH,m.XC,S.ey,m.ZL,O.KE,O.qo,O.R9,y.Hw,l.Nt,g.O,c.Ov,r.v],encapsulation:2})}return M})()}}]);