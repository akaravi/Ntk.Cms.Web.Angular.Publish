"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[4389,6784,918,9907],{46272:(S,b,t)=>{t.r(b),t.d(b,{WebDesignerBuilderModule:()=>N});var n=t(27165),v=t(88692),h=t(20092),a=t(88659),c=t(83331),_=t(80707),m=t(4721),i=t(4467),f=t(91661),s=t(34511),A=t(6087),C=t(17360),r=t(26114);class o{configRouteTemplateFileImage;configRouteFileStorage;cmsSite;cmsPage;cmsParentPage;cmsPageTemplate;moduleInfoes;templateConfig;bodySetting}var l=t(60656),e=t(64537),E=t(50727),k=t(56707),O=t(32607),D=t(94032),Z=t(75738);const I=[{path:"",component:(()=>{class p{tokenHelper;cdr;translate;cmsToastrService;publicHelper;webDesignerMainPageService;requestId="";constructor(T,d,u,g,B,R){this.tokenHelper=T,this.cdr=d,this.translate=u,this.cmsToastrService=g,this.publicHelper=B,this.webDesignerMainPageService=R,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}cmsApiStoreSubscribe;tokenInfo=new s.OdC;loading=new l.O;fieldsInfo=new Map;dataModel=new o;dataPageModel=new s.RIQ;dataModelResult=new s.y$4;ngOnInit(){this.tokenHelper.getCurrentToken().then(T=>{this.tokenInfo=T,this.DataGetOneContent(),this.tokenHelper.CheckIsAdmin()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(T=>{this.tokenInfo=T,this.DataGetOneContent(),this.tokenHelper.CheckIsAdmin()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){const T=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.loading.Start(T),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(s.dR.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe(d=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(d.access),this.dataPageModel=d.item,d.isSuccess||this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(T)},d=>{this.cmsToastrService.typeError(d),this.loading.Stop(T)})}onActionAdd(){}static \u0275fac=function(d){return new(d||p)(e.Y36(E.v),e.Y36(e.sBO),e.Y36(k.sK),e.Y36(O.e),e.Y36(D.i),e.Y36(s.SUF))};static \u0275cmp=e.Xpm({type:p,selectors:[["app-web-designer-builder"]],decls:60,vars:37,consts:[[1,"row"],["Class","col-xl-2"],[1,"ntk-cms-html-tree-header"],["type","button",1,"btn","btn-outline-primary",2,"width","98%",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"ntk-cms-html-tree-body"],[1,"ntk-cms-html-tree-footer"],["Class","col-xl-10"],[1,"ntk-cms-html-list-header"],[3,"options"],[1,"ntk-cms-html-list-footer"]],template:function(d,u){1&d&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(22),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",2),e._uU(25),e.ALo(26,"translate"),e._UZ(27,"br"),e.TgZ(28,"button",4),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(29,"lg"),e.qZA(),e.TgZ(30,"button",4),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(31,"md"),e.qZA(),e.TgZ(32,"button",4),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(33,"sm"),e.qZA(),e.TgZ(34,"button",4),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(35,"xs"),e.qZA()(),e.TgZ(36,"div",2),e._uU(37),e.ALo(38,"translate"),e._UZ(39,"br"),e.TgZ(40,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"button",3),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",5),e._uU(47," body "),e.qZA(),e.TgZ(48,"div",6),e._uU(49," tree-footer "),e.qZA()(),e.TgZ(50,"div",7)(51,"div",8)(52,"button",4),e.NdJ("click",function(){return u.onActionAdd()}),e._uU(53),e.ALo(54,"translate"),e.qZA()(),e.TgZ(55,"div"),e._UZ(56,"app-progress-spinner",9),e._uU(57," Body "),e.qZA(),e.TgZ(58,"div",10),e._uU(59," footer "),e.qZA()()()),2&d&&(e.xp6(4),e.Oqu(e.lcZ(5,13,"ACTION.SAVE_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(8,15,"ACTION.DELETE_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(11,17,"ACTION.LOADING_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(14,19,"ACTION.ASSUMPTION_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(17,21,"ACTION.INTERNALIZATION_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(20,23,"ACTION.OUTFLOW_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(23,25,"ACTION.HISTORY_CONTENT")),e.xp6(3),e.hij(" ",e.lcZ(26,27,"TITLE.DISPLAY_SIZE")," "),e.xp6(12),e.hij(" ",e.lcZ(38,29,"TITLE.DISPLAY")," "),e.xp6(4),e.Oqu(e.lcZ(42,31,"TITLE.Preview")),e.xp6(3),e.Oqu(e.lcZ(45,33,"TITLE.Preview_MOTHER")),e.xp6(9),e.Oqu(e.lcZ(54,35,"TITLE.CREATE_ROW")),e.xp6(3),e.Q6J("options",u.loading))},dependencies:[Z.O,k.X$]})}return p})(),data:{title:"ROUTE.WEBDESIGNERBUILDER"},children:[]}];let M=(()=>{class p{static \u0275fac=function(d){return new(d||p)};static \u0275mod=e.oAB({type:p});static \u0275inj=e.cJS({imports:[r.Bz.forChild(I),r.Bz]})}return p})(),N=(()=>{class p{static \u0275fac=function(d){return new(d||p)};static \u0275mod=e.oAB({type:p});static \u0275inj=e.cJS({providers:[s.EAm,s.FLW,s.Z8z,s.dF2,s.PwI,s.VqD,s.UIH,s.zef,s.KQH,s.SUF,s.eck,s.BeA,s.cW6,s.qgh],imports:[v.ez,M,h.u5,h.UX.withConfig({warnOnNgModelWithFormControl:"never"}),A.m.forRoot(),m.UM,c.Ps,a.lN,_.T5,f.v3,i.FR,n._t,C.CoreModuleModule]})}return p})()},13673:(S,b,t)=>{t.d(b,{G:()=>s});var n=t(8239),v=t(88692),h=t(34511),a=t(64537),c=t(94032),_=t(32607);let s=(()=>{class A{elRef;renderer;publicHelper;cmsToastrService;cdr;document;row;contentService;constructor(r,o,l,e,E,k){this.elRef=r,this.renderer=o,this.publicHelper=l,this.cmsToastrService=e,this.cdr=E,this.document=k,this.getEnumRecordStatus()}getEnumRecordStatus(){var r=this;return(0,n.Z)(function*(){(yield r.publicHelper.getEnumRecordStatus()).listItems.forEach(l=>{const e=document.createElement("option");e.innerHTML=" "+l.title+' <i Class="'+r.iconStatus(l.value)+'"></i>',e.value=l.value.toString(),r.elRef.nativeElement.add(e)}),r.elRef.nativeElement.options.length>0&&r.row&&r.row.recordStatus&&r.renderer.setProperty(r.elRef.nativeElement,"value",r.row.recordStatus)})()}onChange(){const r=this.elRef.nativeElement,o=r.value;this.addLoader(r),this.contentService.setAccessDataType(h.dR.Editor),this.contentService.ServiceSetStatus(this.row.id,o).subscribe(l=>{l.isSuccess?(this.handleSuccessCase(r),this.cmsToastrService.typeSuccessSetStatus(l.errorMessage),this.row.recordStatus=0|o,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeErrorSetStatus(l.errorMessage),this.handleErrorCase(r))},l=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeError(l),this.handleErrorCase(r)})}handleSuccessCase(r){this.removeBackground(r),this.addSuccess(r),setTimeout(()=>{this.removeBackground(r)},1e3)}handleErrorCase(r){this.removeBackground(r);const o=this.document.createElement("img");o.style.width="20px",o.src="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png";const l=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(l,o),setTimeout(()=>{this.renderer.removeChild(l,o)},1e3)}addLoader(r){this.addBackground(r,"https://replit.com/public/images/loading_dots.gif",20)}addSuccess(r){this.addBackground(r,"https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",20)}addBackground(r,o,l){r.style.background=`#fff url("${o}") no-repeat right 20px center`,r.style.backgroundSize=`${l}px`}removeBackground(r){r.style.background="none"}iconStatus(r){let o="";switch(r){case 1:default:o="fa fa-check";break;case 2:o="fa fa-eye-slash";break;case 3:o="fa fa-times";break;case 4:o="fa fa-hourglass-half";break;case 5:o="far fa-thumbs-down";break;case 6:o="fa fa-archive"}return o}static \u0275fac=function(o){return new(o||A)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(c.i),a.Y36(_.e),a.Y36(a.sBO),a.Y36(v.K0))};static \u0275dir=a.lG2({type:A,selectors:[["","cmsRecordStatusSelfSave",""]],hostBindings:function(o,l){1&o&&a.NdJ("change",function(){return l.onChange()})},inputs:{row:"row",contentService:"contentService"}})}return A})()},81418:(S,b,t)=>{t.d(b,{v:()=>v});var n=t(64537);let v=(()=>{class h{transform(c){return(c+="").replace("/images/","/thumbnails/")}static \u0275fac=function(_){return new(_||h)};static \u0275pipe=n.Yjl({name:"cmsthumbnail",type:h,pure:!0})}return h})()},86639:(S,b,t)=>{t.d(b,{G:()=>h});var n=t(64537),v=t(5998);let h=(()=>{class a{sanitizer;constructor(_){this.sanitizer=_}transform(_,m=!1){let i="";switch(_){case 1:default:i="fa fa-check";break;case 2:i="fa fa-times";break;case 3:i="fa fa-trash";break;case 4:i="fa fa-hourglass-half";break;case 5:i="far fa-thumbs-down";break;case 6:i="fa fa-archive"}return i}static \u0275fac=function(m){return new(m||a)(n.Y36(v.H7,16))};static \u0275pipe=n.Yjl({name:"statusIconClass",type:a,pure:!0})}return a})()},83914:(S,b,t)=>{t.d(b,{s:()=>a});var n=t(64537),v=t(58219);let h=(()=>{class c{activeModal;static nextId=0;id=++c.nextId;title;message;btnOkText;btnCancelText;constructor(m){this.activeModal=m}ngOnInit(){}decline(){this.activeModal.close(!1)}accept(){this.activeModal.close(!0)}dismiss(){this.activeModal.dismiss()}static \u0275fac=function(i){return new(i||c)(n.Y36(v.Kz))};static \u0275cmp=n.Xpm({type:c,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText",btnCancelText:"btnCancelText"},decls:12,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,f){1&i&&(n.TgZ(0,"div",0)(1,"h4",1),n._uU(2),n.qZA(),n.TgZ(3,"button",2),n.NdJ("click",function(){return f.dismiss()}),n.TgZ(4,"span",3),n._uU(5,"\xd7"),n.qZA()()(),n._UZ(6,"div",4),n.TgZ(7,"div",5)(8,"button",6),n.NdJ("click",function(){return f.decline()}),n._uU(9),n.qZA(),n.TgZ(10,"button",7),n.NdJ("click",function(){return f.accept()}),n._uU(11),n.qZA()()),2&i&&(n.xp6(2),n.Oqu(f.title),n.xp6(4),n.Q6J("innerHTML",f.message,n.oJD),n.xp6(3),n.Oqu(f.btnCancelText),n.xp6(2),n.Oqu(f.btnOkText))},encapsulation:2})}return c})(),a=(()=>{class c{modalService;constructor(m){this.modalService=m}confirm(m,i,f="OK",s="Cancel",A="sm"){const C=this.modalService.open(h,{size:A});return C.componentInstance.title=m,C.componentInstance.message=i,C.componentInstance.btnOkText=f,C.componentInstance.btnCancelText=s,C.result}static \u0275fac=function(i){return new(i||c)(n.LFG(v.FF))};static \u0275prov=n.Yz7({token:c,factory:c.\u0275fac})}return c})()}}]);