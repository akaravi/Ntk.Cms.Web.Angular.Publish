"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[6619],{16619:(pe,le,h)=>{h.r(le),h.d(le,{CoreTokenModule:()=>Hl});var s=h(86889),_=h(88692),f=h(20092),c=h(34511),R=h(83914),ue=h(6087),Z=h(26114),m=h(80418),y=h(8918),N=h(97147),k=h(60656),J=h(76997),Y=h(57154),G=h(8239),A=h(54536),e=h(64537),M=h(32607),v=h(50727),g=h(56707),w=h(94032),Q=h(1379),b=h(88659),B=h(18033),H=h(56599),F=h(63181),I=h(75738);const _e=["vform"];function he(n,a){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function fe(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function ge(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",11)(1,"button",17),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",18),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Te=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenActivationService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.$4t),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenActivationService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=T,this.translate=C,this.publicHelper=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,G.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(c.dR.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.x6v),e.Y36(M.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(w.i))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(_e,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:22,vars:21,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(r){return o.dataModel.recordStatus=r}),e.YNc(7,he,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,fe,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"app-cms-site-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(13,"app-cms-user-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA()(),e.TgZ(14,"div",10)(15,"div",11)(16,"small",12),e._uU(17),e.qZA(),e.TgZ(18,"small",13),e._uU(19),e.qZA()()(),e.TgZ(20,"div",14),e.YNc(21,ge,5,3,"div",15),e.qZA()),2&t){const l=e.MAs(6);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,19,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.mk,_.sg,_.O5,f.JJ,f.Q7,f.On,Q.ey,b.KE,b.bx,b.TO,B.gD,H.P,F.g,I.O,g.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();var P=h(42370);const Ce=["vform"];function Se(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Ae=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenActivationService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.$4t),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenActivationService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=T,this.publicHelper=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.x6v),e.Y36(M.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ce,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Se,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,I.O,P.v,g.X$]})),a})();var j=h(9638),D=h(83331),O=h(39665),E=h(83319),$=h(53538),q=h(64639),L=h(56558),K=h(43014),V=h(10626),W=h(37980),oe=h(13673),z=h(99654),X=h(93817),ee=h(39084),ne=h(86639),ie=h(25897),te=h(91101);function be(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function Ze(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function ke(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Me(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function ve(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function we(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function Ee(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function Ie(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function Le(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function xe(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function Re(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function Ue(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberUserId?null:i.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ye(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberUserId," ")}}function Ne(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.recordStatus?null:i.fieldsInfo.recordStatus.fieldTitle," ")}}const De=function(n){return{display:n}};function qe(n,a){if(1&n&&(e.TgZ(0,"mat-cell",47),e.ALo(1,"statusCellClass"),e._UZ(2,"i",47),e.ALo(3,"statusIconClass"),e._UZ(4,"select",48),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,i.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,i.recordStatus)),e.xp6(2),e.Q6J("contentService",t.contentService)("row",i)("ngStyle",e.VKq(9,De,i.id===t.tableRowSelected.id?"":"none"))}}function Oe(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Je(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ye(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userType?null:i.fieldsInfo.userType.fieldTitle," ")}}function Ge(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userType,t.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Qe(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Be(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToAllData))}}function He(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Fe(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToProfessionalData))}}function Pe(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function je(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.rememberOnDevice))}}function $e(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function Ke(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function Ve(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.expireDate?null:i.fieldsInfo.expireDate.fieldTitle," ")}}function We(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.expireDate)," ")}}function ze(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Xe(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function et(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function tt(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,51),e.YNc(6,Xe,6,3,"button",52),e.YNc(7,et,6,3,"button",52),e.TgZ(8,"button",53),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",53),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const i=e.MAs(5),t=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",t.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function ot(n,a){1&n&&e._UZ(0,"mat-header-row")}const nt=function(n){return{background:n}};function it(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,nt,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const st=function(){return[5,10,20,100]};let at=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S,x){if((0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new y.dj),(0,s.Z)(this,"optionsStatist",new N.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.$4t),(0,s.Z)(this,"tableSource",new m.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=d,this.dialog=p,this.tokenHelper=T,this.cdr=C,this.translate=S,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const u=new c.AO3;u.propertyName="LinkCmsSiteId",u.value=this.requestLinkSiteId,this.filteModelContent.filters.push(u)}if(this.requestLinkUserId>0){const u=new c.AO3;u.propertyName="LinkUserId",u.value=this.requestLinkUserId,this.filteModelContent.filters.push(u)}if(this.requestLinkDeviceId>0){const u=new c.AO3;u.propertyName="LinkDeviceId",u.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(u)}this.optionsSearch.parentMethods={onSubmit:u=>this.onSubmitOptionsSearch(u)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.$4t);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Ae,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Te,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"main";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(Y.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(J.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.x6v),e.Y36(w.i),e.Y36(M.e),e.Y36(R.s),e.Y36(Z.gz),e.Y36(A.uw),e.Y36(v.v),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(Z.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:76,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,be,3,3,"button",4),e.YNc(6,Ze,3,3,"button",5),e.YNc(7,ke,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,Me,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,ve,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(31);return e.KtG(o.onTableSortData(d))}),e.ynx(32,19),e.YNc(33,we,2,1,"mat-header-cell",20),e.YNc(34,Ee,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,Ie,2,1,"mat-header-cell",20),e.YNc(37,Le,4,5,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,xe,2,1,"mat-header-cell",20),e.YNc(40,Re,4,5,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,Ue,2,1,"mat-header-cell",20),e.YNc(43,ye,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,Ne,2,1,"mat-header-cell",20),e.YNc(46,qe,5,11,"mat-cell",26),e.BQk(),e.ynx(47,27),e.YNc(48,Oe,2,1,"mat-header-cell",20),e.YNc(49,Je,3,4,"mat-cell",21),e.BQk(),e.ynx(50,28),e.YNc(51,Ye,2,1,"mat-header-cell",20),e.YNc(52,Ge,3,4,"mat-cell",21),e.BQk(),e.ynx(53,29),e.YNc(54,Qe,2,1,"mat-header-cell",20),e.YNc(55,Be,3,3,"mat-cell",21),e.BQk(),e.ynx(56,30),e.YNc(57,He,2,1,"mat-header-cell",20),e.YNc(58,Fe,3,3,"mat-cell",21),e.BQk(),e.ynx(59,31),e.YNc(60,Pe,2,1,"mat-header-cell",20),e.YNc(61,je,3,3,"mat-cell",21),e.BQk(),e.ynx(62,32),e.YNc(63,$e,2,1,"mat-header-cell",20),e.YNc(64,Ke,2,1,"mat-cell",21),e.BQk(),e.ynx(65,33),e.YNc(66,Ve,2,1,"mat-header-cell",20),e.YNc(67,We,2,1,"mat-cell",21),e.BQk(),e.ynx(68,34),e.YNc(69,ze,3,3,"mat-header-cell",35),e.YNc(70,tt,20,9,"mat-cell",36),e.BQk(),e.YNc(71,ot,1,0,"mat-header-row",37),e.YNc(72,it,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(73,39),e.TgZ(74,"mat-paginator",40,41),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,st)))},dependencies:[_.mk,_.O5,_.PC,f.JJ,f.On,j.RK,D.Hw,O.Nt,E.VK,E.OP,E.p6,$.NW,q.Rr,L.YE,L.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,K.y,V.q,W.Z,oe.G,_.Ov,g.X$,z.B,X.J,ee.Y,ne.G,ie.Y,te.r],encapsulation:2})),a})(),lt=(()=>{var n;class a{constructor(){}ngOnInit(){}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-token"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},dependencies:[Z.lC],encapsulation:2})),a})();const rt=["vform"];function ct(n,a){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function dt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function ut(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",11)(1,"button",17),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",18),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let mt=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenMicroServiceLogService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.BKj),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenMicroServiceLogService=r,this.cmsToastrService=d,this.publicHelper=p,this.cdr=T,this.tokenHelper=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,G.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.setAccessDataType(c.dR.Editor),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.qOP),e.Y36(M.e),e.Y36(w.i),e.Y36(e.sBO),e.Y36(v.v),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(rt,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:22,vars:21,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(r){return o.dataModel.recordStatus=r}),e.YNc(7,ct,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,dt,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"app-cms-site-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(13,"app-cms-user-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA()(),e.TgZ(14,"div",10)(15,"div",11)(16,"small",12),e._uU(17),e.qZA(),e.TgZ(18,"small",13),e._uU(19),e.qZA()()(),e.TgZ(20,"div",14),e.YNc(21,ut,5,3,"div",15),e.qZA()),2&t){const l=e.MAs(6);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,19,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.mk,_.sg,_.O5,f.JJ,f.Q7,f.On,Q.ey,b.KE,b.bx,b.TO,B.gD,H.P,F.g,I.O,g.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();const pt=["vform"];function _t(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ht=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenMicroServiceLogService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.BKj),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenMicroServiceLogService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=T,this.publicHelper=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.qOP),e.Y36(M.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(pt,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,_t,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,I.O,P.v,g.X$],encapsulation:2})),a})();function ft(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function gt(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function Tt(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Ct(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function St(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function At(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function bt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function Zt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function kt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function Mt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function vt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function wt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberUserId?null:i.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Et(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberUserId," ")}}function It(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.recordStatus?null:i.fieldsInfo.recordStatus.fieldTitle," ")}}const Lt=function(n){return{display:n}};function xt(n,a){if(1&n&&(e.TgZ(0,"mat-cell",47),e.ALo(1,"statusCellClass"),e._UZ(2,"i",47),e.ALo(3,"statusIconClass"),e._UZ(4,"select",48),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,i.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,i.recordStatus)),e.xp6(2),e.Q6J("contentService",t.contentService)("row",i)("ngStyle",e.VKq(9,Lt,i.id===t.tableRowSelected.id?"":"none"))}}function Rt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ut(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function yt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userType?null:i.fieldsInfo.userType.fieldTitle," ")}}function Nt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userType,t.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Dt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function qt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToAllData))}}function Ot(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Jt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToProfessionalData))}}function Yt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Gt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.rememberOnDevice))}}function Qt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function Bt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function Ht(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.expireDate?null:i.fieldsInfo.expireDate.fieldTitle," ")}}function Ft(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.expireDate)," ")}}function Pt(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function jt(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function $t(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Kt(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,51),e.YNc(6,jt,6,3,"button",52),e.YNc(7,$t,6,3,"button",52),e.TgZ(8,"button",53),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",53),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const i=e.MAs(5),t=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",t.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function Vt(n,a){1&n&&e._UZ(0,"mat-header-row")}const Wt=function(n){return{background:n}};function zt(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,Wt,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const Xt=function(){return[5,10,20,100]};let eo=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S,x){if((0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new y.dj),(0,s.Z)(this,"optionsStatist",new N.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.BKj),(0,s.Z)(this,"tableSource",new m.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=d,this.dialog=p,this.tokenHelper=T,this.cdr=C,this.translate=S,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const u=new c.AO3;u.propertyName="LinkCmsSiteId",u.value=this.requestLinkSiteId,this.filteModelContent.filters.push(u)}if(this.requestLinkUserId>0){const u=new c.AO3;u.propertyName="LinkUserId",u.value=this.requestLinkUserId,this.filteModelContent.filters.push(u)}if(this.requestLinkDeviceId>0){const u=new c.AO3;u.propertyName="LinkDeviceId",u.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(u)}this.optionsSearch.parentMethods={onSubmit:u=>this.onSubmitOptionsSearch(u)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.BKj);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ht,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(mt,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"main";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(Y.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(J.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.qOP),e.Y36(w.i),e.Y36(M.e),e.Y36(R.s),e.Y36(Z.gz),e.Y36(A.uw),e.Y36(v.v),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(Z.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservicelog-list"]],decls:76,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,ft,3,3,"button",4),e.YNc(6,gt,3,3,"button",5),e.YNc(7,Tt,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,Ct,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,St,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(31);return e.KtG(o.onTableSortData(d))}),e.ynx(32,19),e.YNc(33,At,2,1,"mat-header-cell",20),e.YNc(34,bt,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,Zt,2,1,"mat-header-cell",20),e.YNc(37,kt,4,5,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,Mt,2,1,"mat-header-cell",20),e.YNc(40,vt,4,5,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,wt,2,1,"mat-header-cell",20),e.YNc(43,Et,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,It,2,1,"mat-header-cell",20),e.YNc(46,xt,5,11,"mat-cell",26),e.BQk(),e.ynx(47,27),e.YNc(48,Rt,2,1,"mat-header-cell",20),e.YNc(49,Ut,3,4,"mat-cell",21),e.BQk(),e.ynx(50,28),e.YNc(51,yt,2,1,"mat-header-cell",20),e.YNc(52,Nt,3,4,"mat-cell",21),e.BQk(),e.ynx(53,29),e.YNc(54,Dt,2,1,"mat-header-cell",20),e.YNc(55,qt,3,3,"mat-cell",21),e.BQk(),e.ynx(56,30),e.YNc(57,Ot,2,1,"mat-header-cell",20),e.YNc(58,Jt,3,3,"mat-cell",21),e.BQk(),e.ynx(59,31),e.YNc(60,Yt,2,1,"mat-header-cell",20),e.YNc(61,Gt,3,3,"mat-cell",21),e.BQk(),e.ynx(62,32),e.YNc(63,Qt,2,1,"mat-header-cell",20),e.YNc(64,Bt,2,1,"mat-cell",21),e.BQk(),e.ynx(65,33),e.YNc(66,Ht,2,1,"mat-header-cell",20),e.YNc(67,Ft,2,1,"mat-cell",21),e.BQk(),e.ynx(68,34),e.YNc(69,Pt,3,3,"mat-header-cell",35),e.YNc(70,Kt,20,9,"mat-cell",36),e.BQk(),e.YNc(71,Vt,1,0,"mat-header-row",37),e.YNc(72,zt,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(73,39),e.TgZ(74,"mat-paginator",40,41),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,Xt)))},dependencies:[_.mk,_.O5,_.PC,f.JJ,f.On,j.RK,D.Hw,O.Nt,E.VK,E.OP,E.p6,$.NW,q.Rr,L.YE,L.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,K.y,V.q,W.Z,oe.G,_.Ov,g.X$,z.B,X.J,ee.Y,ne.G,ie.Y,te.r],encapsulation:2})),a})();var ae=h(98838);const to=["vform"];function oo(n,a){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function no(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function io(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",17),e.ALo(2,"prettyjson"),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,i.dataModel),e.oJD)}}function so(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",11)(1,"button",18),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",19),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ao=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenMicroServiceService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.xyf),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenMicroServiceService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=T,this.publicHelper=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,G.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(c.dR.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.mPJ),e.Y36(M.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(to,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:23,vars:22,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(r){return o.dataModel.recordStatus=r}),e.YNc(7,oo,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,no,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"app-cms-site-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(13,"app-cms-user-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.YNc(14,io,3,3,"div",8),e.qZA(),e.TgZ(15,"div",10)(16,"div",11)(17,"small",12),e._uU(18),e.qZA(),e.TgZ(19,"small",13),e._uU(20),e.qZA()()(),e.TgZ(21,"div",14),e.YNc(22,so,5,3,"div",15),e.qZA()),2&t){const l=e.MAs(6);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,20,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.mk,_.sg,_.O5,f.JJ,f.Q7,f.On,Q.ey,b.KE,b.bx,b.TO,B.gD,H.P,F.g,I.O,g.X$,ae.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();const lo=["vform"];function ro(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let co=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenMicroServiceService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.xyf),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenMicroServiceService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=T,this.publicHelper=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.mPJ),e.Y36(M.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(lo,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,ro,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,I.O,P.v,g.X$]})),a})();function uo(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function mo(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function po(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function _o(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function ho(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function fo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function go(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function To(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function Co(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function So(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function Ao(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function bo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberUserId?null:i.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Zo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberUserId," ")}}function ko(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.recordStatus?null:i.fieldsInfo.recordStatus.fieldTitle," ")}}const Mo=function(n){return{display:n}};function vo(n,a){if(1&n&&(e.TgZ(0,"mat-cell",47),e.ALo(1,"statusCellClass"),e._UZ(2,"i",47),e.ALo(3,"statusIconClass"),e._UZ(4,"select",48),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,i.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,i.recordStatus)),e.xp6(2),e.Q6J("contentService",t.contentService)("row",i)("ngStyle",e.VKq(9,Mo,i.id===t.tableRowSelected.id?"":"none"))}}function wo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Eo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Io(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userType?null:i.fieldsInfo.userType.fieldTitle," ")}}function Lo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userType,t.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function xo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ro(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToAllData))}}function Uo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function yo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToProfessionalData))}}function No(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Do(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.rememberOnDevice))}}function qo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function Oo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function Jo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.expireDate?null:i.fieldsInfo.expireDate.fieldTitle," ")}}function Yo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.expireDate)," ")}}function Go(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Qo(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Bo(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Ho(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,51),e.YNc(6,Qo,6,3,"button",52),e.YNc(7,Bo,6,3,"button",52),e.TgZ(8,"button",53),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",53),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const i=e.MAs(5),t=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",t.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function Fo(n,a){1&n&&e._UZ(0,"mat-header-row")}const Po=function(n){return{background:n}};function jo(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,Po,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const $o=function(){return[5,10,20,100]};let Ko=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S,x){if((0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new y.dj),(0,s.Z)(this,"optionsStatist",new N.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.xyf),(0,s.Z)(this,"tableSource",new m.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=d,this.dialog=p,this.tokenHelper=T,this.cdr=C,this.translate=S,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const u=new c.AO3;u.propertyName="LinkCmsSiteId",u.value=this.requestLinkSiteId,this.filteModelContent.filters.push(u)}if(this.requestLinkUserId>0){const u=new c.AO3;u.propertyName="LinkUserId",u.value=this.requestLinkUserId,this.filteModelContent.filters.push(u)}if(this.requestLinkDeviceId>0){const u=new c.AO3;u.propertyName="LinkDeviceId",u.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(u)}this.optionsSearch.parentMethods={onSubmit:u=>this.onSubmitOptionsSearch(u)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.xyf);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(co,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ao,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"main";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(Y.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(J.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.mPJ),e.Y36(w.i),e.Y36(M.e),e.Y36(R.s),e.Y36(Z.gz),e.Y36(A.uw),e.Y36(v.v),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(Z.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservice-list"]],decls:76,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,uo,3,3,"button",4),e.YNc(6,mo,3,3,"button",5),e.YNc(7,po,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,_o,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,ho,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(31);return e.KtG(o.onTableSortData(d))}),e.ynx(32,19),e.YNc(33,fo,2,1,"mat-header-cell",20),e.YNc(34,go,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,To,2,1,"mat-header-cell",20),e.YNc(37,Co,4,5,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,So,2,1,"mat-header-cell",20),e.YNc(40,Ao,4,5,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,bo,2,1,"mat-header-cell",20),e.YNc(43,Zo,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,ko,2,1,"mat-header-cell",20),e.YNc(46,vo,5,11,"mat-cell",26),e.BQk(),e.ynx(47,27),e.YNc(48,wo,2,1,"mat-header-cell",20),e.YNc(49,Eo,3,4,"mat-cell",21),e.BQk(),e.ynx(50,28),e.YNc(51,Io,2,1,"mat-header-cell",20),e.YNc(52,Lo,3,4,"mat-cell",21),e.BQk(),e.ynx(53,29),e.YNc(54,xo,2,1,"mat-header-cell",20),e.YNc(55,Ro,3,3,"mat-cell",21),e.BQk(),e.ynx(56,30),e.YNc(57,Uo,2,1,"mat-header-cell",20),e.YNc(58,yo,3,3,"mat-cell",21),e.BQk(),e.ynx(59,31),e.YNc(60,No,2,1,"mat-header-cell",20),e.YNc(61,Do,3,3,"mat-cell",21),e.BQk(),e.ynx(62,32),e.YNc(63,qo,2,1,"mat-header-cell",20),e.YNc(64,Oo,2,1,"mat-cell",21),e.BQk(),e.ynx(65,33),e.YNc(66,Jo,2,1,"mat-header-cell",20),e.YNc(67,Yo,2,1,"mat-cell",21),e.BQk(),e.ynx(68,34),e.YNc(69,Go,3,3,"mat-header-cell",35),e.YNc(70,Ho,20,9,"mat-cell",36),e.BQk(),e.YNc(71,Fo,1,0,"mat-header-row",37),e.YNc(72,jo,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(73,39),e.TgZ(74,"mat-paginator",40,41),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,$o)))},dependencies:[_.mk,_.O5,_.PC,f.JJ,f.On,j.RK,D.Hw,O.Nt,E.VK,E.OP,E.p6,$.NW,q.Rr,L.YE,L.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,K.y,V.q,W.Z,oe.G,_.Ov,g.X$,z.B,X.J,ee.Y,ne.G,ie.Y,te.r],encapsulation:2})),a})();var se=h(83704),me=h(51797);const Vo=["vform"];function Wo(n,a){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function zo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Xo(n,a){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function en(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," LinkMemberId is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function tn(n,a){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function on(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function nn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-slide-toggle",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToAllData=o)}),e._uU(1),e.qZA()}if(2&n){const i=e.oxw();e.Q6J("ngModel",i.dataModel.userAccessAdminAllowToAllData)("disabled",!(null!=i.fieldsInfo.userAccessAdminAllowToAllData&&i.fieldsInfo.userAccessAdminAllowToAllData.accessEditField)),e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function sn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-slide-toggle",42),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToProfessionalData=o)}),e._uU(1),e.qZA()}if(2&n){const i=e.oxw();e.Q6J("ngModel",i.dataModel.userAccessAdminAllowToProfessionalData)("disabled",!(null!=i.fieldsInfo.userAccessAdminAllowToProfessionalData&&i.fieldsInfo.userAccessAdminAllowToProfessionalData.accessEditField)),e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function an(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-slide-toggle",43),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.rememberOnDevice=o)}),e._uU(1),e.qZA()}if(2&n){const i=e.oxw();e.Q6J("ngModel",i.dataModel.rememberOnDevice)("disabled",!(null!=i.fieldsInfo.rememberOnDevice&&i.fieldsInfo.rememberOnDevice.accessEditField)),e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ln(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.browserLanguage="")}),e._uU(1,"close"),e.qZA()}}function rn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.userLanguage=null)}),e._uU(1,"close"),e.qZA()}}function cn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.deviceClientMAC=null)}),e._uU(1,"close"),e.qZA()}}function dn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.token=null)}),e._uU(1,"close"),e.qZA()}}function un(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.linkDeviceId=null)}),e._uU(1,"close"),e.qZA()}}function mn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.linkApplicationId=null)}),e._uU(1,"close"),e.qZA()}}function pn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw(2);return e.KtG(o.dataModel.tokenExpireDate=null)}),e._uU(1,"close"),e.qZA()}}function _n(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-form-field",5)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.tokenExpireDate=o)}),e.qZA(),e.YNc(4,pn,2,0,"mat-icon",21),e._UZ(5,"mat-datepicker-toggle",46)(6,"mat-datepicker",47,48),e.qZA()}if(2&n){const i=e.MAs(7),t=e.oxw();e.xp6(2),e.Oqu(null==t.fieldsInfo.tokenExpireDate?null:t.fieldsInfo.tokenExpireDate.fieldTitle),e.xp6(1),e.Q6J("matDatepicker",i)("ngModel",t.dataModel.tokenExpireDate),e.xp6(1),e.Q6J("ngIf",t.dataModel.tokenExpireDate&&(null==t.fieldsInfo.tokenExpireDate?null:t.fieldsInfo.tokenExpireDate.accessEditField)),e.xp6(1),e.Q6J("for",i)}}function hn(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",49),e.ALo(2,"prettyjson"),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,i.dataModel),e.oJD)}}function fn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",35)(1,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",51),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",52),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormSubmit())}),e._UZ(6,"i",53),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){e.oxw();const i=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!i.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let gn=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenUserService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.amQ),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenUserService=r,this.cmsToastrService=d,this.tokenHelper=p,this.publicHelper=T,this.cdr=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,G.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(c.dR.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.sending_information_to_the_server")),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorEdit(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionSiteSelect(t){t&&t.id>0&&(this.dataModel.linkSiteId=t.id)}onActionUserSelect(t){t&&t.id>0&&(this.dataModel.linkUserId=t.id)}onActionMemberSelect(t){t&&t.id.length>0&&(this.dataModel.linkMemberId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.O0p),e.Y36(M.e),e.Y36(v.v),e.Y36(w.i),e.Y36(e.sBO),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(Vo,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:99,vars:62,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["name","dataModel.linkMemberId","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["LinkMemberId","ngModel"],["name","dataModel.userAccessAreaType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"optionDisabled","optionLoading","optionSelectForce","optionPlaceholder","optionChange","optionLoadingChange"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["matInput","","name","dataModel.browserLanguage","type","text","placeholder","BrowserLanguage",3,"ngModel","ngModelChange"],["BrowserLanguage",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.userLanguage","type","text","placeholder","UserLanguage",3,"ngModel","ngModelChange"],["UserLanguage",""],["matInput","","name","dataModel.deviceClientMAC","type","text","placeholder","DeviceClientMAC",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],["matInput","","name","dataModel.token","type","text","placeholder","Token",3,"ngModel","ngModelChange"],["Token",""],["matInput","","name","dataModel.linkDeviceId","type","text","placeholder","LinkDeviceId",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["matInput","","name","dataModel.linkApplicationId","type","text","placeholder","LinkApplicationId",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["class","ntk-full-width",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.tokenExpireDate",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["touchUi",""],["tokenExpireDate",""],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(r){return o.dataModel.recordStatus=r}),e.YNc(9,Wo,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,zo,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"mat-form-field",5)(15,"mat-select",11,12),e.NdJ("ngModelChange",function(r){return o.dataModel.linkMemberId=r}),e.ALo(17,"translate"),e.YNc(18,Xo,2,2,"mat-option",8),e.qZA(),e.TgZ(19,"mat-hint",9),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.YNc(22,en,5,3,"mat-error",10),e.qZA(),e.TgZ(23,"mat-form-field",5)(24,"mat-select",13,14),e.NdJ("ngModelChange",function(r){return o.dataModel.userAccessAreaType=r}),e.ALo(26,"translate"),e.YNc(27,tn,2,2,"mat-option",8),e.qZA(),e.TgZ(28,"mat-hint",9),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.YNc(31,on,5,3,"mat-error",10),e.qZA(),e.TgZ(32,"app-cms-site-selector",15),e.NdJ("optionChange",function(r){return o.onActionSiteSelect(r)})("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(33,"app-cms-user-selector",15),e.NdJ("optionChange",function(r){return o.onActionUserSelect(r)})("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(34,"app-cms-member-selector",15),e.NdJ("optionChange",function(r){return o.onActionMemberSelect(r)})("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(35,"div",5),e.YNc(36,nn,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(37,"div",5),e.YNc(38,sn,2,3,"mat-slide-toggle",17),e.qZA(),e.TgZ(39,"div",5),e.YNc(40,an,2,3,"mat-slide-toggle",18),e.qZA(),e.TgZ(41,"mat-form-field",5)(42,"mat-label"),e._uU(43,"BrowserLanguage"),e.qZA(),e.TgZ(44,"input",19,20),e.NdJ("ngModelChange",function(r){return o.dataModel.browserLanguage=r}),e.qZA(),e.YNc(46,ln,2,0,"mat-icon",21),e.TgZ(47,"mat-icon",22),e._uU(48,"mode_edit"),e.qZA()(),e.TgZ(49,"mat-form-field",5)(50,"mat-label"),e._uU(51,"UserLanguage"),e.qZA(),e.TgZ(52,"input",23,24),e.NdJ("ngModelChange",function(r){return o.dataModel.userLanguage=r}),e.qZA(),e.YNc(54,rn,2,0,"mat-icon",21),e.TgZ(55,"mat-icon",22),e._uU(56,"mode_edit"),e.qZA()(),e.TgZ(57,"mat-form-field",5)(58,"mat-label"),e._uU(59,"DeviceClientMAC"),e.qZA(),e.TgZ(60,"input",25,26),e.NdJ("ngModelChange",function(r){return o.dataModel.deviceClientMAC=r}),e.qZA(),e.YNc(62,cn,2,0,"mat-icon",21),e.TgZ(63,"mat-icon",22),e._uU(64,"mode_edit"),e.qZA()(),e.TgZ(65,"mat-form-field",5)(66,"mat-label"),e._uU(67,"Token"),e.qZA(),e.TgZ(68,"input",27,28),e.NdJ("ngModelChange",function(r){return o.dataModel.token=r}),e.qZA(),e.YNc(70,dn,2,0,"mat-icon",21),e.TgZ(71,"mat-icon",22),e._uU(72,"mode_edit"),e.qZA()(),e.TgZ(73,"mat-form-field",5)(74,"mat-label"),e._uU(75,"LinkDeviceId"),e.qZA(),e.TgZ(76,"input",29,30),e.NdJ("ngModelChange",function(r){return o.dataModel.linkDeviceId=r}),e.qZA(),e.YNc(78,un,2,0,"mat-icon",21),e.TgZ(79,"mat-icon",22),e._uU(80,"mode_edit"),e.qZA()(),e.TgZ(81,"mat-form-field",5)(82,"mat-label"),e._uU(83,"LinkApplicationId"),e.qZA(),e.TgZ(84,"input",31,32),e.NdJ("ngModelChange",function(r){return o.dataModel.linkApplicationId=r}),e.qZA(),e.YNc(86,mn,2,0,"mat-icon",21),e.TgZ(87,"mat-icon",22),e._uU(88,"mode_edit"),e.qZA()(),e.YNc(89,_n,8,5,"mat-form-field",33),e.YNc(90,hn,3,3,"div",10),e.qZA(),e.TgZ(91,"div",34)(92,"div",35)(93,"small",36),e._uU(94),e.qZA(),e.TgZ(95,"small",37),e._uU(96),e.qZA()()(),e.TgZ(97,"div",38),e.YNc(98,fn,9,7,"div",39),e.qZA()()),2&t){const l=e.MAs(8),r=e.MAs(16),d=e.MAs(25);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,52,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(17,54,"TITLE.Status")),e.MGl("panelClass","LinkMemberId-",o.dataModel.linkMemberId,""),e.Q6J("ngModel",o.dataModel.linkMemberId),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessUserTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(21,56,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==r.errors?null:r.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(26,58,"TITLE.Status")),e.MGl("panelClass","UserAccessAreaType-",o.dataModel.userAccessAreaType,""),e.Q6J("ngModel",o.dataModel.userAccessAreaType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(30,60,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==d.errors?null:d.errors.required),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkMemberId)("optionPlaceholder",o.translate.instant("TITLE.Member")),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToAllData?null:o.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToProfessionalData?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.rememberOnDevice?null:o.fieldsInfo.rememberOnDevice.accessWatchField),e.xp6(4),e.Q6J("ngModel",o.dataModel.browserLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.browserLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.userLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.userLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.deviceClientMAC),e.xp6(2),e.Q6J("ngIf",o.dataModel.deviceClientMAC),e.xp6(6),e.Q6J("ngModel",o.dataModel.token),e.xp6(2),e.Q6J("ngIf",o.dataModel.token),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkDeviceId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkDeviceId),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkApplicationId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkApplicationId),e.xp6(3),e.Q6J("ngIf",null==o.fieldsInfo.tokenExpireDate?null:o.fieldsInfo.tokenExpireDate.accessWatchField),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.mk,_.sg,_.O5,f._Y,f.Fj,f.JJ,f.JL,f.Q7,f.On,f.F,Q.ey,se.Mq,se.hl,se.nW,b.KE,b.hX,b.bx,b.TO,b.R9,D.Hw,O.Nt,B.gD,q.Rr,H.P,F.g,me.a,I.O,g.X$,ae.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();const Tn=["vform"];function Cn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Sn=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenUserService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.amQ),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenUserService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=T,this.publicHelper=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.O0p),e.Y36(M.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(Tn,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Cn,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,I.O,P.v,g.X$]})),a})();var An=h(35952);function bn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function Zn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function kn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Mn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",12),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function vn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function wn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function En(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function In(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ln(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function xn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function Rn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function Un(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberId?null:i.fieldsInfo.linkMemberId.fieldTitle," ")}}function yn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberId," ")}}function Nn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.recordStatus?null:i.fieldsInfo.recordStatus.fieldTitle," ")}}const Dn=function(n){return{display:n}};function qn(n,a){if(1&n&&(e.TgZ(0,"mat-cell",48),e.ALo(1,"statusCellClass"),e._UZ(2,"i",48),e.ALo(3,"statusIconClass"),e._UZ(4,"select",49),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,i.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,i.recordStatus)),e.xp6(2),e.Q6J("contentService",t.contentService)("row",i)("ngStyle",e.VKq(9,Dn,i.id===t.tableRowSelected.id?"":"none"))}}function On(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Jn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Yn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userType?null:i.fieldsInfo.userType.fieldTitle," ")}}function Gn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userType,t.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Qn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Bn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",48),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToAllData))}}function Hn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Fn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",48),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToProfessionalData))}}function Pn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function jn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",48),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.rememberOnDevice))}}function $n(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function Kn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function Vn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.tokenExpireDate?null:i.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function Wn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.tokenExpireDate)," ")}}function zn(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Xn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function ei(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function ti(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,52),e.YNc(6,Xn,6,3,"button",53),e.YNc(7,ei,6,3,"button",53),e.TgZ(8,"button",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"button",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewMemberRow(l))}),e.TgZ(21,"mat-icon"),e._uU(22,"assignment_ind"),e.qZA(),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"button",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewDeviceRow(l))}),e.TgZ(27,"mat-icon"),e._uU(28,"device_unknown"),e.qZA(),e.TgZ(29,"span"),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()}if(2&n){const i=e.MAs(5),t=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",t.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,7,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,9,"ACTION.USER")),e.xp6(6),e.Oqu(e.lcZ(25,11,"ACTION.MEMBER")),e.xp6(6),e.Oqu(e.lcZ(31,13,"ACTION.DEVICE"))}}function oi(n,a){1&n&&e._UZ(0,"mat-header-row")}const ni=function(n){return{background:n}};function ii(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",55),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,ni,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const si=function(){return[5,10,20,100]};let re=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S,x){if((0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new y.dj),(0,s.Z)(this,"optionsStatist",new N.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.amQ),(0,s.Z)(this,"tableSource",new m.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=d,this.tokenHelper=p,this.dialog=T,this.cdr=C,this.translate=S,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const u=new c.AO3;u.propertyName="LinkCmsSiteId",u.value=this.requestLinkSiteId,this.filteModelContent.filters.push(u)}if(this.requestLinkUserId>0){const u=new c.AO3;u.propertyName="LinkUserId",u.value=this.requestLinkUserId,this.filteModelContent.filters.push(u)}if(this.requestLinkDeviceId>0){const u=new c.AO3;u.propertyName="LinkDeviceId",u.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(u)}this.optionsSearch.parentMethods={onSubmit:u=>this.onSubmitOptionsSearch(u)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.amQ);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Sn,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(gn,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"main";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(Y.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(J.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.O0p),e.Y36(w.i),e.Y36(M.e),e.Y36(R.s),e.Y36(Z.gz),e.Y36(v.v),e.Y36(A.uw),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(Z.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:77,vars:32,consts:[[3,"Key","svg"],[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e._UZ(0,"app-cms-guide-notice",0),e.TgZ(1,"app-cms-html-list",1),e.ynx(2,2),e._uU(3," -------------------------------------- "),e.BQk(),e.GkF(4,3),e.ynx(5,4),e.YNc(6,bn,3,3,"button",5),e.YNc(7,Zn,3,3,"button",6),e.YNc(8,kn,3,3,"button",7),e.TgZ(9,"a",8)(10,"mat-slide-toggle",9),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"a",8)(14,"mat-slide-toggle",10),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"button",11),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(18,"mat-icon",12),e.ALo(19,"translate"),e._uU(20,"cloud_download"),e.qZA()(),e.YNc(21,Mn,4,3,"button",13),e.TgZ(22,"button",11),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(23,"mat-icon",12),e.ALo(24,"translate"),e._uU(25,"refresh"),e.qZA()(),e.YNc(26,vn,3,3,"button",14),e.BQk(),e.ynx(27,15),e.TgZ(28,"app-cms-search-list",16),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(29,"app-cms-statist-list",16),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(30,17),e.TgZ(31,"mat-table",18,19),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(32);return e.KtG(o.onTableSortData(d))}),e.ynx(33,20),e.YNc(34,wn,2,1,"mat-header-cell",21),e.YNc(35,En,2,1,"mat-cell",22),e.BQk(),e.ynx(36,23),e.YNc(37,In,2,1,"mat-header-cell",21),e.YNc(38,Ln,4,5,"mat-cell",22),e.BQk(),e.ynx(39,24),e.YNc(40,xn,2,1,"mat-header-cell",21),e.YNc(41,Rn,4,5,"mat-cell",22),e.BQk(),e.ynx(42,25),e.YNc(43,Un,2,1,"mat-header-cell",21),e.YNc(44,yn,2,1,"mat-cell",22),e.BQk(),e.ynx(45,26),e.YNc(46,Nn,2,1,"mat-header-cell",21),e.YNc(47,qn,5,11,"mat-cell",27),e.BQk(),e.ynx(48,28),e.YNc(49,On,2,1,"mat-header-cell",21),e.YNc(50,Jn,3,4,"mat-cell",22),e.BQk(),e.ynx(51,29),e.YNc(52,Yn,2,1,"mat-header-cell",21),e.YNc(53,Gn,3,4,"mat-cell",22),e.BQk(),e.ynx(54,30),e.YNc(55,Qn,2,1,"mat-header-cell",21),e.YNc(56,Bn,3,3,"mat-cell",22),e.BQk(),e.ynx(57,31),e.YNc(58,Hn,2,1,"mat-header-cell",21),e.YNc(59,Fn,3,3,"mat-cell",22),e.BQk(),e.ynx(60,32),e.YNc(61,Pn,2,1,"mat-header-cell",21),e.YNc(62,jn,3,3,"mat-cell",22),e.BQk(),e.ynx(63,33),e.YNc(64,$n,2,1,"mat-header-cell",21),e.YNc(65,Kn,2,1,"mat-cell",22),e.BQk(),e.ynx(66,34),e.YNc(67,Vn,2,1,"mat-header-cell",21),e.YNc(68,Wn,2,1,"mat-cell",22),e.BQk(),e.ynx(69,35),e.YNc(70,zn,3,3,"mat-header-cell",36),e.YNc(71,ti,32,15,"mat-cell",37),e.BQk(),e.YNc(72,oi,1,0,"mat-header-row",38),e.YNc(73,ii,1,3,"mat-row",39),e.qZA(),e.BQk(),e.ynx(74,40),e.TgZ(75,"mat-paginator",41,42),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("Key","report.user.list")("svg","assets/media/svg/icons/General/Notifications1.svg"),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(12,23,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(16,25,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(19,27,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(24,29,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(31,si)))},dependencies:[_.mk,_.O5,_.PC,f.JJ,f.On,j.RK,D.Hw,O.Nt,E.VK,E.OP,E.p6,$.NW,q.Rr,L.YE,L.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,K.y,V.q,An.v,W.Z,oe.G,_.Ov,g.X$,z.B,X.J,ee.Y,ne.G,ie.Y,te.r],encapsulation:2})),a})();const ai=["vform"];function li(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.usedUsername=null)}),e._uU(1,"close"),e.qZA()}}function ri(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.usedPwd=null)}),e._uU(1,"close"),e.qZA()}}function ci(n,a){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function di(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function ui(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.linkDeviceId=null)}),e._uU(1,"close"),e.qZA()}}function mi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.linkApplicationId=null)}),e._uU(1,"close"),e.qZA()}}function pi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.deviceClientMAC=null)}),e._uU(1,"close"),e.qZA()}}function _i(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",30),e.ALo(2,"prettyjson"),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,i.dataModel),e.oJD)}}function hi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",23)(1,"button",31),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",32),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let fi=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenUserBadLoginService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.u1Z),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenUserBadLoginService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=T,this.publicHelper=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,G.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(c.dR.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.Q0Y),e.Y36(M.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(ai,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:65,vars:38,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["matInput","","name","dataModel.usedUsername","type","text","placeholder","UsedUsername",3,"ngModel","ngModelChange"],["UsedUsername",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.usedPwd","type","text","placeholder","UsedPwd",3,"ngModel","ngModelChange"],["UsedPwd",""],["name","dataModel.userAccessAreaType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["matInput","","name","dataModel.linkDeviceId","type","text","placeholder","LinkDeviceId",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["matInput","","name","dataModel.linkApplicationId","type","text","placeholder","LinkApplicationId",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["matInput","","name","dataModel.deviceClientMAC","type","text","placeholder","DeviceClientMAC",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-label"),e._uU(6,"UsedUsername"),e.qZA(),e.TgZ(7,"input",4,5),e.NdJ("ngModelChange",function(r){return o.dataModel.usedUsername=r}),e.qZA(),e.YNc(9,li,2,0,"mat-icon",6),e.TgZ(10,"mat-icon",7),e._uU(11,"mode_edit"),e.qZA()(),e.TgZ(12,"mat-form-field",3)(13,"mat-label"),e._uU(14,"UsedPwd"),e.qZA(),e.TgZ(15,"input",8,9),e.NdJ("ngModelChange",function(r){return o.dataModel.usedPwd=r}),e.qZA(),e.YNc(17,ri,2,0,"mat-icon",6),e.TgZ(18,"mat-icon",7),e._uU(19,"mode_edit"),e.qZA()(),e.TgZ(20,"mat-form-field",3)(21,"mat-select",10,11),e.NdJ("ngModelChange",function(r){return o.dataModel.userAccessAreaType=r}),e.ALo(23,"translate"),e.YNc(24,ci,2,2,"mat-option",12),e.qZA(),e.TgZ(25,"mat-hint",13),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.YNc(28,di,5,3,"mat-error",14),e.qZA(),e.TgZ(29,"app-cms-site-selector",15),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(30,"app-cms-user-selector",15),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(31,"app-cms-member-selector",15),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(32,"mat-form-field",3)(33,"mat-label"),e._uU(34,"LinkDeviceId"),e.qZA(),e.TgZ(35,"input",16,17),e.NdJ("ngModelChange",function(r){return o.dataModel.linkDeviceId=r}),e.qZA(),e.YNc(37,ui,2,0,"mat-icon",6),e.TgZ(38,"mat-icon",7),e._uU(39,"mode_edit"),e.qZA()(),e.TgZ(40,"mat-form-field",3)(41,"mat-label"),e._uU(42,"LinkApplicationId"),e.qZA(),e.TgZ(43,"input",18,19),e.NdJ("ngModelChange",function(r){return o.dataModel.linkApplicationId=r}),e.qZA(),e.YNc(45,mi,2,0,"mat-icon",6),e.TgZ(46,"mat-icon",7),e._uU(47,"mode_edit"),e.qZA()(),e.TgZ(48,"mat-form-field",3)(49,"mat-label"),e._uU(50,"DeviceClientMAC"),e.qZA(),e.TgZ(51,"input",20,21),e.NdJ("ngModelChange",function(r){return o.dataModel.deviceClientMAC=r}),e.qZA(),e.YNc(53,pi,2,0,"mat-icon",6),e.TgZ(54,"mat-icon",7),e._uU(55,"mode_edit"),e.qZA()(),e.YNc(56,_i,3,3,"div",14),e.qZA(),e.TgZ(57,"div",22)(58,"div",23)(59,"small",24),e._uU(60),e.qZA(),e.TgZ(61,"small",25),e._uU(62),e.qZA()()(),e.TgZ(63,"div",26),e.YNc(64,hi,5,3,"div",27),e.qZA()),2&t){const l=e.MAs(22);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(4),e.Q6J("ngModel",o.dataModel.usedUsername),e.xp6(2),e.Q6J("ngIf",o.dataModel.usedUsername),e.xp6(6),e.Q6J("ngModel",o.dataModel.usedPwd),e.xp6(2),e.Q6J("ngIf",o.dataModel.usedPwd),e.xp6(4),e.s9C("placeholder",e.lcZ(23,34,"TITLE.Status")),e.MGl("panelClass","UserAccessAreaType-",o.dataModel.userAccessAreaType,""),e.Q6J("ngModel",o.dataModel.userAccessAreaType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(27,36,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.Member")),e.xp6(4),e.Q6J("ngModel",o.dataModel.linkDeviceId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkDeviceId),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkApplicationId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkApplicationId),e.xp6(6),e.Q6J("ngModel",o.dataModel.deviceClientMAC),e.xp6(2),e.Q6J("ngIf",o.dataModel.deviceClientMAC),e.xp6(3),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.sg,_.O5,f.Fj,f.JJ,f.Q7,f.On,Q.ey,b.KE,b.hX,b.bx,b.TO,b.R9,D.Hw,O.Nt,B.gD,H.P,F.g,me.a,I.O,g.X$,ae.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();const gi=["vform"];function Ti(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Ci=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenUserBadLoginService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.u1Z),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenUserBadLoginService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=T,this.publicHelper=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.Q0Y),e.Y36(M.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(gi,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Ti,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,I.O,P.v,g.X$]})),a})();function Si(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function Ai(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function bi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Zi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function ki(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Mi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function vi(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function wi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ei(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function Ii(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function Li(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function xi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberId?null:i.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ri(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberId," ")}}function Ui(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function yi(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ni(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.usedUsername?null:i.fieldsInfo.usedUsername.fieldTitle," ")}}function Di(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.usedUsername," ")}}function qi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function Oi(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function Ji(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Yi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Gi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Qi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-cell",41)(1,"button",42)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,43),e.YNc(6,Yi,6,3,"button",44),e.YNc(7,Gi,6,3,"button",44),e.TgZ(8,"button",45),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",45),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"button",45),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewMemberRow(l))}),e.TgZ(21,"mat-icon"),e._uU(22,"assignment_ind"),e.qZA(),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"button",45),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewDeviceRow(l))}),e.TgZ(27,"mat-icon"),e._uU(28,"device_unknown"),e.qZA(),e.TgZ(29,"span"),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()}if(2&n){const i=e.MAs(5),t=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",t.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,7,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,9,"ACTION.USER")),e.xp6(6),e.Oqu(e.lcZ(25,11,"ACTION.MEMBER")),e.xp6(6),e.Oqu(e.lcZ(31,13,"ACTION.DEVICE"))}}function Bi(n,a){1&n&&e._UZ(0,"mat-header-row")}const Hi=function(n){return{background:n}};function Fi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",46),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,Hi,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const Pi=function(){return[5,10,20,100]};let ce=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S,x,u){if((0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new y.dj),(0,s.Z)(this,"optionsStatist",new N.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.u1Z),(0,s.Z)(this,"tableSource",new m.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.coreEnumService=t,this.contentService=o,this.publicHelper=l,this.cmsToastrService=r,this.cmsConfirmationDialogService=d,this.activatedRoute=p,this.dialog=T,this.tokenHelper=C,this.cdr=S,this.translate=x,this.router=u,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const U=new c.AO3;U.propertyName="LinkCmsSiteId",U.value=this.requestLinkSiteId,this.filteModelContent.filters.push(U)}if(this.requestLinkUserId>0){const U=new c.AO3;U.propertyName="LinkUserId",U.value=this.requestLinkUserId,this.filteModelContent.filters.push(U)}if(this.requestLinkDeviceId>0){const U=new c.AO3;U.propertyName="LinkDeviceId",U.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(U)}this.optionsSearch.parentMethods={onSubmit:U=>this.onSubmitOptionsSearch(U)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.u1Z);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Ci,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(fi,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"main";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(Y.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(J.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.FLW),e.Y36(c.Q0Y),e.Y36(w.i),e.Y36(M.e),e.Y36(R.s),e.Y36(Z.gz),e.Y36(A.uw),e.Y36(v.v),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(Z.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:61,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,Si,3,3,"button",4),e.YNc(6,Ai,3,3,"button",5),e.YNc(7,bi,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,Zi,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,ki,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(31);return e.KtG(o.onTableSortData(d))}),e.ynx(32,19),e.YNc(33,Mi,2,1,"mat-header-cell",20),e.YNc(34,vi,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,wi,2,1,"mat-header-cell",20),e.YNc(37,Ei,4,5,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,Ii,2,1,"mat-header-cell",20),e.YNc(40,Li,4,5,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,xi,2,1,"mat-header-cell",20),e.YNc(43,Ri,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,Ui,2,1,"mat-header-cell",20),e.YNc(46,yi,3,4,"mat-cell",21),e.BQk(),e.ynx(47,26),e.YNc(48,Ni,2,1,"mat-header-cell",20),e.YNc(49,Di,2,1,"mat-cell",21),e.BQk(),e.ynx(50,27),e.YNc(51,qi,2,1,"mat-header-cell",20),e.YNc(52,Oi,2,1,"mat-cell",21),e.BQk(),e.ynx(53,28),e.YNc(54,Ji,3,3,"mat-header-cell",29),e.YNc(55,Qi,32,15,"mat-cell",30),e.BQk(),e.YNc(56,Bi,1,0,"mat-header-row",31),e.YNc(57,Fi,1,3,"mat-row",32),e.qZA(),e.BQk(),e.ynx(58,33),e.TgZ(59,"mat-paginator",34,35),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(26),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,Pi)))},dependencies:[_.O5,_.PC,f.JJ,f.On,j.RK,D.Hw,E.VK,E.OP,E.p6,$.NW,q.Rr,L.YE,L.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,K.y,V.q,W.Z,_.Ov,g.X$,z.B,X.J,ee.Y],encapsulation:2})),a})();const ji=["vform"];function $i(n,a){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function Ki(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Vi(n,a){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function Wi(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," LinkMemberId is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function zi(n,a){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function Xi(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function es(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-slide-toggle",39),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToAllData=o)}),e._uU(1),e.qZA()}if(2&n){const i=e.oxw();e.Q6J("ngModel",i.dataModel.userAccessAdminAllowToAllData)("disabled",!(null!=i.fieldsInfo.userAccessAdminAllowToAllData&&i.fieldsInfo.userAccessAdminAllowToAllData.accessEditField)),e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function ts(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-slide-toggle",40),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToProfessionalData=o)}),e._uU(1),e.qZA()}if(2&n){const i=e.oxw();e.Q6J("ngModel",i.dataModel.userAccessAdminAllowToProfessionalData)("disabled",!(null!=i.fieldsInfo.userAccessAdminAllowToProfessionalData&&i.fieldsInfo.userAccessAdminAllowToProfessionalData.accessEditField)),e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function os(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-slide-toggle",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.rememberOnDevice=o)}),e._uU(1),e.qZA()}if(2&n){const i=e.oxw();e.Q6J("ngModel",i.dataModel.rememberOnDevice)("disabled",!(null!=i.fieldsInfo.rememberOnDevice&&i.fieldsInfo.rememberOnDevice.accessEditField)),e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ns(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.browserLanguage="")}),e._uU(1,"close"),e.qZA()}}function is(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.userLanguage=null)}),e._uU(1,"close"),e.qZA()}}function ss(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.linkDeviceId=null)}),e._uU(1,"close"),e.qZA()}}function as(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.linkApplicationId=null)}),e._uU(1,"close"),e.qZA()}}function ls(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.deviceClientMAC=null)}),e._uU(1,"close"),e.qZA()}}function rs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.token=null)}),e._uU(1,"close"),e.qZA()}}function cs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw(2);return e.KtG(o.dataModel.tokenExpireDate=null)}),e._uU(1,"close"),e.qZA()}}function ds(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-form-field",3)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",43),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.tokenExpireDate=o)}),e.qZA(),e.YNc(4,cs,2,0,"mat-icon",19),e._UZ(5,"mat-datepicker-toggle",44)(6,"mat-datepicker",45,46),e.qZA()}if(2&n){const i=e.MAs(7),t=e.oxw();e.xp6(2),e.Oqu(null==t.fieldsInfo.tokenExpireDate?null:t.fieldsInfo.tokenExpireDate.fieldTitle),e.xp6(1),e.Q6J("matDatepicker",i)("ngModel",t.dataModel.tokenExpireDate),e.xp6(1),e.Q6J("ngIf",t.dataModel.tokenExpireDate&&(null==t.fieldsInfo.tokenExpireDate?null:t.fieldsInfo.tokenExpireDate.accessEditField)),e.xp6(1),e.Q6J("for",i)}}function us(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",47),e.ALo(2,"prettyjson"),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,i.dataModel),e.oJD)}}function ms(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",33)(1,"button",48),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",49),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ps=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenUserLogService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.nZM),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenUserLogService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=T,this.publicHelper=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,G.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.setAccessDataType(c.dR.Editor),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.AMA),e.Y36(M.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(ji,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:97,vars:62,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["name","dataModel.linkMemberId","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["LinkMemberId","ngModel"],["name","dataModel.userAccessAreaType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["matInput","","name","dataModel.browserLanguage","type","text","placeholder","BrowserLanguage",3,"ngModel","ngModelChange"],["BrowserLanguage",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.userLanguage","type","text","placeholder","UserLanguage",3,"ngModel","ngModelChange"],["UserLanguage",""],["matInput","","name","dataModel.linkDeviceId","type","text","placeholder","LinkDeviceId",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["matInput","","name","dataModel.linkApplicationId","type","text","placeholder","LinkApplicationId",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["matInput","","name","dataModel.deviceClientMAC","type","text","placeholder","DeviceClientMAC",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],["matInput","","name","dataModel.token","type","text","placeholder","Token",3,"ngModel","ngModelChange"],["Token",""],["class","ntk-full-width",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.tokenExpireDate",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["touchUi",""],["tokenExpireDate",""],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(r){return o.dataModel.recordStatus=r}),e.YNc(7,$i,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,Ki,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field",3)(13,"mat-select",9,10),e.NdJ("ngModelChange",function(r){return o.dataModel.linkMemberId=r}),e.ALo(15,"translate"),e.YNc(16,Vi,2,2,"mat-option",6),e.qZA(),e.TgZ(17,"mat-hint",7),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,Wi,5,3,"mat-error",8),e.qZA(),e.TgZ(21,"mat-form-field",3)(22,"mat-select",11,12),e.NdJ("ngModelChange",function(r){return o.dataModel.userAccessAreaType=r}),e.ALo(24,"translate"),e.YNc(25,zi,2,2,"mat-option",6),e.qZA(),e.TgZ(26,"mat-hint",7),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.YNc(29,Xi,5,3,"mat-error",8),e.qZA(),e.TgZ(30,"app-cms-site-selector",13),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(31,"app-cms-user-selector",13),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(32,"app-cms-member-selector",13),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(33,"div",3),e.YNc(34,es,2,3,"mat-slide-toggle",14),e.qZA(),e.TgZ(35,"div",3),e.YNc(36,ts,2,3,"mat-slide-toggle",15),e.qZA(),e.TgZ(37,"div",3),e.YNc(38,os,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(39,"mat-form-field",3)(40,"mat-label"),e._uU(41,"BrowserLanguage"),e.qZA(),e.TgZ(42,"input",17,18),e.NdJ("ngModelChange",function(r){return o.dataModel.browserLanguage=r}),e.qZA(),e.YNc(44,ns,2,0,"mat-icon",19),e.TgZ(45,"mat-icon",20),e._uU(46,"mode_edit"),e.qZA()(),e.TgZ(47,"mat-form-field",3)(48,"mat-label"),e._uU(49,"UserLanguage"),e.qZA(),e.TgZ(50,"input",21,22),e.NdJ("ngModelChange",function(r){return o.dataModel.userLanguage=r}),e.qZA(),e.YNc(52,is,2,0,"mat-icon",19),e.TgZ(53,"mat-icon",20),e._uU(54,"mode_edit"),e.qZA()(),e.TgZ(55,"mat-form-field",3)(56,"mat-label"),e._uU(57,"LinkDeviceId"),e.qZA(),e.TgZ(58,"input",23,24),e.NdJ("ngModelChange",function(r){return o.dataModel.linkDeviceId=r}),e.qZA(),e.YNc(60,ss,2,0,"mat-icon",19),e.TgZ(61,"mat-icon",20),e._uU(62,"mode_edit"),e.qZA()(),e.TgZ(63,"mat-form-field",3)(64,"mat-label"),e._uU(65,"LinkApplicationId"),e.qZA(),e.TgZ(66,"input",25,26),e.NdJ("ngModelChange",function(r){return o.dataModel.linkApplicationId=r}),e.qZA(),e.YNc(68,as,2,0,"mat-icon",19),e.TgZ(69,"mat-icon",20),e._uU(70,"mode_edit"),e.qZA()(),e.TgZ(71,"mat-form-field",3)(72,"mat-label"),e._uU(73,"DeviceClientMAC"),e.qZA(),e.TgZ(74,"input",27,28),e.NdJ("ngModelChange",function(r){return o.dataModel.deviceClientMAC=r}),e.qZA(),e.YNc(76,ls,2,0,"mat-icon",19),e.TgZ(77,"mat-icon",20),e._uU(78,"mode_edit"),e.qZA()(),e.TgZ(79,"mat-form-field",3)(80,"mat-label"),e._uU(81,"Token"),e.qZA(),e.TgZ(82,"input",29,30),e.NdJ("ngModelChange",function(r){return o.dataModel.token=r}),e.qZA(),e.YNc(84,rs,2,0,"mat-icon",19),e.TgZ(85,"mat-icon",20),e._uU(86,"mode_edit"),e.qZA()(),e.YNc(87,ds,8,5,"mat-form-field",31),e.YNc(88,us,3,3,"div",8),e.qZA(),e.TgZ(89,"div",32)(90,"div",33)(91,"small",34),e._uU(92),e.qZA(),e.TgZ(93,"small",35),e._uU(94),e.qZA()()(),e.TgZ(95,"div",36),e.YNc(96,ms,5,3,"div",37),e.qZA()),2&t){const l=e.MAs(6),r=e.MAs(14),d=e.MAs(23);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,52,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(15,54,"TITLE.Status")),e.MGl("panelClass","LinkMemberId-",o.dataModel.linkMemberId,""),e.Q6J("ngModel",o.dataModel.linkMemberId),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessUserTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(19,56,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==r.errors?null:r.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(24,58,"TITLE.Status")),e.MGl("panelClass","UserAccessAreaType-",o.dataModel.userAccessAreaType,""),e.Q6J("ngModel",o.dataModel.userAccessAreaType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(28,60,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==d.errors?null:d.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.Member")),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToAllData?null:o.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToProfessionalData?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.rememberOnDevice?null:o.fieldsInfo.rememberOnDevice.accessWatchField),e.xp6(4),e.Q6J("ngModel",o.dataModel.browserLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.browserLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.userLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.userLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkDeviceId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkDeviceId),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkApplicationId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkApplicationId),e.xp6(6),e.Q6J("ngModel",o.dataModel.deviceClientMAC),e.xp6(2),e.Q6J("ngIf",o.dataModel.deviceClientMAC),e.xp6(6),e.Q6J("ngModel",o.dataModel.token),e.xp6(2),e.Q6J("ngIf",o.dataModel.token),e.xp6(3),e.Q6J("ngIf",null==o.fieldsInfo.tokenExpireDate?null:o.fieldsInfo.tokenExpireDate.accessWatchField),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.mk,_.sg,_.O5,f.Fj,f.JJ,f.Q7,f.On,Q.ey,se.Mq,se.hl,se.nW,b.KE,b.hX,b.bx,b.TO,b.R9,D.Hw,O.Nt,B.gD,q.Rr,H.P,F.g,me.a,I.O,g.X$,ae.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();const _s=["vform"];function hs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let fs=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenUserLogService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.nZM),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenUserLogService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=T,this.publicHelper=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.AMA),e.Y36(M.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(_s,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,hs,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,I.O,P.v,g.X$]})),a})();function gs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function Ts(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function Cs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Ss(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function As(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function bs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function Zs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function ks(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.description?null:i.fieldsInfo.description.fieldTitle," ")}}function Ms(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.description," ")}}function vs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function ws(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function Es(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function Is(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function Ls(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberUserId?null:i.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function xs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberUserId," ")}}function Rs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Us(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ys(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userType?null:i.fieldsInfo.userType.fieldTitle," ")}}function Ns(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userType,t.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ds(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function qs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",45),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToAllData))}}function Os(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Js(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",45),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToProfessionalData))}}function Ys(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Gs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",45),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.rememberOnDevice))}}function Qs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function Bs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function Hs(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Fs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Ps(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function js(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewSiteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"web"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.SITE")))}function $s(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewUserRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"supervisor_account"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.USER")))}function Ks(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewMemberRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"assignment_ind"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.MEMBER")))}function Vs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewDeviceRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"device_unknown"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DEVICE")))}function Ws(n,a){if(1&n&&(e.TgZ(0,"mat-cell",46)(1,"button",47)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,48),e.YNc(6,Fs,6,3,"button",49),e.YNc(7,Ps,6,3,"button",49),e.YNc(8,js,6,3,"button",49),e.YNc(9,$s,6,3,"button",49),e.YNc(10,Ks,6,3,"button",49),e.YNc(11,Vs,6,3,"button",49),e.qZA()()),2&n){const i=a.$implicit,t=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",i.linkSiteId>0),e.xp6(1),e.Q6J("ngIf",i.linkUserId>0),e.xp6(1),e.Q6J("ngIf",i.linkMemberUserId>0),e.xp6(1),e.Q6J("ngIf",(null==i.deviceClientMAC?null:i.deviceClientMAC.length)>0)}}function zs(n,a){1&n&&e._UZ(0,"mat-header-row")}const Xs=function(n){return{background:n}};function ea(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",51),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,Xs,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const ta=function(){return[5,10,20,100]};let de=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S,x){if((0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new y.dj),(0,s.Z)(this,"optionsStatist",new N.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.nZM),(0,s.Z)(this,"tableSource",new m.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","Description","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=d,this.dialog=p,this.tokenHelper=T,this.cdr=C,this.translate=S,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const u=new c.AO3;u.propertyName="LinkCmsSiteId",u.value=this.requestLinkSiteId,this.filteModelContent.filters.push(u)}if(this.requestLinkUserId>0){const u=new c.AO3;u.propertyName="LinkUserId",u.value=this.requestLinkUserId,this.filteModelContent.filters.push(u)}if(this.requestLinkDeviceId>0){const u=new c.AO3;u.propertyName="LinkDeviceId",u.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(u)}this.optionsSearch.parentMethods={onSubmit:u=>this.onSubmitOptionsSearch(u)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.nZM);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(fs,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ps,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"ServiceDelete";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(Y.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(J.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.AMA),e.Y36(w.i),e.Y36(M.e),e.Y36(R.s),e.Y36(Z.gz),e.Y36(A.uw),e.Y36(v.v),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(Z.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:73,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,gs,3,3,"button",4),e.YNc(6,Ts,3,3,"button",5),e.YNc(7,Cs,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,Ss,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,As,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(31);return e.KtG(o.onTableSortData(d))}),e.ynx(32,19),e.YNc(33,bs,2,1,"mat-header-cell",20),e.YNc(34,Zs,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,ks,2,1,"mat-header-cell",20),e.YNc(37,Ms,2,1,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,vs,2,1,"mat-header-cell",20),e.YNc(40,ws,4,5,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,Es,2,1,"mat-header-cell",20),e.YNc(43,Is,4,5,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,Ls,2,1,"mat-header-cell",20),e.YNc(46,xs,2,1,"mat-cell",21),e.BQk(),e.ynx(47,26),e.YNc(48,Rs,2,1,"mat-header-cell",20),e.YNc(49,Us,3,4,"mat-cell",21),e.BQk(),e.ynx(50,27),e.YNc(51,ys,2,1,"mat-header-cell",20),e.YNc(52,Ns,3,4,"mat-cell",21),e.BQk(),e.ynx(53,28),e.YNc(54,Ds,2,1,"mat-header-cell",20),e.YNc(55,qs,3,3,"mat-cell",21),e.BQk(),e.ynx(56,29),e.YNc(57,Os,2,1,"mat-header-cell",20),e.YNc(58,Js,3,3,"mat-cell",21),e.BQk(),e.ynx(59,30),e.YNc(60,Ys,2,1,"mat-header-cell",20),e.YNc(61,Gs,3,3,"mat-cell",21),e.BQk(),e.ynx(62,31),e.YNc(63,Qs,2,1,"mat-header-cell",20),e.YNc(64,Bs,2,1,"mat-cell",21),e.BQk(),e.ynx(65,32),e.YNc(66,Hs,3,3,"mat-header-cell",33),e.YNc(67,Ws,12,7,"mat-cell",34),e.BQk(),e.YNc(68,zs,1,0,"mat-header-row",35),e.YNc(69,ea,1,3,"mat-row",36),e.qZA(),e.BQk(),e.ynx(70,37),e.TgZ(71,"mat-paginator",38,39),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(38),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,ta)))},dependencies:[_.mk,_.O5,_.PC,f.JJ,f.On,j.RK,D.Hw,E.VK,E.OP,E.p6,$.NW,q.Rr,L.YE,L.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,K.y,V.q,W.Z,_.Ov,g.X$,z.B,X.J,ee.Y,te.r],encapsulation:2})),a})();const oa=["vform"];function na(n,a){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function ia(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function sa(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",17),e.ALo(2,"prettyjson"),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,i.dataModel),e.oJD)}}function aa(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",11)(1,"button",18),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",19),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let la=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenNotificationService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.zjJ),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenNotificationService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=T,this.publicHelper=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,G.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.setAccessDataType(c.dR.Editor),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.Ozq),e.Y36(M.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(oa,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:23,vars:22,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(r){return o.dataModel.recordStatus=r}),e.YNc(7,na,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,ia,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"app-cms-site-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(13,"app-cms-user-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.YNc(14,sa,3,3,"div",8),e.qZA(),e.TgZ(15,"div",10)(16,"div",11)(17,"small",12),e._uU(18),e.qZA(),e.TgZ(19,"small",13),e._uU(20),e.qZA()()(),e.TgZ(21,"div",14),e.YNc(22,aa,5,3,"div",15),e.qZA()),2&t){const l=e.MAs(6);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,20,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.mk,_.sg,_.O5,f.JJ,f.Q7,f.On,Q.ey,b.KE,b.bx,b.TO,B.gD,H.P,F.g,I.O,g.X$,ae.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();const ra=["vform"];function ca(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let da=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenNotificationService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.zjJ),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenNotificationService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=T,this.publicHelper=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.Ozq),e.Y36(M.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-notification-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(ra,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,ca,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,I.O,P.v,g.X$]})),a})();function ua(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function ma(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function pa(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function _a(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function ha(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function fa(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function ga(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function Ta(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ca(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function Sa(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function Aa(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function ba(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberUserId?null:i.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Za(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberUserId," ")}}function ka(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.recordStatus?null:i.fieldsInfo.recordStatus.fieldTitle," ")}}const Ma=function(n){return{display:n}};function va(n,a){if(1&n&&(e.TgZ(0,"mat-cell",47),e.ALo(1,"statusCellClass"),e._UZ(2,"i",47),e.ALo(3,"statusIconClass"),e._UZ(4,"select",48),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,i.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,i.recordStatus)),e.xp6(2),e.Q6J("contentService",t.contentService)("row",i)("ngStyle",e.VKq(9,Ma,i.id===t.tableRowSelected.id?"":"none"))}}function wa(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ea(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ia(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userType?null:i.fieldsInfo.userType.fieldTitle," ")}}function La(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userType,t.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function xa(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ra(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToAllData))}}function Ua(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function ya(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToProfessionalData))}}function Na(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Da(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.rememberOnDevice))}}function qa(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function Oa(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function Ja(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.expireDate?null:i.fieldsInfo.expireDate.fieldTitle," ")}}function Ya(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.expireDate)," ")}}function Ga(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Qa(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Ba(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Ha(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,51),e.YNc(6,Qa,6,3,"button",52),e.YNc(7,Ba,6,3,"button",52),e.TgZ(8,"button",53),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",53),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const i=e.MAs(5),t=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",t.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function Fa(n,a){1&n&&e._UZ(0,"mat-header-row")}const Pa=function(n){return{background:n}};function ja(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,Pa,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const $a=function(){return[5,10,20,100]};let Ka=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S,x){if((0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new y.dj),(0,s.Z)(this,"optionsStatist",new N.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.zjJ),(0,s.Z)(this,"tableSource",new m.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=d,this.dialog=p,this.tokenHelper=T,this.cdr=C,this.translate=S,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const u=new c.AO3;u.propertyName="LinkCmsSiteId",u.value=this.requestLinkSiteId,this.filteModelContent.filters.push(u)}if(this.requestLinkUserId>0){const u=new c.AO3;u.propertyName="LinkUserId",u.value=this.requestLinkUserId,this.filteModelContent.filters.push(u)}if(this.requestLinkDeviceId>0){const u=new c.AO3;u.propertyName="LinkDeviceId",u.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(u)}this.optionsSearch.parentMethods={onSubmit:u=>this.onSubmitOptionsSearch(u)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.zjJ);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(da,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(la,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"main";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(Y.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(J.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.Ozq),e.Y36(w.i),e.Y36(M.e),e.Y36(R.s),e.Y36(Z.gz),e.Y36(A.uw),e.Y36(v.v),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(Z.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-notification-list"]],decls:76,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,ua,3,3,"button",4),e.YNc(6,ma,3,3,"button",5),e.YNc(7,pa,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,_a,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,ha,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(31);return e.KtG(o.onTableSortData(d))}),e.ynx(32,19),e.YNc(33,fa,2,1,"mat-header-cell",20),e.YNc(34,ga,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,Ta,2,1,"mat-header-cell",20),e.YNc(37,Ca,4,5,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,Sa,2,1,"mat-header-cell",20),e.YNc(40,Aa,4,5,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,ba,2,1,"mat-header-cell",20),e.YNc(43,Za,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,ka,2,1,"mat-header-cell",20),e.YNc(46,va,5,11,"mat-cell",26),e.BQk(),e.ynx(47,27),e.YNc(48,wa,2,1,"mat-header-cell",20),e.YNc(49,Ea,3,4,"mat-cell",21),e.BQk(),e.ynx(50,28),e.YNc(51,Ia,2,1,"mat-header-cell",20),e.YNc(52,La,3,4,"mat-cell",21),e.BQk(),e.ynx(53,29),e.YNc(54,xa,2,1,"mat-header-cell",20),e.YNc(55,Ra,3,3,"mat-cell",21),e.BQk(),e.ynx(56,30),e.YNc(57,Ua,2,1,"mat-header-cell",20),e.YNc(58,ya,3,3,"mat-cell",21),e.BQk(),e.ynx(59,31),e.YNc(60,Na,2,1,"mat-header-cell",20),e.YNc(61,Da,3,3,"mat-cell",21),e.BQk(),e.ynx(62,32),e.YNc(63,qa,2,1,"mat-header-cell",20),e.YNc(64,Oa,2,1,"mat-cell",21),e.BQk(),e.ynx(65,33),e.YNc(66,Ja,2,1,"mat-header-cell",20),e.YNc(67,Ya,2,1,"mat-cell",21),e.BQk(),e.ynx(68,34),e.YNc(69,Ga,3,3,"mat-header-cell",35),e.YNc(70,Ha,20,9,"mat-cell",36),e.BQk(),e.YNc(71,Fa,1,0,"mat-header-row",37),e.YNc(72,ja,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(73,39),e.TgZ(74,"mat-paginator",40,41),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,$a)))},dependencies:[_.mk,_.O5,_.PC,f.JJ,f.On,j.RK,D.Hw,O.Nt,E.VK,E.OP,E.p6,$.NW,q.Rr,L.YE,L.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,K.y,V.q,W.Z,oe.G,_.Ov,g.X$,z.B,X.J,ee.Y,ne.G,ie.Y,te.r],encapsulation:2})),a})();const Va=["vform"];function Wa(n,a){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function za(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Xa(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",11)(1,"button",17),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",18),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let el=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenNotificationLogService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.VMP),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenNotificationLogService=r,this.cmsToastrService=d,this.publicHelper=p,this.cdr=T,this.tokenHelper=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,G.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.setAccessDataType(c.dR.Editor),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.b9F),e.Y36(M.e),e.Y36(w.i),e.Y36(e.sBO),e.Y36(v.v),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(Va,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:22,vars:21,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(r){return o.dataModel.recordStatus=r}),e.YNc(7,Wa,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,za,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"app-cms-site-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(13,"app-cms-user-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA()(),e.TgZ(14,"div",10)(15,"div",11)(16,"small",12),e._uU(17),e.qZA(),e.TgZ(18,"small",13),e._uU(19),e.qZA()()(),e.TgZ(20,"div",14),e.YNc(21,Xa,5,3,"div",15),e.qZA()),2&t){const l=e.MAs(6);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,19,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.mk,_.sg,_.O5,f.JJ,f.Q7,f.On,Q.ey,b.KE,b.bx,b.TO,B.gD,H.P,F.g,I.O,g.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();const tl=["vform"];function ol(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let nl=(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenNotificationLogService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.VMP),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenNotificationLogService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=T,this.publicHelper=C,this.translate=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(A.WI),e.Y36(A.so),e.Y36(c.FLW),e.Y36(c.b9F),e.Y36(M.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(g.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(tl,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,ol,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,I.O,P.v,g.X$],encapsulation:2})),a})();function il(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function sl(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function al(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function ll(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function rl(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function cl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function dl(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function ul(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function ml(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function pl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function _l(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function hl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberUserId?null:i.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function fl(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberUserId," ")}}function gl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.recordStatus?null:i.fieldsInfo.recordStatus.fieldTitle," ")}}const Tl=function(n){return{display:n}};function Cl(n,a){if(1&n&&(e.TgZ(0,"mat-cell",47),e.ALo(1,"statusCellClass"),e._UZ(2,"i",47),e.ALo(3,"statusIconClass"),e._UZ(4,"select",48),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,i.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,i.recordStatus)),e.xp6(2),e.Q6J("contentService",t.contentService)("row",i)("ngStyle",e.VKq(9,Tl,i.id===t.tableRowSelected.id?"":"none"))}}function Sl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Al(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function bl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userType?null:i.fieldsInfo.userType.fieldTitle," ")}}function Zl(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userType,t.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function kl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ml(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToAllData))}}function vl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function wl(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToProfessionalData))}}function El(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Il(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.rememberOnDevice))}}function Ll(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function xl(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function Rl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.expireDate?null:i.fieldsInfo.expireDate.fieldTitle," ")}}function Ul(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.expireDate)," ")}}function yl(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Nl(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Dl(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function ql(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,51),e.YNc(6,Nl,6,3,"button",52),e.YNc(7,Dl,6,3,"button",52),e.TgZ(8,"button",53),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",53),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const i=e.MAs(5),t=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",t.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function Ol(n,a){1&n&&e._UZ(0,"mat-header-row")}const Jl=function(n){return{background:n}};function Yl(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,Jl,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const Gl=function(){return[5,10,20,100]},Ql=[{path:"",component:lt,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:re,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:re,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:re,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:re,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:de,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:de,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:de,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:de,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:ce,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:ce,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:ce,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:ce,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:at,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:Ko,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:eo,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:Ka,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:(()=>{var n;class a{constructor(t,o,l,r,d,p,T,C,S,x){if((0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new y.dj),(0,s.Z)(this,"optionsStatist",new N.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new k.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.VMP),(0,s.Z)(this,"tableSource",new m.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=d,this.dialog=p,this.tokenHelper=T,this.cdr=C,this.translate=S,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const u=new c.AO3;u.propertyName="LinkCmsSiteId",u.value=this.requestLinkSiteId,this.filteModelContent.filters.push(u)}if(this.requestLinkUserId>0){const u=new c.AO3;u.propertyName="LinkUserId",u.value=this.requestLinkUserId,this.filteModelContent.filters.push(u)}if(this.requestLinkDeviceId>0){const u=new c.AO3;u.propertyName="LinkDeviceId",u.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(u)}this.optionsSearch.parentMethods={onSubmit:u=>this.onSubmitOptionsSearch(u)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.VMP);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(nl,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(el,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"main";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(Y.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(J.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.b9F),e.Y36(w.i),e.Y36(M.e),e.Y36(R.s),e.Y36(Z.gz),e.Y36(A.uw),e.Y36(v.v),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(Z.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-notificationlog-list"]],decls:76,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,il,3,3,"button",4),e.YNc(6,sl,3,3,"button",5),e.YNc(7,al,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,ll,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,rl,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(31);return e.KtG(o.onTableSortData(d))}),e.ynx(32,19),e.YNc(33,cl,2,1,"mat-header-cell",20),e.YNc(34,dl,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,ul,2,1,"mat-header-cell",20),e.YNc(37,ml,4,5,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,pl,2,1,"mat-header-cell",20),e.YNc(40,_l,4,5,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,hl,2,1,"mat-header-cell",20),e.YNc(43,fl,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,gl,2,1,"mat-header-cell",20),e.YNc(46,Cl,5,11,"mat-cell",26),e.BQk(),e.ynx(47,27),e.YNc(48,Sl,2,1,"mat-header-cell",20),e.YNc(49,Al,3,4,"mat-cell",21),e.BQk(),e.ynx(50,28),e.YNc(51,bl,2,1,"mat-header-cell",20),e.YNc(52,Zl,3,4,"mat-cell",21),e.BQk(),e.ynx(53,29),e.YNc(54,kl,2,1,"mat-header-cell",20),e.YNc(55,Ml,3,3,"mat-cell",21),e.BQk(),e.ynx(56,30),e.YNc(57,vl,2,1,"mat-header-cell",20),e.YNc(58,wl,3,3,"mat-cell",21),e.BQk(),e.ynx(59,31),e.YNc(60,El,2,1,"mat-header-cell",20),e.YNc(61,Il,3,3,"mat-cell",21),e.BQk(),e.ynx(62,32),e.YNc(63,Ll,2,1,"mat-header-cell",20),e.YNc(64,xl,2,1,"mat-cell",21),e.BQk(),e.ynx(65,33),e.YNc(66,Rl,2,1,"mat-header-cell",20),e.YNc(67,Ul,2,1,"mat-cell",21),e.BQk(),e.ynx(68,34),e.YNc(69,yl,3,3,"mat-header-cell",35),e.YNc(70,ql,20,9,"mat-cell",36),e.BQk(),e.YNc(71,Ol,1,0,"mat-header-row",37),e.YNc(72,Yl,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(73,39),e.TgZ(74,"mat-paginator",40,41),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,Gl)))},dependencies:[_.mk,_.O5,_.PC,f.JJ,f.On,j.RK,D.Hw,O.Nt,E.VK,E.OP,E.p6,$.NW,q.Rr,L.YE,L.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,K.y,V.q,W.Z,oe.G,_.Ov,g.X$,z.B,X.J,ee.Y,ne.G,ie.Y,te.r],encapsulation:2})),a})(),data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}];let Bl=(()=>{var n;class a{}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)}),(0,s.Z)(a,"\u0275mod",e.oAB({type:n})),(0,s.Z)(a,"\u0275inj",e.cJS({imports:[Z.Bz.forChild(Ql),Z.Bz]})),a})(),Hl=(()=>{var n;class a{}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)}),(0,s.Z)(a,"\u0275mod",e.oAB({type:n})),(0,s.Z)(a,"\u0275inj",e.cJS({providers:[c.EAm,c.FLW,c.O0p,c.AMA,c.Q0Y,c.x6v,c.mPJ,c.qOP,c.Ozq,c.b9F,c.k$Z,R.s],imports:[Bl,_.ez,f.u5,f.UX.withConfig({warnOnNgModelWithFormControl:"never"}),ue.m.forRoot()]})),a})()},99654:(pe,le,h)=>{h.d(le,{B:()=>f});var s=h(86889),_=h(64537);let f=(()=>{var c;class R{transform(Z,m){if(!m||0===m.length)return"";const y=m.find(N=>N.key===Z||N.value===Z);return y?y.description:""}}return c=R,(0,s.Z)(R,"\u0275fac",function(Z){return new(Z||c)}),(0,s.Z)(R,"\u0275pipe",_.Yjl({name:"enums",type:c,pure:!0})),R})()}}]);