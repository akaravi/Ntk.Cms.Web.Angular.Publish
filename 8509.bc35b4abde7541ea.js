"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[8509],{58509:($,O,c)=>{c.r(O),c.d(O,{CoreUserSupportAccessCmsModule:()=>Jt});var d=c(86889),f=c(88692),a=c(20092),p=c(34511),h=c(6087),J=c(52337),R=c(26114),A=c(80418),D=c(8918),Z=c(97147),C=c(60656),S=c(76997),K=c(57154),L=c(8239),b=c(54536),e=c(64537),v=c(32607),F=c(94032),y=c(56707),G=c(1379),w=c(88659),q=c(83331),k=c(39665),Y=c(18033),Q=c(64639),P=c(56599),H=c(63181),I=c(75738),E=c(22379);const T=["vform"];function r(s,i){if(1&s&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function u(s,i){1&s&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function M(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.dataModel.moduleName="")}),e._uU(1,"close"),e.qZA()}}function N(s,i){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function _(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-form-field",34)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",35,36),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleName=o)}),e.qZA(),e.YNc(5,M,2,0,"mat-icon",37),e.TgZ(6,"mat-icon",38),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",39)(9,"mat-icon",40),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",41),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,N,5,4,"mat-error",10),e.qZA()}if(2&s){const t=e.MAs(4),n=e.oxw();e.xp6(2),e.Oqu(null==n.fieldsInfo.moduleName?null:n.fieldsInfo.moduleName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=n.fieldsInfo.moduleName&&n.fieldsInfo.moduleName.accessAddField)),e.s9C("placeholder",null==n.fieldsInfo.moduleName?null:n.fieldsInfo.moduleName.fieldTitle),e.Q6J("ngModel",n.dataModel.moduleName),e.xp6(2),e.Q6J("ngIf",n.dataModel.moduleName),e.xp6(7),e.Oqu(null==n.fieldsInfo.moduleName?null:n.fieldsInfo.moduleName.fieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function ee(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.dataModel.moduleEntityName="")}),e._uU(1,"close"),e.qZA()}}function te(s,i){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function oe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-form-field",34)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",43,44),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleEntityName=o)}),e.qZA(),e.YNc(5,ee,2,0,"mat-icon",37),e.TgZ(6,"mat-icon",38),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",39)(9,"mat-icon",40),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",41),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,te,5,4,"mat-error",10),e.qZA()}if(2&s){const t=e.MAs(4),n=e.oxw();e.xp6(2),e.Oqu(null==n.fieldsInfo.moduleEntityName?null:n.fieldsInfo.moduleEntityName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=n.fieldsInfo.moduleEntityName&&n.fieldsInfo.moduleEntityName.accessAddField)),e.s9C("placeholder",null==n.fieldsInfo.moduleEntityName?null:n.fieldsInfo.moduleEntityName.fieldTitle),e.Q6J("ngModel",n.dataModel.moduleEntityName),e.xp6(2),e.Q6J("ngIf",n.dataModel.moduleEntityName),e.xp6(7),e.Oqu(null==n.fieldsInfo.moduleEntityName?null:n.fieldsInfo.moduleEntityName.fieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function se(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRow=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRow)("disabled",!(null!=t.fieldsInfo.accessDeleteRow&&t.fieldsInfo.accessDeleteRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessDeleteRow?null:t.fieldsInfo.accessDeleteRow.fieldTitle," ")}}function ne(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRow=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRow)("disabled",!(null!=t.fieldsInfo.accessWatchRow&&t.fieldsInfo.accessWatchRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRow?null:t.fieldsInfo.accessWatchRow.fieldTitle," ")}}function le(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRow=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRow)("disabled",!(null!=t.fieldsInfo.accessCountRow&&t.fieldsInfo.accessCountRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRow?null:t.fieldsInfo.accessCountRow.fieldTitle," ")}}function ie(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRow=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRow)("disabled",!(null!=t.fieldsInfo.accessEditRow&&t.fieldsInfo.accessEditRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRow?null:t.fieldsInfo.accessEditRow.fieldTitle," ")}}function ae(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessAddRow=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessAddRow)("disabled",!(null!=t.fieldsInfo.accessAddRow&&t.fieldsInfo.accessAddRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessAddRow?null:t.fieldsInfo.accessAddRow.fieldTitle," ")}}function de(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessExportFile=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessExportFile)("disabled",!(null!=t.fieldsInfo.accessExportFile&&t.fieldsInfo.accessExportFile.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessExportFile?null:t.fieldsInfo.accessExportFile.fieldTitle," ")}}function ce(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherSiteId=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessWatchRowOtherSiteId&&t.fieldsInfo.accessWatchRowOtherSiteId.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRowOtherSiteId?null:t.fieldsInfo.accessWatchRowOtherSiteId.fieldTitle," ")}}function re(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",52),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessWatchRowOtherCreatedBy&&t.fieldsInfo.accessWatchRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRowOtherCreatedBy?null:t.fieldsInfo.accessWatchRowOtherCreatedBy.fieldTitle," ")}}function ue(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",53),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherSiteId=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessCountRowOtherSiteId&&t.fieldsInfo.accessCountRowOtherSiteId.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRowOtherSiteId?null:t.fieldsInfo.accessCountRowOtherSiteId.fieldTitle," ")}}function me(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",54),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessCountRowOtherCreatedBy&&t.fieldsInfo.accessCountRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRowOtherCreatedBy?null:t.fieldsInfo.accessCountRowOtherCreatedBy.fieldTitle," ")}}function pe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherSiteId=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessEditRowOtherSiteId&&t.fieldsInfo.accessEditRowOtherSiteId.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRowOtherSiteId?null:t.fieldsInfo.accessEditRowOtherSiteId.fieldTitle," ")}}function _e(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessEditRowOtherCreatedBy&&t.fieldsInfo.accessEditRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRowOtherCreatedBy?null:t.fieldsInfo.accessEditRowOtherCreatedBy.fieldTitle," ")}}function fe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessDeleteRowOtherCreatedBy&&t.fieldsInfo.accessDeleteRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessDeleteRowOtherCreatedBy?null:t.fieldsInfo.accessDeleteRowOtherCreatedBy.fieldTitle," ")}}function ge(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",28)(1,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",59),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",60),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormSubmit())}),e._UZ(6,"i",61),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&s){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let he=(()=>{var s;class i{constructor(n,o,l,m,g,U,B,W){(0,d.Z)(this,"data",void 0),(0,d.Z)(this,"dialogRef",void 0),(0,d.Z)(this,"coreEnumService",void 0),(0,d.Z)(this,"coreUserSupportAccessService",void 0),(0,d.Z)(this,"cmsToastrService",void 0),(0,d.Z)(this,"publicHelper",void 0),(0,d.Z)(this,"cdr",void 0),(0,d.Z)(this,"translate",void 0),(0,d.Z)(this,"formGroup",void 0),(0,d.Z)(this,"fieldsInfo",new Map),(0,d.Z)(this,"fileManagerTree",void 0),(0,d.Z)(this,"appLanguage","fa"),(0,d.Z)(this,"loading",new C.O),(0,d.Z)(this,"dataModelResult",new p.y$4),(0,d.Z)(this,"dataModel",new p.gwb),(0,d.Z)(this,"formInfo",new p.LEF),(0,d.Z)(this,"dataModelEnumRecordStatusResult",new p.y$4),(0,d.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new p.y$4),(0,d.Z)(this,"fileManagerOpenForm",!1),this.data=n,this.dialogRef=o,this.coreEnumService=l,this.coreUserSupportAccessService=m,this.cmsToastrService=g,this.publicHelper=U,this.cdr=B,this.translate=W,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),n&&(this.dataModel.linkSiteId=+n.linkSiteId||0,this.dataModel.linkUserId=+n.linkUserId||0,this.dataModel.moduleName=n.moduleName,this.dataModel.moduleEntityName=n.moduleEntityName)}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.ADD"),this.getEnumManageUserAccessUserTypes(),this.DataGetAccess(),this.getEnumRecordStatus()}getEnumRecordStatus(){var n=this;return(0,L.Z)(function*(){n.dataModelEnumRecordStatusResult=yield n.publicHelper.getEnumRecordStatus()})()}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(n=>{this.dataModelEnumManageUserAccessUserTypesResult=n})}DataGetAccess(){const n=this.constructor.name+"DataGetAccess";this.loading.Start(n),this.coreUserSupportAccessService.ServiceViewModel().subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),console.log(this.fieldsInfo)):this.cmsToastrService.typeErrorGetAccess(o.errorMessage),this.loading.Stop(n)},error:o=>{this.cmsToastrService.typeErrorGetAccess(o),this.loading.Stop(n)}})}DataAddContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const n=this.constructor.name+"main";this.loading.Start(n),this.coreUserSupportAccessService.ServiceAdd(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(n)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(n)}})}onActionSelectorModuleEntitySelect(n){this.dataModel.moduleName="",this.dataModel.moduleEntityName="",n&&n.id>0&&(this.dataModel.moduleName=n.moduleName,this.dataModel.moduleEntityName=n.moduleEntityName)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return s=i,(0,d.Z)(i,"\u0275fac",function(n){return new(n||s)(e.Y36(b.WI),e.Y36(b.so),e.Y36(p.FLW),e.Y36(p.fuJ),e.Y36(v.e),e.Y36(F.i),e.Y36(e.sBO),e.Y36(y.sK))}),(0,d.Z)(i,"\u0275cmp",e.Xpm({type:s,selectors:[["app-core-user-support-access-add"]],viewQuery:function(n,o){if(1&n&&e.Gf(T,5),2&n){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:54,vars:39,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionLoading","optionSelectForce","optionPlaceholder","optionLoadingChange"],[3,"optionDisabled","optionLoading","optionPlaceholder","optionChange","optionLoadingChange"],["class","ntk-full-width mb-1",4,"ngIf"],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessExportFile",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],[1,"ntk-full-width","mb-1"],["matInput","","name","dataModel.moduleName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleName",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["align","start"],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.moduleEntityName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleEntityName",""],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessExportFile",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(n,o){if(1&n&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(m){return o.dataModel.recordStatus=m}),e.YNc(9,r,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,u,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"app-cms-site-selector",11),e.NdJ("optionLoadingChange",function(m){return o.loading=m}),e.qZA(),e.TgZ(15,"app-cms-user-selector",11),e.NdJ("optionLoadingChange",function(m){return o.loading=m}),e.qZA(),e.TgZ(16,"app-core-module-entity-selector",12),e.NdJ("optionChange",function(m){return o.onActionSelectorModuleEntitySelect(m)})("optionLoadingChange",function(m){return o.loading=m}),e.qZA(),e.YNc(17,_,16,8,"mat-form-field",13),e.YNc(18,oe,16,8,"mat-form-field",13),e._UZ(19,"hr"),e.TgZ(20,"div",5),e.YNc(21,se,2,3,"mat-slide-toggle",14),e.qZA(),e.TgZ(22,"div",5),e.YNc(23,ne,2,3,"mat-slide-toggle",15),e.qZA(),e.TgZ(24,"div",5),e.YNc(25,le,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(26,"div",5),e.YNc(27,ie,2,3,"mat-slide-toggle",17),e.qZA(),e.TgZ(28,"div",5),e.YNc(29,ae,2,3,"mat-slide-toggle",18),e.qZA(),e.TgZ(30,"div",5),e.YNc(31,de,2,3,"mat-slide-toggle",19),e.qZA(),e.TgZ(32,"div",5),e.YNc(33,ce,2,3,"mat-slide-toggle",20),e.qZA(),e.TgZ(34,"div",5),e.YNc(35,re,2,3,"mat-slide-toggle",21),e.qZA(),e.TgZ(36,"div",5),e.YNc(37,ue,2,3,"mat-slide-toggle",22),e.qZA(),e.TgZ(38,"div",5),e.YNc(39,me,2,3,"mat-slide-toggle",23),e.qZA(),e.TgZ(40,"div",5),e.YNc(41,pe,2,3,"mat-slide-toggle",24),e.qZA(),e.TgZ(42,"div",5),e.YNc(43,_e,2,3,"mat-slide-toggle",25),e.qZA(),e.TgZ(44,"div",5),e.YNc(45,fe,2,3,"mat-slide-toggle",26),e.qZA()(),e.TgZ(46,"div",27)(47,"div",28)(48,"small",29),e._uU(49),e.qZA(),e.TgZ(50,"small",30),e._uU(51),e.qZA()()(),e.TgZ(52,"div",31),e.YNc(53,ge,9,7,"div",32),e.qZA()()),2&n){const l=e.MAs(8);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,37,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessAddField))("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessAddField))("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessAddField))("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.MODULE")),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.moduleName?null:o.fieldsInfo.moduleName.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.moduleEntityName?null:o.fieldsInfo.moduleEntityName.accessWatchField),e.xp6(3),e.Q6J("ngIf",null==o.fieldsInfo.accessDeleteRow?null:o.fieldsInfo.accessDeleteRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRow?null:o.fieldsInfo.accessWatchRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRow?null:o.fieldsInfo.accessCountRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRow?null:o.fieldsInfo.accessEditRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessAddRow?null:o.fieldsInfo.accessAddRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessExportFile?null:o.fieldsInfo.accessExportFile.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRowOtherSiteId?null:o.fieldsInfo.accessWatchRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRowOtherCreatedBy?null:o.fieldsInfo.accessWatchRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRowOtherSiteId?null:o.fieldsInfo.accessCountRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRowOtherCreatedBy?null:o.fieldsInfo.accessCountRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRowOtherSiteId?null:o.fieldsInfo.accessEditRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRowOtherCreatedBy?null:o.fieldsInfo.accessEditRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessDeleteRowOtherCreatedBy?null:o.fieldsInfo.accessDeleteRowOtherCreatedBy.accessWatchField),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[f.mk,f.sg,f.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.wO,a.nD,a.On,a.F,G.ey,w.KE,w.hX,w.bx,w.TO,w.R9,q.Hw,k.Nt,Y.gD,Q.Rr,P.P,H.g,I.O,E.l,y.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),i})();const Ce=["vform"];function Se(s,i){if(1&s&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Me(s,i){1&s&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Ae(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.dataModel.moduleName="")}),e._uU(1,"close"),e.qZA()}}function Ie(s,i){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Ee(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-form-field",34)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",35,36),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleName=o)}),e.qZA(),e.YNc(5,Ae,2,0,"mat-icon",37),e.TgZ(6,"mat-icon",38),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",39)(9,"mat-icon",40),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",41),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,Ie,5,4,"mat-error",10),e.qZA()}if(2&s){const t=e.MAs(4),n=e.oxw();e.xp6(2),e.Oqu(null==n.fieldsInfo.moduleName?null:n.fieldsInfo.moduleName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=n.fieldsInfo.moduleName&&n.fieldsInfo.moduleName.accessEditField)),e.s9C("placeholder",null==n.fieldsInfo.moduleName?null:n.fieldsInfo.moduleName.fieldTitle),e.Q6J("ngModel",n.dataModel.moduleName),e.xp6(2),e.Q6J("ngIf",n.dataModel.moduleName),e.xp6(7),e.Oqu(null==n.fieldsInfo.moduleName?null:n.fieldsInfo.moduleName.fieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Te(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.dataModel.moduleEntityName="")}),e._uU(1,"close"),e.qZA()}}function Ze(s,i){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function we(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-form-field",34)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",43,44),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleEntityName=o)}),e.qZA(),e.YNc(5,Te,2,0,"mat-icon",37),e.TgZ(6,"mat-icon",38),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",39)(9,"mat-icon",40),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",41),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,Ze,5,4,"mat-error",10),e.qZA()}if(2&s){const t=e.MAs(4),n=e.oxw();e.xp6(2),e.Oqu(null==n.fieldsInfo.moduleEntityName?null:n.fieldsInfo.moduleEntityName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=n.fieldsInfo.moduleEntityName&&n.fieldsInfo.moduleEntityName.accessEditField)),e.s9C("placeholder",null==n.fieldsInfo.moduleEntityName?null:n.fieldsInfo.moduleEntityName.fieldTitle),e.Q6J("ngModel",n.dataModel.moduleEntityName),e.xp6(2),e.Q6J("ngIf",n.dataModel.moduleEntityName),e.xp6(7),e.Oqu(null==n.fieldsInfo.moduleEntityName?null:n.fieldsInfo.moduleEntityName.fieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Re(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRow=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRow)("disabled",!(null!=t.fieldsInfo.accessDeleteRow&&t.fieldsInfo.accessDeleteRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessDeleteRow?null:t.fieldsInfo.accessDeleteRow.fieldTitle," ")}}function Ue(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRow=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRow)("disabled",!(null!=t.fieldsInfo.accessWatchRow&&t.fieldsInfo.accessWatchRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRow?null:t.fieldsInfo.accessWatchRow.fieldTitle," ")}}function xe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRow=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRow)("disabled",!(null!=t.fieldsInfo.accessCountRow&&t.fieldsInfo.accessCountRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRow?null:t.fieldsInfo.accessCountRow.fieldTitle," ")}}function be(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRow=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRow)("disabled",!(null!=t.fieldsInfo.accessEditRow&&t.fieldsInfo.accessEditRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRow?null:t.fieldsInfo.accessEditRow.fieldTitle," ")}}function ye(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessAddRow=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessAddRow)("disabled",!(null!=t.fieldsInfo.accessAddRow&&t.fieldsInfo.accessAddRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessAddRow?null:t.fieldsInfo.accessAddRow.fieldTitle," ")}}function Ne(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessExportFile=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessExportFile)("disabled",!(null!=t.fieldsInfo.accessExportFile&&t.fieldsInfo.accessExportFile.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessExportFile?null:t.fieldsInfo.accessExportFile.fieldTitle," ")}}function ve(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherSiteId=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessWatchRowOtherSiteId&&t.fieldsInfo.accessWatchRowOtherSiteId.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRowOtherSiteId?null:t.fieldsInfo.accessWatchRowOtherSiteId.fieldTitle," ")}}function Oe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",52),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessWatchRowOtherCreatedBy&&t.fieldsInfo.accessWatchRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRowOtherCreatedBy?null:t.fieldsInfo.accessWatchRowOtherCreatedBy.fieldTitle," ")}}function Le(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",53),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherSiteId=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessCountRowOtherSiteId&&t.fieldsInfo.accessCountRowOtherSiteId.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRowOtherSiteId?null:t.fieldsInfo.accessCountRowOtherSiteId.fieldTitle," ")}}function Je(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",54),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessCountRowOtherCreatedBy&&t.fieldsInfo.accessCountRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRowOtherCreatedBy?null:t.fieldsInfo.accessCountRowOtherCreatedBy.fieldTitle," ")}}function De(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherSiteId=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessEditRowOtherSiteId&&t.fieldsInfo.accessEditRowOtherSiteId.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRowOtherSiteId?null:t.fieldsInfo.accessEditRowOtherSiteId.fieldTitle," ")}}function Fe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessEditRowOtherCreatedBy&&t.fieldsInfo.accessEditRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRowOtherCreatedBy?null:t.fieldsInfo.accessEditRowOtherCreatedBy.fieldTitle," ")}}function qe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRowOtherCreatedBy=o)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessDeleteRowOtherCreatedBy&&t.fieldsInfo.accessDeleteRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessDeleteRowOtherCreatedBy?null:t.fieldsInfo.accessDeleteRowOtherCreatedBy.fieldTitle," ")}}function ke(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",28)(1,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",59),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",60),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormSubmit())}),e._UZ(6,"i",61),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&s){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Qe=(()=>{var s;class i{constructor(n,o,l,m,g,U,B,W){(0,d.Z)(this,"data",void 0),(0,d.Z)(this,"dialogRef",void 0),(0,d.Z)(this,"coreEnumService",void 0),(0,d.Z)(this,"coreUserSupportAccessService",void 0),(0,d.Z)(this,"cmsToastrService",void 0),(0,d.Z)(this,"publicHelper",void 0),(0,d.Z)(this,"cdr",void 0),(0,d.Z)(this,"translate",void 0),(0,d.Z)(this,"requestLinkSiteId",0),(0,d.Z)(this,"requestLinkUserId",0),(0,d.Z)(this,"requestModuleName",""),(0,d.Z)(this,"requestModuleEntityName",""),(0,d.Z)(this,"formGroup",void 0),(0,d.Z)(this,"fieldsInfo",new Map),(0,d.Z)(this,"fileManagerTree",void 0),(0,d.Z)(this,"appLanguage","fa"),(0,d.Z)(this,"loading",new C.O),(0,d.Z)(this,"dataModelResult",new p.y$4),(0,d.Z)(this,"dataModel",new p.gwb),(0,d.Z)(this,"formInfo",new p.LEF),(0,d.Z)(this,"dataModelEnumRecordStatusResult",new p.y$4),(0,d.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new p.y$4),(0,d.Z)(this,"fileManagerOpenForm",!1),this.data=n,this.dialogRef=o,this.coreEnumService=l,this.coreUserSupportAccessService=m,this.cmsToastrService=g,this.publicHelper=U,this.cdr=B,this.translate=W,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),n&&(this.requestLinkSiteId=+n.linkSiteId||0,this.requestLinkUserId=+n.linkUserId||0,this.requestModuleName=n.moduleName,this.requestModuleEntityName=n.moduleEntityName),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(!(this.requestLinkSiteId>0&&this.requestLinkUserId>0&&this.requestModuleName&&this.requestModuleName.length>0&&this.requestModuleEntityName&&this.requestModuleEntityName.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.getEnumManageUserAccessUserTypes(),this.getEnumRecordStatus()}getEnumRecordStatus(){var n=this;return(0,L.Z)(function*(){n.dataModelEnumRecordStatusResult=yield n.publicHelper.getEnumRecordStatus()})()}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(n=>{this.dataModelEnumManageUserAccessUserTypesResult=n})}DataGetOneContent(){if(this.requestLinkSiteId<=0||this.requestLinkUserId<=0||!this.requestModuleName||0==this.requestModuleName.length||!this.requestModuleEntityName||this.requestModuleEntityName.length<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const n=this.constructor.name+"main";this.loading.Start(n);const o=new p.Hay;let l=new p.AO3;l.propertyName="LinkSiteId",l.value=this.requestLinkSiteId,o.filters.push(l),l=new p.AO3,l.propertyName="LinkUserId",l.value=this.requestLinkUserId,o.filters.push(l),l=new p.AO3,l.propertyName="ModuleName",l.value=this.requestModuleName,o.filters.push(l),l=new p.AO3,l.propertyName="ModuleEntityName",l.value=this.requestModuleEntityName,o.filters.push(l),this.coreUserSupportAccessService.setAccessLoad(),this.coreUserSupportAccessService.setAccessDataType(p.dR.Editor),this.coreUserSupportAccessService.ServiceGetAll(o).subscribe({next:m=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(m.access),m.isSuccess?m.listItems&&m.listItems.length>0?(this.dataModel=m.listItems[0],this.formInfo.formAlert=""):this.cmsToastrService.typeError(this.translate.instant("MESSAGE.Module_not_found_for_editing")):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=m.errorMessage,this.cmsToastrService.typeErrorMessage(m.errorMessage)),this.loading.Stop(n)},error:m=>{this.cmsToastrService.typeError(m),this.loading.Stop(n)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const n=this.constructor.name+"main";this.loading.Start(n,this.translate.instant("MESSAGE.sending_information_to_the_server")),this.coreUserSupportAccessService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(n)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(n)}})}onActionSelectorModuleEntitySelect(n){this.dataModel.moduleName="",this.dataModel.moduleEntityName="",n&&n.id>0&&(this.dataModel.moduleName=n.moduleName,this.dataModel.moduleEntityName=n.moduleEntityName)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return s=i,(0,d.Z)(i,"\u0275fac",function(n){return new(n||s)(e.Y36(b.WI),e.Y36(b.so),e.Y36(p.FLW),e.Y36(p.fuJ),e.Y36(v.e),e.Y36(F.i),e.Y36(e.sBO),e.Y36(y.sK))}),(0,d.Z)(i,"\u0275cmp",e.Xpm({type:s,selectors:[["app-core-user-support-access-edit"]],viewQuery:function(n,o){if(1&n&&e.Gf(Ce,5),2&n){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:53,vars:39,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionLoading","optionSelectForce","optionPlaceholder","optionLoadingChange"],[3,"optionDisabled","optionLoading","optionPlaceholder","optionChange","optionLoadingChange"],["class","ntk-full-width mb-1",4,"ngIf"],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessExportFile",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],[1,"ntk-full-width","mb-1"],["matInput","","name","dataModel.moduleName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleName",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["align","start"],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.moduleEntityName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleEntityName",""],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessExportFile",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(n,o){if(1&n&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(m){return o.dataModel.recordStatus=m}),e.YNc(9,Se,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Me,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"app-cms-site-selector",11),e.NdJ("optionLoadingChange",function(m){return o.loading=m}),e.qZA(),e.TgZ(15,"app-cms-user-selector",11),e.NdJ("optionLoadingChange",function(m){return o.loading=m}),e.qZA(),e.TgZ(16,"app-core-module-entity-selector",12),e.NdJ("optionChange",function(m){return o.onActionSelectorModuleEntitySelect(m)})("optionLoadingChange",function(m){return o.loading=m}),e.qZA(),e.YNc(17,Ee,16,8,"mat-form-field",13),e.YNc(18,we,16,8,"mat-form-field",13),e.TgZ(19,"div",5),e.YNc(20,Re,2,3,"mat-slide-toggle",14),e.qZA(),e.TgZ(21,"div",5),e.YNc(22,Ue,2,3,"mat-slide-toggle",15),e.qZA(),e.TgZ(23,"div",5),e.YNc(24,xe,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(25,"div",5),e.YNc(26,be,2,3,"mat-slide-toggle",17),e.qZA(),e.TgZ(27,"div",5),e.YNc(28,ye,2,3,"mat-slide-toggle",18),e.qZA(),e.TgZ(29,"div",5),e.YNc(30,Ne,2,3,"mat-slide-toggle",19),e.qZA(),e.TgZ(31,"div",5),e.YNc(32,ve,2,3,"mat-slide-toggle",20),e.qZA(),e.TgZ(33,"div",5),e.YNc(34,Oe,2,3,"mat-slide-toggle",21),e.qZA(),e.TgZ(35,"div",5),e.YNc(36,Le,2,3,"mat-slide-toggle",22),e.qZA(),e.TgZ(37,"div",5),e.YNc(38,Je,2,3,"mat-slide-toggle",23),e.qZA(),e.TgZ(39,"div",5),e.YNc(40,De,2,3,"mat-slide-toggle",24),e.qZA(),e.TgZ(41,"div",5),e.YNc(42,Fe,2,3,"mat-slide-toggle",25),e.qZA(),e.TgZ(43,"div",5),e.YNc(44,qe,2,3,"mat-slide-toggle",26),e.qZA()(),e.TgZ(45,"div",27)(46,"div",28)(47,"small",29),e._uU(48),e.qZA(),e.TgZ(49,"small",30),e._uU(50),e.qZA()()(),e.TgZ(51,"div",31),e.YNc(52,ke,9,7,"div",32),e.qZA()()),2&n){const l=e.MAs(8);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,37,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessEditField))("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessEditField))("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessEditField))("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.MODULE")),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.moduleName?null:o.fieldsInfo.moduleName.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.moduleEntityName?null:o.fieldsInfo.moduleEntityName.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessDeleteRow?null:o.fieldsInfo.accessDeleteRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRow?null:o.fieldsInfo.accessWatchRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRow?null:o.fieldsInfo.accessCountRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRow?null:o.fieldsInfo.accessEditRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessAddRow?null:o.fieldsInfo.accessAddRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessExportFile?null:o.fieldsInfo.accessExportFile.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRowOtherSiteId?null:o.fieldsInfo.accessWatchRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRowOtherCreatedBy?null:o.fieldsInfo.accessWatchRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRowOtherSiteId?null:o.fieldsInfo.accessCountRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRowOtherCreatedBy?null:o.fieldsInfo.accessCountRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRowOtherSiteId?null:o.fieldsInfo.accessEditRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRowOtherCreatedBy?null:o.fieldsInfo.accessEditRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessDeleteRowOtherCreatedBy?null:o.fieldsInfo.accessDeleteRowOtherCreatedBy.accessWatchField),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[f.mk,f.sg,f.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.wO,a.nD,a.On,a.F,G.ey,w.KE,w.hX,w.bx,w.TO,w.R9,q.Hw,k.Nt,Y.gD,Q.Rr,P.P,H.g,I.O,E.l,y.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),i})();var z=c(83914),Be=c(50727),We=c(9638),j=c(83319),Ge=c(53538),V=c(56558),Ye=c(43014),Pe=c(10626),He=c(37980),Ke=c(13673),je=c(93817),$e=c(39084),ze=c(86639),Ve=c(25897),Xe=c(91101);function et(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonNewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function tt(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function ot(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function st(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&s&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function nt(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const lt=function(s){return{display:s}};function it(s,i){if(1&s&&e._UZ(0,"select",45),2&s){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("contentService",n.contentService)("row",t)("ngStyle",e.VKq(3,lt,t.linkSiteId===n.tableRowSelected.linkSiteId&&t.linkUserId===n.tableRowSelected.linkUserId?"":"none"))}}function at(s,i){if(1&s&&(e.TgZ(0,"mat-cell",43),e.ALo(1,"statusCellClass"),e._UZ(2,"i",43),e.ALo(3,"statusIconClass"),e.YNc(4,it,1,5,"select",44),e.qZA()),2&s){const t=i.$implicit,n=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",n.dataModelResult.access.accessEditRow)}}function dt(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function ct(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function rt(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function ut(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function mt(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function pt(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.hij(" ",t.moduleName," ")}}function _t(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function ft(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.hij(" ",t.moduleEntityName," ")}}function gt(s,i){1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.Access_Add_Row")," "))}function ht(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessAddRow))}}function Ct(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRow?null:t.fieldsInfo.accessWatchRow.fieldTitle," ")}}function St(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessWatchRow))}}function Mt(s,i){1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.Access_Edit_Row")," "))}function At(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessEditRow))}}function It(s,i){1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.Access_Delete_Row")," "))}function Et(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessDeleteRow))}}function Tt(s,i){1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.Access_Count_Row")," "))}function Zt(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessCountRow))}}function wt(s,i){1&s&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Rt(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&s&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Ut(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&s&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function xt(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-cell",46)(1,"button",47)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,48),e.YNc(6,Rt,6,3,"button",49),e.YNc(7,Ut,6,3,"button",49),e.TgZ(8,"button",50),e.NdJ("click",function(){const l=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.onActionbuttonUserList(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"person"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&s){const t=e.MAs(5),n=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",n.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,4,"ACTION.USERS"))}}function bt(s,i){1&s&&e._UZ(0,"mat-header-row")}const yt=function(s){return{background:s}};function Nt(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-row",51),e.NdJ("click",function(){const l=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.onActionTableRowSelect(l))}),e.qZA()}if(2&s){const t=i.$implicit,n=e.oxw();e.Q6J("ngStyle",e.VKq(1,yt,t.linkSiteId===n.tableRowSelected.linkSiteId&&t.linkUserId===n.tableRowSelected.linkUserId?"#d3d3da":""))}}const vt=function(){return[5,10,20,100]};let X=(()=>{var s;class i{constructor(n,o,l,m,g,U,B,W,Dt,Ft){if((0,d.Z)(this,"contentService",void 0),(0,d.Z)(this,"publicHelper",void 0),(0,d.Z)(this,"cmsToastrService",void 0),(0,d.Z)(this,"cmsConfirmationDialogService",void 0),(0,d.Z)(this,"router",void 0),(0,d.Z)(this,"tokenHelper",void 0),(0,d.Z)(this,"activatedRoute",void 0),(0,d.Z)(this,"cdr",void 0),(0,d.Z)(this,"translate",void 0),(0,d.Z)(this,"dialog",void 0),(0,d.Z)(this,"requestLinkSiteId",0),(0,d.Z)(this,"requestLinkUserId",0),(0,d.Z)(this,"requestModuleName",""),(0,d.Z)(this,"requestModuleEntityName",""),(0,d.Z)(this,"comment",void 0),(0,d.Z)(this,"author",void 0),(0,d.Z)(this,"dataSource",void 0),(0,d.Z)(this,"flag",!1),(0,d.Z)(this,"tableContentSelected",[]),(0,d.Z)(this,"filteModelContent",new p.Hay),(0,d.Z)(this,"dataModelResult",new p.y$4),(0,d.Z)(this,"optionsSearch",new D.dj),(0,d.Z)(this,"optionsStatist",new Z.TV),(0,d.Z)(this,"tokenInfo",new p.OdC),(0,d.Z)(this,"loading",new C.O),(0,d.Z)(this,"tableRowsSelected",[]),(0,d.Z)(this,"tableRowSelected",new p.gwb),(0,d.Z)(this,"tableSource",new A.by),(0,d.Z)(this,"fieldsInfo",new Map),(0,d.Z)(this,"tabledisplayedColumns",[]),(0,d.Z)(this,"tabledisplayedColumnsSource",["RecordStatus","LinkUserId","LinkSiteId","ModuleName","ModuleEntityName","AccessAddRow","AccessWatchRow","AccessEditRow","AccessDeleteRow","AccessCountRow","Action"]),(0,d.Z)(this,"expandedElement",void 0),(0,d.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=n,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=m,this.router=g,this.tokenHelper=U,this.activatedRoute=B,this.cdr=W,this.translate=Dt,this.dialog=Ft,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestModuleName=this.activatedRoute.snapshot.paramMap.get("ModuleName"),this.requestModuleEntityName=this.activatedRoute.snapshot.paramMap.get("ModuleEntityName"),this.optionsSearch.parentMethods={onSubmit:x=>this.onSubmitOptionsSearch(x)},this.filteModelContent.sortColumn="LinkSiteId",this.filteModelContent.sortType=p.oYR.Descending,this.requestLinkSiteId>0){const x=new p.AO3;x.propertyName="LinkSiteId",x.value=this.requestLinkSiteId,this.filteModelContent.filters.push(x)}if(this.requestLinkUserId>0){const x=new p.AO3;x.propertyName="LinkUserId",x.value=this.requestLinkUserId,this.filteModelContent.filters.push(x)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(n=>{this.tokenInfo=n,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(n=>{this.tokenInfo=n,this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new p.gwb);const n=this.constructor.name+"main";this.loading.Start(n,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(n)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(n)}})}onTableSortData(n){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===n.active?"asc"===this.tableSource.sort.start?(n.start="desc",this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=p.oYR.Descending):"desc"===this.tableSource.sort.start?(n.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=p.oYR.Ascending):n.start="desc":(this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=p.oYR.Descending),this.tableSource.sort=n,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(n){this.filteModelContent.currentPageNumber=n.pageIndex+1,this.filteModelContent.rowPerPage=n.pageSize,this.DataGetAll()}onActionbuttonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(he,{height:"90%",data:{linkSiteId:this.requestLinkSiteId,linkUserId:this.requestLinkUserId,moduleName:this.requestModuleName,moduleEntityName:this.requestModuleEntityName}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionbuttonEditRow(n=this.tableRowSelected){n&&n.linkSiteId&&0!==n.linkSiteId&&n.linkUserId&&0!==n.linkUserId?(this.onActionTableRowSelect(n),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Qe,{height:"90%",data:{linkSiteId:this.tableRowSelected.linkSiteId,linkUserId:this.tableRowSelected.linkUserId,moduleName:this.tableRowSelected.moduleName,moduleEntityName:this.tableRowSelected.moduleEntityName}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(n=this.tableRowSelected){if(!n||!n.linkSiteId||0===n.linkSiteId||!n.linkUserId||0===n.linkUserId){const m=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(m)}if(this.onActionTableRowSelect(n),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.linkSiteId+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(m=>{if(m){const g=this.constructor.name+"main";this.loading.Start(g),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:U=>{U.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(g)},error:U=>{this.cmsToastrService.typeError(U),this.loading.Stop(g)}})}}).catch(()=>{})}onActionbuttonUserList(n=this.tableRowSelected){if(n&&n.id&&0!==n.id)this.onActionTableRowSelect(n),this.router.navigate(["/core/site/userlist/LinkUserSupportAccessId/",this.tableRowSelected.id]);else{const o=this.translate.instant("MESSAGE.no_row_selected_to_display");this.cmsToastrService.typeErrorSelected(o)}}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const n=new Map;n.set(this.translate.instant("MESSAGE.Active"),0),n.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:g=>{g.isSuccess?(n.set(this.translate.instant("MESSAGE.All"),g.totalRowCount),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(g.errorMessage),this.loading.Stop(o)},error:g=>{this.cmsToastrService.typeError(g),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),m=new p.AO3;m.propertyName="RecordStatus",m.value=p.Anr.Available,l.filters.push(m),this.contentService.ServiceGetCount(l).subscribe({next:g=>{g.isSuccess?(n.set(this.translate.instant("MESSAGE.Active"),g.totalRowCount),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(g.errorMessage),this.loading.Stop(o)},error:g=>{this.cmsToastrService.typeError(g),this.loading.Stop(o)}})}onActionbuttonExport(){this.dialog.open(K.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(n=this.tableRowSelected){n&&n.id&&0!==n.id.length?(this.onActionTableRowSelect(n),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(S.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(n){this.filteModelContent.filters=n,this.DataGetAll()}onActionTableRowSelect(n){this.tableRowSelected=n,n.expanded||(n.expanded=!1),n.expanded=!n.expanded}}return s=i,(0,d.Z)(i,"\u0275fac",function(n){return new(n||s)(e.Y36(p.fuJ),e.Y36(F.i),e.Y36(v.e),e.Y36(z.s),e.Y36(R.F0),e.Y36(Be.v),e.Y36(R.gz),e.Y36(e.sBO),e.Y36(y.sK),e.Y36(b.uw))}),(0,d.Z)(i,"\u0275cmp",e.Xpm({type:s,selectors:[["app-core-user-support-access-list"]],decls:69,vars:29,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-primary","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","RecordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],[4,"matCellDef"],["matColumnDef","LinkUserId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","AccessAddRow"],["matColumnDef","AccessWatchRow"],["matColumnDef","AccessEditRow"],["matColumnDef","AccessDeleteRow"],["matColumnDef","AccessCountRow"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-primary",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(n,o){if(1&n){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,et,3,3,"button",4),e.YNc(6,tt,3,3,"button",5),e.YNc(7,ot,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(g){return o.optionsSearch.data.show=g}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,st,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.BQk(),e.ynx(25,13),e.TgZ(26,"app-cms-search-list",14),e.NdJ("optionsChange",function(g){return o.optionsSearch=g}),e.qZA(),e.TgZ(27,"app-cms-statist-list",14),e.NdJ("optionsChange",function(g){return o.optionsStatist=g}),e.qZA(),e.BQk(),e.ynx(28,15),e.TgZ(29,"mat-table",16,17),e.NdJ("matSortChange",function(){e.CHM(l);const g=e.MAs(30);return e.KtG(o.onTableSortData(g))}),e.ynx(31,18),e.YNc(32,nt,2,1,"mat-header-cell",19),e.YNc(33,at,5,7,"mat-cell",20),e.BQk(),e.ynx(34,21),e.YNc(35,dt,2,1,"mat-header-cell",19),e.YNc(36,ct,4,5,"mat-cell",22),e.BQk(),e.ynx(37,23),e.YNc(38,rt,2,1,"mat-header-cell",19),e.YNc(39,ut,4,5,"mat-cell",22),e.BQk(),e.ynx(40,24),e.YNc(41,mt,2,1,"mat-header-cell",19),e.YNc(42,pt,2,1,"mat-cell",22),e.BQk(),e.ynx(43,25),e.YNc(44,_t,2,1,"mat-header-cell",19),e.YNc(45,ft,2,1,"mat-cell",22),e.BQk(),e.ynx(46,26),e.YNc(47,gt,3,3,"mat-header-cell",19),e.YNc(48,ht,3,3,"mat-cell",22),e.BQk(),e.ynx(49,27),e.YNc(50,Ct,2,1,"mat-header-cell",19),e.YNc(51,St,3,3,"mat-cell",22),e.BQk(),e.ynx(52,28),e.YNc(53,Mt,3,3,"mat-header-cell",19),e.YNc(54,At,3,3,"mat-cell",22),e.BQk(),e.ynx(55,29),e.YNc(56,It,3,3,"mat-header-cell",19),e.YNc(57,Et,3,3,"mat-cell",22),e.BQk(),e.ynx(58,30),e.YNc(59,Tt,3,3,"mat-header-cell",19),e.YNc(60,Zt,3,3,"mat-cell",22),e.BQk(),e.ynx(61,31),e.YNc(62,wt,3,3,"mat-header-cell",32),e.YNc(63,xt,14,6,"mat-cell",33),e.BQk(),e.YNc(64,bt,1,0,"mat-header-row",34),e.YNc(65,Nt,1,3,"mat-row",35),e.qZA(),e.BQk(),e.ynx(66,36),e.TgZ(67,"mat-paginator",37,38),e.NdJ("page",function(g){return o.onTablePageingData(g)}),e.qZA(),e.BQk(),e.qZA()}2&n&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&o.tableRowSelected.linkSiteId>0&&o.tableRowSelected.linkUserId>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&o.tableRowSelected.linkSiteId>0&&o.tableRowSelected.linkUserId>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,20,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,22,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,24,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,26,"ACTION.RELOAD")),e.xp6(4),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(35),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(28,vt)))},dependencies:[f.mk,f.O5,f.PC,a.JJ,a.On,We.RK,q.Hw,k.Nt,j.VK,j.OP,j.p6,Ge.NW,Q.Rr,V.YE,V.nU,A.BZ,A.fO,A.as,A.w1,A.Dz,A.nj,A.ge,A.ev,A.XQ,A.Gk,Ye.y,Pe.q,He.Z,Ke.G,f.Ov,y.X$,je.J,$e.Y,ze.G,Ve.Y,Xe.r],encapsulation:2})),i})();const Ot=[{path:"",children:[{path:"",component:X},{path:"list/LinkSiteId/:LinkSiteId/LinkUserId/:LinkUserId",component:X}]}];let Lt=(()=>{var s;class i{}return s=i,(0,d.Z)(i,"\u0275fac",function(n){return new(n||s)}),(0,d.Z)(i,"\u0275mod",e.oAB({type:s})),(0,d.Z)(i,"\u0275inj",e.cJS({imports:[R.Bz.forChild(Ot),R.Bz]})),i})(),Jt=(()=>{var s;class i{}return s=i,(0,d.Z)(i,"\u0275fac",function(n){return new(n||s)}),(0,d.Z)(i,"\u0275mod",e.oAB({type:s})),(0,d.Z)(i,"\u0275inj",e.cJS({providers:[p.fuJ,z.s,p.EAm],imports:[f.ez,a.u5,Lt,a.UX.withConfig({warnOnNgModelWithFormControl:"never"}),h.m.forRoot(),J.CoreModuleEntityModule]})),i})()},39084:($,O,c)=>{c.d(O,{Y:()=>J});var d=c(86889),f=c(87241),a=c(27969),p=c(64537),h=c(34511);let J=(()=>{var R;class A{constructor(Z){(0,d.Z)(this,"service",void 0),this.service=Z}transform(Z){return!Z||Z<=0?new f.y:this.service.ServiceGetOneById(Z,1e6).pipe((0,a.U)(C=>{var S="";return C.isSuccess&&(C.item.title&&C.item.title.length>0&&(S=C.item.title),C.item.id&&C.item.id>0&&(S.length>0&&(S+=" | "),S+=C.item.id),C.item.domain&&C.item.domain.length>0&&C.item.subDomain&&C.item.subDomain.length>0?(S.length>0&&(S+=" | "),S=S+C.item.subDomain+"."+C.item.domain):C.item.domain&&C.item.domain.length>0&&(S.length>0&&(S+=" | "),S+=C.item.domain)),0===S.length&&(S=Z.toString()),S},C=>Z.toString()))}}return R=A,(0,d.Z)(A,"\u0275fac",function(Z){return new(Z||R)(p.Y36(h._0e,16))}),(0,d.Z)(A,"\u0275pipe",p.Yjl({name:"cmssiteinfo",type:R,pure:!0})),A})()},63181:($,O,c)=>{c.d(O,{g:()=>H});var d=c(8239),f=c(86889),a=c(64537),p=c(20092),h=c(34511),J=c(57445),R=c(51927),A=c(83151),D=c(42147),Z=c(61528),C=c(27969),S=c(60656),K=c(56707),L=c(88692),b=c(61637),e=c(1379),v=c(88659),F=c(83331),y=c(39665),G=c(75738),w=c(81418);function q(I,E){if(1&I&&(a._UZ(0,"img",9),a.ALo(1,"cmsthumbnail")),2&I){const T=a.oxw();a.s9C("src",a.lcZ(1,1,null==T.dataModelSelect?null:T.dataModelSelect.linkMainImageIdSrc),a.LSH)}}function k(I,E){if(1&I&&(a._UZ(0,"img",9),a.ALo(1,"cmsthumbnail")),2&I){const T=a.oxw().$implicit;a.s9C("src",a.lcZ(1,1,T.linkMainImageIdSrc),a.LSH)}}function Y(I,E){if(1&I&&(a.TgZ(0,"mat-option",10),a.YNc(1,k,2,3,"img",11),a.TgZ(2,"span"),a._uU(3),a.qZA()()),2&I){const T=E.$implicit,r=a.oxw();a.Q6J("value",T)("disabled",r.optionDisabled),a.xp6(1),a.Q6J("ngIf",T.linkMainImageIdSrc),a.xp6(2),a.Oqu(r.displayOption(T))}}function Q(I,E){if(1&I){const T=a.EpF();a.TgZ(0,"mat-icon",12),a.NdJ("click",function(){a.CHM(T);const u=a.oxw();return a.KtG(u.onActionSelectClear())}),a._uU(1,"close"),a.qZA()}}const P=["*"];let H=(()=>{var I;class E{constructor(r,u,M,N){(0,f.Z)(this,"coreEnumService",void 0),(0,f.Z)(this,"cdr",void 0),(0,f.Z)(this,"translate",void 0),(0,f.Z)(this,"categoryService",void 0),(0,f.Z)(this,"id",++E.nextId),(0,f.Z)(this,"dataModelResult",new h.y$4),(0,f.Z)(this,"dataModelSelect",new h.NCo),(0,f.Z)(this,"loading",new S.O),(0,f.Z)(this,"formControl",new p.NI),(0,f.Z)(this,"filteredOptions",void 0),(0,f.Z)(this,"optionDisabled",!1),(0,f.Z)(this,"optionSelectFirstItem",!1),(0,f.Z)(this,"optionPlaceholder",""),(0,f.Z)(this,"optionChange",new a.vpe),(0,f.Z)(this,"optionReload",()=>this.onActionReload()),this.coreEnumService=r,this.cdr=u,this.translate=M,this.categoryService=N,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}get optionLoading(){return this.loading}set optionLoading(r){this.loading=r}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,R.O)(""),(0,A.b)(1500),(0,D.x)(),(0,Z.w)(r=>this.DataGetAll("string"==typeof r||"number"==typeof r?r:"")))}displayFn(r){let u="";return r&&(r.username&&r.username.length>0&&(u=u+" "+r.username),r.name&&r.name.length>0&&(u=u+" "+r.name),r.lastName&&r.lastName.length>0&&(u=u+" "+r.lastName),u=u+"#:"+r.id),u}displayOption(r){let u="";return r&&(r.username&&r.username.length>0&&(u=u+" "+r.username),r.name&&r.name.length>0&&(u=u+" "+r.name),r.lastName&&r.lastName.length>0&&(u=u+" "+r.lastName),u=u+"#:"+r.id),u}DataGetAll(r){var u=this;return(0,d.Z)(function*(){const M=new h.Hay;if(M.rowPerPage=20,M.accessLoad=!0,r&&r.length>0){let _=new h.AO3;_=new h.AO3,_.propertyName="username",_.value=r,_.searchType=h.J6G.Contains,_.clauseType=h.ppe.Or,M.filters.push(_),_=new h.AO3,_.propertyName="name",_.value=r,_.searchType=h.J6G.Contains,_.clauseType=h.ppe.Or,M.filters.push(_),_=new h.AO3,_.propertyName="email",_.value=r,_.searchType=h.J6G.Contains,_.clauseType=h.ppe.Or,M.filters.push(_),_=new h.AO3,_.propertyName="lastname",_.value=r,_.searchType=h.J6G.Contains,_.clauseType=h.ppe.Or,M.filters.push(_),r&&"number"==typeof+r&&+r>0&&(_=new h.AO3,_.propertyName="Id",_.value=r,_.searchType=h.J6G.Equal,_.clauseType=h.ppe.Or,M.filters.push(_))}const N=u.constructor.name+"main";return u.loading.Start(N),yield(0,J.z)(u.categoryService.ServiceGetAll(M)).then(_=>(u.dataModelResult=_,u.optionSelectFirstItem&&(!u.dataModelSelect||!u.dataModelSelect.id||u.dataModelSelect.id<=0)&&u.dataModelResult.listItems.length>0&&(u.optionSelectFirstItem=!1,setTimeout(()=>{u.formControl.setValue(u.dataModelResult.listItems[0])},1e3),u.onActionSelect(u.dataModelResult.listItems[0])),u.loading.Stop(N),_.listItems))})()}onActionSelect(r){this.optionDisabled||(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(r){return this.filteredOptions.pipe((0,C.U)(u=>(u.find(M=>M.id===r.id)||u.push(r),u)))}onActionSelectForce(r){if("number"==typeof r&&r>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(u=>u.id===r)){const u=this.dataModelResult.listItems.find(M=>M.id===r);return this.dataModelSelect=u,void this.formControl.setValue(u)}this.categoryService.ServiceGetOneById(r).subscribe(u=>{u.isSuccess&&(this.filteredOptions=this.push(u.item),this.dataModelSelect=u.item,this.formControl.setValue(u.item),this.optionChange.emit(u.item))})}else{if(typeof r==typeof h.NCo)return this.filteredOptions=this.push(r),this.dataModelSelect=r,void this.formControl.setValue(r);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new h.NCo,this.loadOptions()}}return I=E,(0,f.Z)(E,"nextId",0),(0,f.Z)(E,"\u0275fac",function(r){return new(r||I)(a.Y36(h.FLW),a.Y36(a.sBO),a.Y36(K.sK),a.Y36(h.k$Z))}),(0,f.Z)(E,"\u0275cmp",a.Xpm({type:I,selectors:[["app-cms-user-selector"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:P,decls:12,vars:11,consts:[[1,"ntk-full-width"],[3,"options"],["matPrefix",""],["class","ntk-hover-zoom","style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(r,u){if(1&r&&(a.F$t(),a.TgZ(0,"mat-form-field",0),a._UZ(1,"app-progress-spinner",1),a.TgZ(2,"span",2),a.YNc(3,q,2,3,"img",3),a._uU(4," \xa0"),a.qZA(),a._UZ(5,"input",4),a.TgZ(6,"mat-autocomplete",5,6),a.NdJ("optionSelected",function(N){return u.onActionSelect(N.option.value)}),a.YNc(8,Y,4,4,"mat-option",7),a.ALo(9,"async"),a.qZA(),a.YNc(10,Q,2,0,"mat-icon",8),a.Hsn(11),a.qZA()),2&r){const M=a.MAs(7);a.xp6(1),a.Q6J("options",u.loading),a.xp6(2),a.Q6J("ngIf",u.dataModelSelect&&(null==u.dataModelSelect?null:u.dataModelSelect.linkMainImageIdSrc)),a.xp6(2),a.s9C("placeholder",u.optionPlaceholder),a.Q6J("formControl",u.formControl)("matAutocomplete",M),a.uIk("disabled",!!u.optionDisabled||null),a.xp6(1),a.Q6J("displayWith",u.displayFn),a.xp6(2),a.Q6J("ngForOf",a.lcZ(9,9,u.filteredOptions)),a.xp6(2),a.Q6J("ngIf",null==u.dataModelSelect?null:u.dataModelSelect.id)}},dependencies:[L.sg,L.O5,p.Fj,p.JJ,p.oH,b.XC,e.ey,b.ZL,v.KE,v.qo,v.R9,F.Hw,y.Nt,G.O,L.Ov,w.v],encapsulation:2})),E})()}}]);