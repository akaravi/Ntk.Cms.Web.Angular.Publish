"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[4705],{44705:(Le,N,d)=>{d.r(N),d.d(N,{SmsActionModule:()=>Ne});var a=d(86889),f=d(88692),A=d(26114),L=d(8239),c=d(34511),T=d(60656),e=d(64537),x=d(32607),w=d(94032),v=d(56707),F=d(28024),q=d(88161),B=d(40600),m=d(20092),P=d(57445),Q=d(51927),R=d(83151),G=d(42147),Y=d(61528),H=d(27969),E=d(61637),j=d(1379),u=d(88659),k=d(83331),J=d(39665);function K(s,r){if(1&s&&(e.TgZ(0,"mat-option",6)(1,"span"),e._uU(2),e.qZA()()),2&s){const l=r.$implicit,n=e.oxw();e.Q6J("value",l)("disabled",n.optionDisabled),e.xp6(2),e.Oqu(n.displayOption(l))}}function W(s,r){if(1&s){const l=e.EpF();e.TgZ(0,"mat-icon",7),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const X=["*"];let $=(()=>{var s;class r{constructor(n,t,o,i,p){(0,a.Z)(this,"coreEnumService",void 0),(0,a.Z)(this,"cmsToastrService",void 0),(0,a.Z)(this,"cdr",void 0),(0,a.Z)(this,"translate",void 0),(0,a.Z)(this,"categoryService",void 0),(0,a.Z)(this,"dataModelResult",new c.y$4),(0,a.Z)(this,"dataModelSelect",new c.Lnx),(0,a.Z)(this,"formControl",new m.NI),(0,a.Z)(this,"filteredOptions",void 0),(0,a.Z)(this,"optionPlaceholder",""),(0,a.Z)(this,"optionSelectFirstItem",!1),(0,a.Z)(this,"optionChange",new e.vpe),(0,a.Z)(this,"optionReload",()=>this.onActionReload()),(0,a.Z)(this,"loading",new T.O),(0,a.Z)(this,"optionDisabled",!1),(0,a.Z)(this,"privateLinkCategryId",""),this.coreEnumService=n,this.cmsToastrService=t,this.cdr=o,this.translate=i,this.categoryService=p,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}set optionSelectForce(n){this.onActionSelectForce(n)}get optionLoading(){return this.loading}set optionLoading(n){this.loading=n}set optionLinkCategryId(n){n!=this.privateLinkCategryId&&(""!=this.privateLinkCategryId&&this.onActionSelectClear(),this.privateLinkCategryId=n,this.loadOptions())}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,Q.O)(""),(0,R.b)(1500),(0,G.x)(),(0,Y.w)(n=>"string"==typeof n||"number"==typeof n?this.DataGetAll(n||""):[]))}displayFn(n){return n?n.title:void 0}displayOption(n){return n?n.title:void 0}DataGetAll(n){var t=this;return(0,L.Z)(function*(){const o=new c.Hay;o.rowPerPage=20,o.accessLoad=!0;let i=new c.AO3;i.propertyName="Title",i.value=n,i.searchType=c.J6G.Contains,i.clauseType=c.ppe.Or,o.filters.push(i),n&&"string"==typeof+n&&+n>0&&(i=new c.AO3,i.propertyName="Id",i.value=n,i.searchType=c.J6G.Equal,i.clauseType=c.ppe.Or,o.filters.push(i)),t.privateLinkCategryId&&t.privateLinkCategryId.length>0&&(i=new c.AO3,i.propertyName="linkCategoryId",i.value=t.privateLinkCategryId,i.searchType=c.J6G.Equal,o.filters.push(i));const p=t.constructor.name+"main";return t.loading.Start(p),yield(0,P.z)(t.categoryService.ServiceGetAll(o)).then(h=>(t.dataModelResult=h,t.optionSelectFirstItem&&(!t.dataModelSelect||!t.dataModelSelect.id||0==t.dataModelSelect.id.length)&&t.dataModelResult.listItems.length>0&&(t.optionSelectFirstItem=!1,setTimeout(()=>{t.formControl.setValue(t.dataModelResult.listItems[0]),t.onActionSelect(t.dataModelResult.listItems[0])},1e3)),t.loading.Stop(p),h.listItems))})()}onActionSelect(n){this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(n){return this.filteredOptions.pipe((0,H.U)(t=>(t.find(o=>o.id===n.id)||t.push(n),t)))}onActionSelectForce(n){if("string"==typeof n&&n.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===n)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===n)){const t=this.dataModelResult.listItems.find(o=>o.id===n);return this.dataModelSelect=t,void this.formControl.setValue(t)}this.categoryService.ServiceGetOneById(n).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}})}else{if(typeof n==typeof c.Lnx)return this.filteredOptions=this.push(n),this.dataModelSelect=n,void this.formControl.setValue(n);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new c.Lnx,this.loadOptions()}}return s=r,(0,a.Z)(r,"\u0275fac",function(n){return new(n||s)(e.Y36(c.FLW),e.Y36(x.e),e.Y36(e.sBO),e.Y36(v.sK),e.Y36(c.ULy))}),(0,a.Z)(r,"\u0275cmp",e.Xpm({type:s,selectors:[["app-sms-main-message-content-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLoading:"optionLoading",optionLinkCategryId:"optionLinkCategryId",optionDisabled:"optionDisabled"},outputs:{optionChange:"optionChange"},ngContentSelectors:X,decls:8,vars:8,consts:[[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(n,t){if(1&n&&(e.F$t(),e.TgZ(0,"mat-form-field",0),e._UZ(1,"input",1),e.TgZ(2,"mat-autocomplete",2,3),e.NdJ("optionSelected",function(i){return t.onActionSelect(i.option.value)}),e.YNc(4,K,3,3,"mat-option",4),e.ALo(5,"async"),e.qZA(),e.YNc(6,W,2,0,"mat-icon",5),e.Hsn(7),e.qZA()),2&n){const o=e.MAs(3);e.xp6(1),e.s9C("placeholder",t.optionPlaceholder),e.Q6J("formControl",t.formControl)("matAutocomplete",o),e.xp6(1),e.Q6J("displayWith",t.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(5,6,t.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==t.dataModelSelect?null:t.dataModelSelect.id)}},dependencies:[f.sg,f.O5,m.Fj,m.JJ,m.oH,E.XC,j.ey,E.ZL,u.KE,u.R9,k.Hw,J.Nt,f.Ov],encapsulation:2})),r})();var O=d(9638),b=d(83704),M=d(17914),z=d(64639),V=d(75738),ee=d(42370),te=d(95834),ne=d(55211),_=d(18849),oe=d(54536),ae=d(50727),ie=d(71561);function se(s,r){if(1&s){const l=e.EpF();e.TgZ(0,"mat-tree-node",6),e._UZ(1,"button",7),e.TgZ(2,"mat-checkbox",8),e.NdJ("change",function(){const o=e.CHM(l).$implicit,i=e.oxw();return e.KtG(i.checklistSelection.toggle(o))}),e._uU(3),e.qZA()()}if(2&s){const l=r.$implicit,n=e.oxw();e.xp6(2),e.Q6J("checked",n.checklistSelection.isSelected(l)),e.xp6(1),e.Oqu(l.title)}}function le(s,r){if(1&s){const l=e.EpF();e.TgZ(0,"mat-nested-tree-node")(1,"li")(2,"div",9)(3,"button",10)(4,"mat-icon",11),e._uU(5),e.qZA()(),e.TgZ(6,"mat-checkbox",12),e.NdJ("change",function(){const o=e.CHM(l).$implicit,i=e.oxw();return e.KtG(i.todoItemSelectionToggle(o))}),e._uU(7),e.qZA()(),e.TgZ(8,"ul"),e.GkF(9,13),e.qZA()()()}if(2&s){const l=r.$implicit,n=e.oxw();e.xp6(3),e.uIk("aria-label","Toggle "+l.title),e.xp6(2),e.hij(" ",n.treeControl.isExpanded(l)?"expand_more":"chevron_right"," "),e.xp6(1),e.Q6J("checked",n.checklistSelection.isSelected(l))("indeterminate",n.descendantsPartiallySelected(l)),e.xp6(1),e.hij(" ",l.title,""),e.xp6(1),e.ekj("category-tree-invisible",!n.treeControl.isExpanded(l))}}let re=(()=>{var s;class r{constructor(n,t,o,i,p,h,S){(0,a.Z)(this,"cmsToastrService",void 0),(0,a.Z)(this,"coreEnumService",void 0),(0,a.Z)(this,"categoryService",void 0),(0,a.Z)(this,"cdr",void 0),(0,a.Z)(this,"dialog",void 0),(0,a.Z)(this,"translate",void 0),(0,a.Z)(this,"tokenHelper",void 0),(0,a.Z)(this,"id",++r.nextId),(0,a.Z)(this,"dataModelSelect",[]),(0,a.Z)(this,"dataModelResult",new c.y$4),(0,a.Z)(this,"filterModel",new c.Hay),(0,a.Z)(this,"loading",new T.O),(0,a.Z)(this,"treeControl",new ne.VY(g=>g.children)),(0,a.Z)(this,"dataSource",new _.WX),(0,a.Z)(this,"runComplate",!1),(0,a.Z)(this,"optionSelectChecked",new e.vpe),(0,a.Z)(this,"optionSelectDisChecked",new e.vpe),(0,a.Z)(this,"optionModelChange",new e.vpe),(0,a.Z)(this,"cmsApiStoreSubscribe",void 0),(0,a.Z)(this,"checklistSelection",new te.Ov(!0)),(0,a.Z)(this,"hasChild",(g,C)=>!!C.children&&C.children.length>0),(0,a.Z)(this,"hasNoContent",(g,C)=>C.children),this.cmsToastrService=n,this.coreEnumService=t,this.categoryService=o,this.cdr=i,this.dialog=p,this.translate=h,this.tokenHelper=S,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.checklistSelection.changed.subscribe(g=>{if(!this.runComplate)return;const C=[];this.checklistSelection.selected.forEach(Z=>{C.push(Z.id)}),this.optionModelChange.emit(C),g.added&&g.added.length>0&&g.added.forEach(Z=>{this.optionSelectChecked.emit(Z.id)}),g.removed&&g.removed.length>0&&g.removed.forEach(Z=>{this.optionSelectDisChecked.emit(Z.id)})})}set optionModel(n){this.dataModelSelect=n,this.loadCheked()}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(n=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}loadCheked(n=this.treeControl.dataNodes){this.runComplate=!1,this.treeControl.dataNodes&&this.dataModelSelect&&this.dataModelSelect.length>0&&n.forEach(t=>{this.dataModelSelect.find(i=>i===t.id)&&this.checklistSelection.select(t),t.children&&t.children.length>0&&this.loadCheked(t.children)}),this.runComplate=!0}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;const n=this.constructor.name+"main";this.loading.Start(n),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:t=>{t.isSuccess?(this.dataModelResult=t,this.dataSource.data=this.dataModelResult.listItems,this.treeControl.dataNodes=this.dataModelResult.listItems,this.loadCheked()):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.loading.Stop(n)},error:t=>{this.loading.Stop(n),this.cmsToastrService.typeError(t)}})}descendantsAllSelected(n){return this.treeControl.getDescendants(n).every(o=>this.checklistSelection.isSelected(o))}descendantsPartiallySelected(n){return this.treeControl.getDescendants(n).some(i=>this.checklistSelection.isSelected(i))&&!this.descendantsAllSelected(n)}todoItemSelectionToggle(n){this.checklistSelection.toggle(n);const t=this.treeControl.getDescendants(n);this.checklistSelection.isSelected(n)?this.checklistSelection.select(...t):this.checklistSelection.deselect(...t)}}return s=r,(0,a.Z)(r,"nextId",0),(0,a.Z)(r,"\u0275fac",function(n){return new(n||s)(e.Y36(x.e),e.Y36(c.FLW),e.Y36(c.buc),e.Y36(e.sBO),e.Y36(oe.uw),e.Y36(v.sK),e.Y36(ae.v))}),(0,a.Z)(r,"\u0275cmp",e.Xpm({type:s,selectors:[["app-cms-contact-category-tree-selector"]],inputs:{optionModel:"optionModel"},outputs:{optionSelectChecked:"optionSelectChecked",optionSelectDisChecked:"optionSelectDisChecked",optionModelChange:"optionModelChange"},decls:6,vars:3,consts:[[1,"ntk-cms-html-tree-header"],[1,"ntk-cms-html-tree-body"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"ntk-cms-html-tree-footer"],["matTreeNodePadding",""],["type","button","mat-icon-button","","disabled",""],[1,"checklist-leaf-node",3,"checked","change"],[1,"mat-tree-node"],["type","button","mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[3,"checked","indeterminate","change"],["matTreeNodeOutlet",""]],template:function(n,t){1&n&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"mat-tree",2),e.YNc(3,se,4,2,"mat-tree-node",3),e.YNc(4,le,10,7,"mat-nested-tree-node",4),e.qZA()(),e._UZ(5,"div",5)),2&n&&(e.xp6(2),e.Q6J("dataSource",t.dataSource)("treeControl",t.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",t.hasChild))},dependencies:[O.RK,ie.oG,k.Hw,_.GZ,_.fQ,_.ah,_.eu,_.gi,_.uo,_.Ar],encapsulation:2})),r})();var y=d(64079),D=d(98908);const de=["vform"],ce=["Message"];function pe(s,r){if(1&s){const l=e.EpF();e.TgZ(0,"app-sms-api-number-selector",52),e.NdJ("optionLoadingChange",function(t){e.CHM(l);const o=e.oxw();return e.KtG(o.loading=t)})("optionChange",function(t){e.CHM(l);const o=e.oxw();return e.KtG(o.onActionSelectApiNumber(t))}),e.qZA()}if(2&s){const l=e.oxw();e.Q6J("optionLoading",l.loading)("optionLinkApiPathId",l.dataModel.linkApiPathId)("optionPlaceholder",l.translate.instant("TITLE.sender_number"))("optionSelectFirstItem",!0)("optionSelectFirstItemOnChangeApi",!0)}}function me(s,r){if(1&s){const l=e.EpF();e.TgZ(0,"textarea",53),e.NdJ("ngModelChange",function(t){e.CHM(l);const o=e.oxw();return e.KtG(o.dataMessageContentModel.messageBody=t)}),e.qZA()}if(2&s){const l=e.oxw();e.Q6J("ngModel",l.dataMessageContentModel.messageBody)}}function ge(s,r){if(1&s){const l=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.onActionMessageContentAdd())}),e._UZ(1,"i",55),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"TITLE.Added_to_the_text")," "))}function he(s,r){if(1&s){const l=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.onActionMessageContentNew())}),e._UZ(1,"i",55),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"TITLE.Message_Text")," "))}function ue(s,r){if(1&s){const l=e.EpF();e.TgZ(0,"mat-icon",56),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.onActionScheduleSendNow())}),e._uU(1,"close"),e.qZA()}}function _e(s,r){if(1&s){const l=e.EpF();e.TgZ(0,"mat-icon",56),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.onActionScheduleSendNow())}),e._uU(1,"close"),e.qZA()}}function Se(s,r){if(1&s){const l=e.EpF();e.TgZ(0,"mat-icon",57),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.dataModel.message="")}),e._uU(1," close"),e.qZA()}}function Ce(s,r){1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"strong"),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,2,"TITLE.Message_Text")," "),e.xp6(3),e.Oqu(e.lcZ(5,4,"MESSAGE.required")))}function Me(s,r){if(1&s){const l=e.EpF();e.TgZ(0,"mat-form-field",58)(1,"mat-label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"textarea",59,60),e.NdJ("ngModelChange",function(t){e.CHM(l);const o=e.oxw();return e.KtG(o.dataModel.toNumbers=t)}),e.qZA(),e.TgZ(6,"mat-hint",61)(7,"mat-icon",62),e._uU(8,"info"),e.qZA(),e.TgZ(9,"strong",63),e._uU(10),e.ALo(11,"translate"),e.qZA()()()}if(2&s){const l=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"TITLE.Receiver_number")),e.xp6(2),e.Q6J("ngModel",l.dataModel.toNumbers),e.xp6(6),e.Oqu(e.lcZ(11,5,"TITLE.You_can_separate_the_number_of_the_recipient_of_the_message_with_an_inter"))}}function fe(s,r){if(1&s){const l=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(l);const t=e.oxw(2);return e.KtG(t.onFormSubmit())}),e._UZ(1,"i",67),e._uU(2),e.ALo(3,"translate"),e.qZA()}if(2&s){e.oxw(2);const l=e.MAs(1);e.Q6J("disabled",!l.valid),e.xp6(2),e.hij(" ",e.lcZ(3,2,"ACTION.Send_Message")," ")}}function Ae(s,r){if(1&s&&(e.TgZ(0,"div",64),e._UZ(1,"app-progress-spinner",4),e.YNc(2,fe,4,4,"button",65),e.qZA()),2&s){const l=e.oxw();e.xp6(1),e.Q6J("options",l.loadingAction),e.xp6(1),e.Q6J("ngIf",!l.loading.display)}}function Ze(s,r){if(1&s&&e._UZ(0,"app-cms-json-list",68),2&s){const l=e.oxw();e.Q6J("dataModel",l.dataModelResult.item)("optionMethod",1)}}class U{constructor(){(0,a.Z)(this,"date",void 0),(0,a.Z)(this,"clock",void 0)}}let I=(()=>{var s;class r{constructor(n,t,o,i,p,h,S,g){(0,a.Z)(this,"coreEnumService",void 0),(0,a.Z)(this,"smsMainApiPathService",void 0),(0,a.Z)(this,"activatedRoute",void 0),(0,a.Z)(this,"cmsToastrService",void 0),(0,a.Z)(this,"cdr",void 0),(0,a.Z)(this,"publicHelper",void 0),(0,a.Z)(this,"translate",void 0),(0,a.Z)(this,"router",void 0),(0,a.Z)(this,"requestLinkApiPathId",""),(0,a.Z)(this,"formGroup",void 0),(0,a.Z)(this,"message",void 0),(0,a.Z)(this,"receiverNumber",""),(0,a.Z)(this,"senderNumber",""),(0,a.Z)(this,"linkApiPathId",""),(0,a.Z)(this,"linkNumberId",""),(0,a.Z)(this,"loading",new T.O),(0,a.Z)(this,"loadingAction",new T.O),(0,a.Z)(this,"dataModelParentSelected",new c.lWT),(0,a.Z)(this,"dataModel",new c.sh1),(0,a.Z)(this,"dataModelResult",new c.y$4),(0,a.Z)(this,"dataModelDateByClockStart",new U),(0,a.Z)(this,"dataModelDateByClockExpire",new U),(0,a.Z)(this,"formInfo",new c.LEF),(0,a.Z)(this,"clipboardText",""),(0,a.Z)(this,"isCronDisabled",!1),(0,a.Z)(this,"cronOptions",{formInputClass:"form-control cron-editor-input",formSelectClass:"form-control cron-editor-select",formRadioClass:"cron-editor-radio",formCheckboxClass:"cron-editor-checkbox",defaultTime:"10:00:00",use24HourTime:!0,hideMinutesTab:!1,hideHourlyTab:!1,hideDailyTab:!1,hideWeeklyTab:!1,hideMonthlyTab:!1,hideYearlyTab:!1,hideAdvancedTab:!1,hideSeconds:!0,removeSeconds:!0,removeYears:!0}),(0,a.Z)(this,"dataMessageCategoryModel",new c._fd),(0,a.Z)(this,"dataMessageContentModel",new c.Lnx),(0,a.Z)(this,"step",0),this.coreEnumService=n,this.smsMainApiPathService=t,this.activatedRoute=o,this.cmsToastrService=i,this.cdr=p,this.publicHelper=h,this.translate=S,this.router=g,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.loadingAction.cdr=this.cdr,this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"),this.requestLinkApiPathId?.length>0&&(this.dataModel.linkApiPathId=this.requestLinkApiPathId),this.dataModel.scheduleCron="",this.router&&this.router.getCurrentNavigation()&&null!=this.router.getCurrentNavigation().extras.state&&(this.receiverNumber=this.router.getCurrentNavigation().extras.state.ReceiverNumber,this.senderNumber=this.router.getCurrentNavigation().extras.state.SenderNumber,this.linkApiPathId=this.router.getCurrentNavigation().extras.state.LinkApiPathId,this.linkNumberId=this.router.getCurrentNavigation().extras.state.LinkNumberId)}ngOnInit(){this.onActionScheduleSendNow(),this.linkApiPathId&&this.linkApiPathId?.length>0&&(this.dataModel.linkApiPathId=this.linkApiPathId),this.receiverNumber&&this.receiverNumber?.length>0&&(this.dataModel.toNumbers=this.receiverNumber),this.senderNumber&&this.senderNumber?.length>0&&(this.dataModel.linkFromNumber=this.senderNumber)}onActionScheduleSendNow(){const n=new Date;this.dataModel.scheduleSendStart=n,this.dataModelDateByClockStart.clock=n.getHours()+":"+n.getMinutes(),this.dataModelDateByClockStart.date=n,this.dataModel.scheduleSendExpire=n,this.dataModelDateByClockExpire.clock=n.getHours()+":"+n.getMinutes(),this.dataModelDateByClockExpire.date=n}onActionScheduleSendCheck(){const n=new Date;this.dataModelDateByClockStart.clock||(this.dataModelDateByClockStart.clock=n.getHours()+":"+n.getMinutes()),this.dataModelDateByClockStart.date||(this.dataModelDateByClockStart.date=n),this.dataModelDateByClockStart.date=new Date(this.dataModelDateByClockStart.date),this.dataModelDateByClockStart.date.setHours(0|+this.dataModelDateByClockStart.clock.split(":")[0],0|+this.dataModelDateByClockStart.clock.split(":")[1]),this.dataModel.scheduleSendStart=this.dataModelDateByClockStart.date,this.dataModelDateByClockExpire.clock||(this.dataModelDateByClockExpire.clock=n.getHours()+":"+n.getMinutes()),this.dataModelDateByClockExpire.date||(this.dataModelDateByClockExpire.date=n),this.dataModelDateByClockExpire.date=new Date(this.dataModelDateByClockExpire.date),this.dataModelDateByClockExpire.date.setHours(0|+this.dataModelDateByClockExpire.clock.split(":")[0],0|+this.dataModelDateByClockExpire.clock.split(":")[1]),this.dataModel.scheduleSendExpire=this.dataModelDateByClockExpire.date}readClipboardFromDevTools(){return new Promise((n,t)=>{const o=function(){var i=(0,L.Z)(function*(){try{const p=yield navigator.clipboard.readText();n(p)}catch(p){t(p)}window.removeEventListener("focus",o)});return function(){return i.apply(this,arguments)}}();window.addEventListener("focus",o),console.log("Hit <Tab> to give focus back to document (or we will face a DOMException);")})}onActionMessageLTR(){this.message.nativeElement.style.direction="ltr",this.message.nativeElement.style.textAlign="left"}onActionMessageRTL(){this.message.nativeElement.style.direction="rtl",this.message.nativeElement.style.textAlign="right"}onActionSelectPrivateSiteConfig(n){this.dataModel.linkApiPathId=this.requestLinkApiPathId,this.dataModelParentSelected=n,n&&n.id.length>0&&(this.dataModel.linkApiPathId=n.id,this.dataModel.linkFromNumber=null)}onActionSelectMessageCategory(n){this.dataMessageCategoryModel=n&&n.id.length>0?n:new c._fd}onActionSelectMessageContent(n){this.dataMessageContentModel=n&&n.id.length>0?n:new c.Lnx}onActionSelectApiNumber(n){n&&n.id.length>0&&(this.dataModel.linkFromNumber=n.id)}onActionMessageContentAdd(){this.dataMessageContentModel?.messageBody?.length>0?this.dataModel.message.length>0&&(this.dataModel.message=this.dataModel.message+" "+this.dataMessageContentModel.messageBody):this.dataModel.message=this.dataMessageContentModel.messageBody}onActionMessageContentNew(){this.dataMessageContentModel?.messageBody?.length>0&&(this.dataModel.message=this.dataMessageContentModel.messageBody)}onFormSubmit(){if(!this.formGroup.valid)return;(!this.dataModel.linkApiPathId||this.dataModel.linkApiPathId.length<=0)&&this.cmsToastrService.typeErrorFormInvalid(),this.onActionScheduleSendCheck(),this.formInfo.formSubmitAllow=!1;const n=this.constructor.name+"main";this.loadingAction.Start(n),this.formInfo.formAlert="",this.formInfo.formError="",this.smsMainApiPathService.ServiceSendMessage(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.Submit_request_was_successfully_registered"),this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.Send_request_was_successfully_registered"))):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.loadingAction.Stop(n)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.loadingAction.Stop(n)},complete:()=>{}})}onActionContactCategorySelectChecked(n){if(!n||n.length<=0){const t=this.translate.instant("MESSAGE.category_of_information_is_not_clear");this.cmsToastrService.typeErrorSelected(t)}else this.dataModel.toContactCategories||(this.dataModel.toContactCategories=[]),this.dataModel.toContactContents||(this.dataModel.toContactContents=[]),this.publicHelper.listAddIfNotExist(this.dataModel.toContactCategories,n,0),(this.dataModel.toContactCategories.length>0||this.dataModel.toContactContents.length>0)&&(this.dataModel.toNumbers="")}onActionContactCategorySelectDisChecked(n){if(!n||n.length<=0){const t=this.translate.instant("MESSAGE.category_of_information_is_not_clear");this.cmsToastrService.typeErrorSelected(t)}else this.dataModel.toContactCategories||(this.dataModel.toContactCategories=[]),this.dataModel.toContactContents||(this.dataModel.toContactContents=[]),this.publicHelper.listRemoveIfExist(this.dataModel.toContactCategories,n),(this.dataModel.toContactCategories.length>0||this.dataModel.toContactContents.length>0)&&(this.dataModel.toNumbers="")}setStep(n){this.step=n}nextStep(){this.step++}prevStep(){this.step--}}return s=r,(0,a.Z)(r,"\u0275fac",function(n){return new(n||s)(e.Y36(c.FLW),e.Y36(c.sZP),e.Y36(A.gz),e.Y36(x.e),e.Y36(e.sBO),e.Y36(w.i),e.Y36(v.sK),e.Y36(A.F0))}),(0,a.Z)(r,"\u0275cmp",e.Xpm({type:s,selectors:[["app-sms-action-send-message"]],viewQuery:function(n,t){if(1&n&&(e.Gf(de,5),e.Gf(ce,5)),2&n){let o;e.iGM(o=e.CRH())&&(t.formGroup=o.first),e.iGM(o=e.CRH())&&(t.message=o.first)}},decls:197,vars:142,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"row"],[1,"col-6"],[1,"example-headers-align"],["hideToggle","",3,"expanded","opened"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionSelectFirstItem","optionChange","optionLoadingChange"],[3,"optionLoading","optionSelectForce","optionLinkApiPathId","optionPlaceholder","optionSelectFirstItem","optionSelectFirstItemOnChangeApi","optionLoadingChange","optionChange",4,"ngIf"],["type","button","mat-button","","color","primary",3,"click"],[3,"optionLoading","optionLoadingChange","optionChange"],[3,"optionLoading","optionLinkCategryId","optionLoadingChange","optionChange"],["matInput","","name","dataMessageContentModel.messageBody","type","text","rows","10",3,"ngModel","ngModelChange",4,"ngIf"],["type","button","class","btn btn-light",3,"click",4,"ngIf"],["type","button","mat-button","","color","warn",3,"click"],[3,"optionSelectChecked","optionSelectDisChecked"],[1,"ntk-full-width"],["matInput","","name","scheduleSendStartDate",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","",3,"for"],["touchUi","",3,"closed"],["scheduleSendStartDate",""],["matInput","","name","scheduleSendStartClock",3,"ngxTimepicker","ngModel","format","ngModelChange"],["scheduleSendStartClock",""],["matInput","","name","scheduleSendExpireDate",3,"matDatepicker","ngModel","ngModelChange"],["scheduleSendExpireDate",""],["matInput","","name","scheduleSendExpireClock",3,"ngxTimepicker","ngModel","format","ngModelChange"],["scheduleSendExpireClock",""],[3,"cron","disabled","options","cronChange"],[2,"direction","ltr"],["name","dataModel.isFlash",3,"ngModel","ngModelChange"],["name","dataModel.sendByQeue",3,"ngModel","ngModelChange"],[1,"message-box"],[1,"row",2,"height","64px"],[1,"row",2,"height","300px"],["matInput","","name","dataModel.message","type","text","placeholder","...","minlength","1","maxlength","500","rows","9",3,"ngModel","ngModelChange"],["Message",""],["mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"click"],["align","end"],[4,"ngIf"],[1,"row",2,"height","83px"],["class","ntk-full-width input-ltr-center",4,"ngIf"],["class","row","style","height:140px;bottom: 4vh;justify-content: center;",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[3,"dataModel","optionMethod",4,"ngIf"],[1,"ntk-cms-html-card-footer"],[3,"optionLoading","optionSelectForce","optionLinkApiPathId","optionPlaceholder","optionSelectFirstItem","optionSelectFirstItemOnChangeApi","optionLoadingChange","optionChange"],["matInput","","name","dataMessageContentModel.messageBody","type","text","rows","10",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-icon-button","","aria-label","Clear",3,"click"],[1,"ntk-full-width","input-ltr-center"],["matInput","","name","dataModel.toNumbers","type","text","placeholder","0912","rows","2",3,"ngModel","ngModelChange"],["ToNumbers",""],["align","start"],[1,"info-field-icon"],[1,"info-field-text"],[1,"row",2,"height","140px","bottom","4vh","justify-content","center"],["type","submit","class","message-box-button",3,"disabled","click",4,"ngIf"],["type","submit",1,"message-box-button",3,"disabled","click"],[1,"fa","fa-check-square-o"],[3,"dataModel","optionMethod"]],template:function(n,t){if(1&n&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return t.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"div",5)(7,"div",6)(8,"mat-accordion",7)(9,"mat-expansion-panel",8),e.NdJ("opened",function(){return t.setStep(0)}),e.TgZ(10,"mat-expansion-panel-header")(11,"mat-panel-title"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"mat-panel-description"),e._uU(15),e.ALo(16,"translate"),e.TgZ(17,"mat-icon"),e._uU(18,"account_circle"),e.qZA()()(),e.TgZ(19,"app-sms-apipath-selector",9),e.NdJ("optionChange",function(i){return t.onActionSelectPrivateSiteConfig(i)})("optionLoadingChange",function(i){return t.loading=i}),e.qZA(),e.YNc(20,pe,1,5,"app-sms-api-number-selector",10),e.TgZ(21,"mat-action-row")(22,"button",11),e.NdJ("click",function(){return t.nextStep()}),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"mat-expansion-panel",8),e.NdJ("opened",function(){return t.setStep(1)}),e.TgZ(26,"mat-expansion-panel-header")(27,"mat-panel-title"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"mat-panel-description"),e._uU(31),e.ALo(32,"translate"),e.TgZ(33,"mat-icon"),e._uU(34,"map"),e.qZA()()(),e.TgZ(35,"app-sms-main-message-category-selector",12),e.NdJ("optionLoadingChange",function(i){return t.loading=i})("optionChange",function(i){return t.onActionSelectMessageCategory(i)}),e.qZA(),e.TgZ(36,"app-sms-main-message-content-selector",13),e.NdJ("optionLoadingChange",function(i){return t.loading=i})("optionChange",function(i){return t.onActionSelectMessageContent(i)}),e.qZA(),e.YNc(37,me,1,1,"textarea",14),e.YNc(38,ge,4,3,"button",15),e.YNc(39,he,4,3,"button",15),e.TgZ(40,"mat-action-row")(41,"button",16),e.NdJ("click",function(){return t.prevStep()}),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"button",11),e.NdJ("click",function(){return t.nextStep()}),e._uU(45),e.ALo(46,"translate"),e.qZA()()(),e.TgZ(47,"mat-expansion-panel",8),e.NdJ("opened",function(){return t.setStep(2)}),e.TgZ(48,"mat-expansion-panel-header")(49,"mat-panel-title"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"mat-panel-description"),e._uU(53),e.ALo(54,"translate"),e.TgZ(55,"mat-icon"),e._uU(56,"date_range"),e.qZA()()(),e.TgZ(57,"app-cms-contact-category-tree-selector",17),e.NdJ("optionSelectChecked",function(i){return t.onActionContactCategorySelectChecked(i)})("optionSelectDisChecked",function(i){return t.onActionContactCategorySelectDisChecked(i)}),e.qZA(),e.TgZ(58,"mat-action-row")(59,"button",16),e.NdJ("click",function(){return t.prevStep()}),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"button",11),e.NdJ("click",function(){return t.nextStep()}),e._uU(63),e.ALo(64,"translate"),e.qZA()()(),e.TgZ(65,"mat-expansion-panel",8),e.NdJ("opened",function(){return t.setStep(3)}),e.TgZ(66,"mat-expansion-panel-header")(67,"mat-panel-title"),e._uU(68),e.ALo(69,"translate"),e.qZA(),e.TgZ(70,"mat-panel-description"),e._uU(71),e.ALo(72,"translate"),e.TgZ(73,"mat-icon"),e._uU(74,"date_range"),e.qZA()()(),e.TgZ(75,"div",5)(76,"div",6)(77,"mat-form-field",18)(78,"mat-label"),e._uU(79),e.ALo(80,"translate"),e.qZA(),e.TgZ(81,"input",19),e.NdJ("ngModelChange",function(i){return t.dataModelDateByClockStart.date=i}),e.qZA(),e.YNc(82,ue,2,0,"mat-icon",20),e._UZ(83,"mat-datepicker-toggle",21),e.TgZ(84,"mat-datepicker",22,23),e.NdJ("closed",function(){return t.onActionScheduleSendCheck()}),e.qZA()()(),e.TgZ(86,"div",6)(87,"mat-form-field",18)(88,"mat-label"),e._uU(89),e.ALo(90,"translate"),e.qZA(),e.TgZ(91,"input",24),e.NdJ("ngModelChange",function(i){return t.dataModelDateByClockStart.clock=i}),e.qZA(),e._UZ(92,"ngx-material-timepicker-toggle",21),e.TgZ(93,"ngx-material-timepicker",22,25),e.NdJ("closed",function(){return t.onActionScheduleSendCheck()}),e.qZA()()(),e.TgZ(95,"div",6)(96,"mat-form-field",18)(97,"mat-label"),e._uU(98),e.ALo(99,"translate"),e.qZA(),e.TgZ(100,"input",26),e.NdJ("ngModelChange",function(i){return t.dataModelDateByClockExpire.date=i}),e.qZA(),e.YNc(101,_e,2,0,"mat-icon",20),e._UZ(102,"mat-datepicker-toggle",21),e.TgZ(103,"mat-datepicker",22,27),e.NdJ("closed",function(){return t.onActionScheduleSendCheck()}),e.qZA()()(),e.TgZ(105,"div",6)(106,"mat-form-field",18)(107,"mat-label"),e._uU(108),e.ALo(109,"translate"),e.qZA(),e.TgZ(110,"input",28),e.NdJ("ngModelChange",function(i){return t.dataModelDateByClockExpire.clock=i}),e.qZA(),e._UZ(111,"ngx-material-timepicker-toggle",21),e.TgZ(112,"ngx-material-timepicker",22,29),e.NdJ("closed",function(){return t.onActionScheduleSendCheck()}),e.qZA()()()(),e._UZ(114,"hr"),e._uU(115),e.TgZ(116,"mat-action-row")(117,"button",16),e.NdJ("click",function(){return t.prevStep()}),e._uU(118),e.ALo(119,"translate"),e.qZA(),e.TgZ(120,"button",11),e.NdJ("click",function(){return t.nextStep()}),e._uU(121),e.ALo(122,"translate"),e.qZA()()(),e.TgZ(123,"mat-expansion-panel",8),e.NdJ("opened",function(){return t.setStep(4)}),e.TgZ(124,"mat-expansion-panel-header")(125,"mat-panel-title"),e._uU(126),e.ALo(127,"translate"),e.qZA(),e.TgZ(128,"mat-panel-description"),e._uU(129),e.ALo(130,"translate"),e.TgZ(131,"mat-icon"),e._uU(132,"date_range"),e.qZA()()(),e.TgZ(133,"cron-editor",30),e.NdJ("cronChange",function(i){return t.dataModel.scheduleCron=i}),e.qZA(),e.TgZ(134,"h2",31),e._uU(135),e.qZA(),e.TgZ(136,"mat-action-row")(137,"button",16),e.NdJ("click",function(){return t.prevStep()}),e._uU(138),e.ALo(139,"translate"),e.qZA(),e.TgZ(140,"button",11),e.NdJ("click",function(){return t.nextStep()}),e._uU(141),e.ALo(142,"translate"),e.qZA()()(),e.TgZ(143,"mat-expansion-panel",8),e.NdJ("opened",function(){return t.setStep(5)}),e.TgZ(144,"mat-expansion-panel-header")(145,"mat-panel-title"),e._uU(146),e.ALo(147,"translate"),e.qZA(),e.TgZ(148,"mat-panel-description"),e._uU(149),e.ALo(150,"translate"),e.TgZ(151,"mat-icon"),e._uU(152,"date_range"),e.qZA()()(),e.TgZ(153,"div",18)(154,"mat-slide-toggle",32),e.NdJ("ngModelChange",function(i){return t.dataModel.isFlash=i}),e._uU(155),e.ALo(156,"translate"),e.qZA()(),e.TgZ(157,"div",18)(158,"mat-slide-toggle",33),e.NdJ("ngModelChange",function(i){return t.dataModel.sendByQeue=i}),e._uU(159),e.ALo(160,"translate"),e.qZA()(),e.TgZ(161,"mat-action-row")(162,"button",16),e.NdJ("click",function(){return t.prevStep()}),e._uU(163),e.ALo(164,"translate"),e.qZA(),e.TgZ(165,"button",11),e.NdJ("click",function(){return t.nextStep()}),e._uU(166),e.ALo(167,"translate"),e.qZA()()()()(),e.TgZ(168,"div",6)(169,"div",34),e._UZ(170,"div",35),e.TgZ(171,"div",36)(172,"mat-form-field",18)(173,"mat-label"),e._uU(174),e.ALo(175,"translate"),e.qZA(),e.TgZ(176,"textarea",37,38),e.NdJ("ngModelChange",function(i){return t.dataModel.message=i}),e.qZA(),e.YNc(178,Se,2,0,"mat-icon",39),e.TgZ(179,"mat-icon",40),e.NdJ("click",function(){return t.onActionMessageRTL()}),e._uU(180,"chevron_left"),e.qZA(),e.TgZ(181,"mat-icon",40),e.NdJ("click",function(){return t.onActionMessageLTR()}),e._uU(182,"chevron_right"),e.qZA(),e.TgZ(183,"mat-hint",41),e._uU(184),e.qZA(),e.YNc(185,Ce,6,6,"mat-error",42),e.qZA()(),e.TgZ(186,"div",43),e.YNc(187,Me,12,7,"mat-form-field",44),e.qZA(),e.YNc(188,Ae,3,2,"div",45),e.qZA()()()(),e.TgZ(189,"div",46)(190,"div",47)(191,"small",48),e._uU(192),e.qZA(),e.TgZ(193,"small",49),e._uU(194),e.qZA()(),e.YNc(195,Ze,1,2,"app-cms-json-list",50),e.qZA(),e._UZ(196,"div",51),e.qZA()),2&n){const o=e.MAs(85),i=e.MAs(94),p=e.MAs(104),h=e.MAs(113),S=e.MAs(177);e.xp6(3),e.hij(" ",t.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",t.loading),e.xp6(4),e.Q6J("expanded",0===t.step),e.xp6(3),e.hij(" ",e.lcZ(13,82,"TITLE.Direction")," "),e.xp6(3),e.hij(" ",e.lcZ(16,84,"TITLE.Select_the_path_to_send_the_message")," "),e.xp6(4),e.Q6J("optionLoading",t.loading)("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",t.translate.instant("TITLE.Direction"))("optionSelectFirstItem",!0),e.xp6(1),e.Q6J("ngIf",(null==t.dataModel.linkApiPathId?null:t.dataModel.linkApiPathId.length)>0),e.xp6(3),e.Oqu(e.lcZ(24,86,"ACTION.NEXT")),e.xp6(2),e.Q6J("expanded",1===t.step),e.xp6(3),e.hij(" ",e.lcZ(29,88,"TITLE.Message_Text")," "),e.xp6(3),e.hij(" ",e.lcZ(32,90,"TITLE.Select_the_text_of_the_default_messages")," "),e.xp6(4),e.Q6J("optionLoading",t.loading),e.xp6(1),e.Q6J("optionLoading",t.loading)("optionLinkCategryId",t.dataMessageCategoryModel.id),e.xp6(1),e.Q6J("ngIf",(null==t.dataMessageContentModel||null==t.dataMessageContentModel.messageBody?null:t.dataMessageContentModel.messageBody.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t.dataMessageContentModel||null==t.dataMessageContentModel.messageBody?null:t.dataMessageContentModel.messageBody.length)>0&&(null==t.dataModel.message?null:t.dataModel.message.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t.dataMessageContentModel||null==t.dataMessageContentModel.messageBody?null:t.dataMessageContentModel.messageBody.length)>0),e.xp6(3),e.Oqu(e.lcZ(43,92,"ACTION.BACK")),e.xp6(3),e.Oqu(e.lcZ(46,94,"ACTION.NEXT")),e.xp6(2),e.Q6J("expanded",2===t.step),e.xp6(3),e.hij(" ",e.lcZ(51,96,"TITLE.Phonebook")," "),e.xp6(3),e.hij(" ",e.lcZ(54,98,"TITLE.Audience_selection")," "),e.xp6(7),e.Oqu(e.lcZ(61,100,"ACTION.BACK")),e.xp6(3),e.Oqu(e.lcZ(64,102,"ACTION.NEXT")),e.xp6(2),e.Q6J("expanded",3===t.step),e.xp6(3),e.hij(" ",e.lcZ(69,104,"TITLE.Shipping_time")," "),e.xp6(3),e.hij(" ",e.lcZ(72,106,"TITLE.Time_to_start_sending_and_finish")," "),e.xp6(8),e.hij(" ",e.lcZ(80,108,"TITLE.postage_date"),""),e.xp6(2),e.Q6J("matDatepicker",o)("ngModel",t.dataModelDateByClockStart.date),e.xp6(1),e.Q6J("ngIf",o),e.xp6(1),e.Q6J("for",o),e.xp6(6),e.hij(" ",e.lcZ(90,110,"TITLE.Shipping_time"),""),e.xp6(2),e.Q6J("ngxTimepicker",i)("ngModel",t.dataModelDateByClockStart.clock)("format",24),e.xp6(1),e.Q6J("for",i),e.xp6(6),e.Oqu(e.lcZ(99,112,"TITLE.Delivery_end_date")),e.xp6(2),e.Q6J("matDatepicker",p)("ngModel",t.dataModelDateByClockExpire.date),e.xp6(1),e.Q6J("ngIf",p),e.xp6(1),e.Q6J("for",p),e.xp6(6),e.Oqu(e.lcZ(109,114,"TITLE.Send_end_time")),e.xp6(2),e.Q6J("ngxTimepicker",h)("ngModel",t.dataModelDateByClockExpire.clock)("format",24),e.xp6(1),e.Q6J("for",h),e.xp6(4),e.AsE(" ",t.dataModel.scheduleSendStart," >>> ",t.dataModel.scheduleSendExpire," "),e.xp6(3),e.Oqu(e.lcZ(119,116,"ACTION.BACK")),e.xp6(3),e.Oqu(e.lcZ(122,118,"ACTION.NEXT")),e.xp6(2),e.Q6J("expanded",4===t.step),e.xp6(3),e.hij(" ",e.lcZ(127,120,"TITLE.Timing")," "),e.xp6(3),e.hij(" ",e.lcZ(130,122,"TITLE.Retry_schedule")," "),e.xp6(4),e.Q6J("cron",t.dataModel.scheduleCron)("disabled",t.isCronDisabled)("options",t.cronOptions),e.xp6(2),e.hij("Resulting Cron: ",t.dataModel.scheduleCron,""),e.xp6(3),e.Oqu(e.lcZ(139,124,"ACTION.BACK")),e.xp6(3),e.Oqu(e.lcZ(142,126,"ACTION.NEXT")),e.xp6(2),e.Q6J("expanded",5===t.step),e.xp6(3),e.hij(" ",e.lcZ(147,128,"TITLE.Settings")," "),e.xp6(3),e.hij(" ",e.lcZ(150,130,"TITLE.Send_settings")," "),e.xp6(5),e.Q6J("ngModel",t.dataModel.isFlash),e.xp6(1),e.hij(" ",e.lcZ(156,132,"TITLE.Send_as_flash")," "),e.xp6(3),e.Q6J("ngModel",t.dataModel.sendByQeue),e.xp6(1),e.hij(" ",e.lcZ(160,134,"TITLE.Send_in_queue")," "),e.xp6(4),e.Oqu(e.lcZ(164,136,"ACTION.BACK")),e.xp6(3),e.Oqu(e.lcZ(167,138,"ACTION.END")),e.xp6(8),e.Oqu(e.lcZ(175,140,"TITLE.Message_Text")),e.xp6(2),e.Q6J("ngModel",t.dataModel.message),e.xp6(2),e.Q6J("ngIf",t.dataModel.message),e.xp6(6),e.hij("",S.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==S.errors?null:S.errors.required),e.xp6(2),e.Q6J("ngIf",!(t.dataModel.toContactCategories&&0!==(null==t.dataModel.toContactCategories?null:t.dataModel.toContactCategories.length)||t.dataModel.toContactContents&&0!==(null==t.dataModel.toContactContents?null:t.dataModel.toContactContents.length))),e.xp6(1),e.Q6J("ngIf",t.formInfo.formSubmitAllow&&!(null!=t.loading&&t.loading.display)),e.xp6(4),e.hij("",t.formInfo.formAlert," "),e.xp6(2),e.hij("",t.formInfo.formError," "),e.xp6(1),e.Q6J("ngIf",null==t.dataModelResult?null:t.dataModelResult.item)}},dependencies:[f.O5,F.s,q.y,B.b,$,m._Y,m.Fj,m.JJ,m.JL,m.wO,m.nD,m.On,m.F,O.lW,b.Mq,b.hl,b.nW,M.pp,M.ib,M.VG,M.yz,M.yK,M.u4,u.KE,u.hX,u.bx,u.TO,u.R9,k.Hw,J.Nt,z.Rr,V.O,ee.v,re,y.ro,y.mr,y.I2,D.a0,v.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}.mat-tab-group[_ngcontent-%COMP%]{height:95%}.message-box[_ngcontent-%COMP%]{background-image:url(/assets/media/bg/iphone.png);height:600px;width:300px;background-position:center;background-repeat:no-repeat;background-size:cover;padding-right:33px;padding-left:33px}.message-box-button[_ngcontent-%COMP%]{color:#00f;border-color:transparent;background-color:transparent}.message-box-button[_ngcontent-%COMP%]:hover{color:red;font-size:initial}.message-box-button[_ngcontent-%COMP%]:active{color:#a200ff}"]})),r})();const Te=[{path:"",component:(()=>{var s;class r{constructor(){}ngOnInit(){}}return s=r,(0,a.Z)(r,"\u0275fac",function(n){return new(n||s)}),(0,a.Z)(r,"\u0275cmp",e.Xpm({type:s,selectors:[["app-sms-action"]],decls:1,vars:0,template:function(n,t){1&n&&e._UZ(0,"router-outlet")},dependencies:[A.lC],encapsulation:2})),r})(),children:[{path:"send-message",component:I},{path:"send-message/inbox-extras",component:I},{path:"send-message/outbox-extras",component:I}]}];let ve=(()=>{var s;class r{}return s=r,(0,a.Z)(r,"\u0275fac",function(n){return new(n||s)}),(0,a.Z)(r,"\u0275mod",e.oAB({type:s})),(0,a.Z)(r,"\u0275inj",e.cJS({imports:[A.Bz.forChild(Te),A.Bz]})),r})();var ke=d(6087),ye=d(80707),xe=d(83914),be=d(14586),Ie=d(5103);let Ne=(()=>{var s;class r{}return s=r,(0,a.Z)(r,"\u0275fac",function(n){return new(n||s)}),(0,a.Z)(r,"\u0275mod",e.oAB({type:s})),(0,a.Z)(r,"\u0275inj",e.cJS({providers:[c.EAm,c.FLW,c.Z8z,xe.s,c.dF2,c.sZP,c.buc,c.GrT],imports:[f.ez,be.SmsMainModule,ve,m.u5,m.UX.withConfig({warnOnNgModelWithFormControl:"never"}),ke.m.forRoot(),y.rK,D.g$,k.Ps,u.lN,ye.T5,Ie.r]})),r})()}}]);