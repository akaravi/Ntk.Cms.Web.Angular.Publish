"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[8509],{58509:(H,N,r)=>{r.r(N),r.d(N,{CoreUserSupportAccessCmsModule:()=>Ot});var d=r(86889),_=r(88692),a=r(20092),m=r(34511),g=r(6087),O=r(52337),T=r(26114),A=r(80418),I=r(8918),S=r(97147),h=r(60656),Y=r(76997),P=r(57154),v=r(8239),U=r(54536),e=r(64537),y=r(32607),L=r(13987),x=r(56707),B=r(1379),E=r(88659),D=r(83331),J=r(39665),Q=r(18033),F=r(64639),W=r(56599),G=r(63181),C=r(75738),Z=r(22379);const c=["vform"];function u(s,i){if(1&s&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function M(s,i){1&s&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function b(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.dataModel.moduleName="")}),e._uU(1,"close"),e.qZA()}}function p(s,i){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function V(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-form-field",34)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",35,36),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleName=n)}),e.qZA(),e.YNc(5,b,2,0,"mat-icon",37),e.TgZ(6,"mat-icon",38),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",39)(9,"mat-icon",40),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",41),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,p,5,4,"mat-error",10),e.qZA()}if(2&s){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.moduleName?null:o.fieldsInfo.moduleName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessAddField)),e.s9C("placeholder",null==o.fieldsInfo.moduleName?null:o.fieldsInfo.moduleName.fieldTitle),e.Q6J("ngModel",o.dataModel.moduleName),e.xp6(2),e.Q6J("ngIf",o.dataModel.moduleName),e.xp6(7),e.Oqu(null==o.fieldsInfo.moduleName?null:o.fieldsInfo.moduleName.fieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function X(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.dataModel.moduleEntityName="")}),e._uU(1,"close"),e.qZA()}}function ee(s,i){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function te(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-form-field",34)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",43,44),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleEntityName=n)}),e.qZA(),e.YNc(5,X,2,0,"mat-icon",37),e.TgZ(6,"mat-icon",38),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",39)(9,"mat-icon",40),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",41),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,ee,5,4,"mat-error",10),e.qZA()}if(2&s){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.moduleEntityName?null:o.fieldsInfo.moduleEntityName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=o.fieldsInfo.moduleEntityName&&o.fieldsInfo.moduleEntityName.accessAddField)),e.s9C("placeholder",null==o.fieldsInfo.moduleEntityName?null:o.fieldsInfo.moduleEntityName.fieldTitle),e.Q6J("ngModel",o.dataModel.moduleEntityName),e.xp6(2),e.Q6J("ngIf",o.dataModel.moduleEntityName),e.xp6(7),e.Oqu(null==o.fieldsInfo.moduleEntityName?null:o.fieldsInfo.moduleEntityName.fieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function oe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRow)("disabled",!(null!=t.fieldsInfo.accessDeleteRow&&t.fieldsInfo.accessDeleteRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessDeleteRow?null:t.fieldsInfo.accessDeleteRow.fieldTitle," ")}}function se(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRow)("disabled",!(null!=t.fieldsInfo.accessWatchRow&&t.fieldsInfo.accessWatchRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRow?null:t.fieldsInfo.accessWatchRow.fieldTitle," ")}}function ne(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRow)("disabled",!(null!=t.fieldsInfo.accessCountRow&&t.fieldsInfo.accessCountRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRow?null:t.fieldsInfo.accessCountRow.fieldTitle," ")}}function le(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRow)("disabled",!(null!=t.fieldsInfo.accessEditRow&&t.fieldsInfo.accessEditRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRow?null:t.fieldsInfo.accessEditRow.fieldTitle," ")}}function ie(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessAddRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessAddRow)("disabled",!(null!=t.fieldsInfo.accessAddRow&&t.fieldsInfo.accessAddRow.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessAddRow?null:t.fieldsInfo.accessAddRow.fieldTitle," ")}}function ae(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessExportFile=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessExportFile)("disabled",!(null!=t.fieldsInfo.accessExportFile&&t.fieldsInfo.accessExportFile.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessExportFile?null:t.fieldsInfo.accessExportFile.fieldTitle," ")}}function de(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherSiteId=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessWatchRowOtherSiteId&&t.fieldsInfo.accessWatchRowOtherSiteId.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRowOtherSiteId?null:t.fieldsInfo.accessWatchRowOtherSiteId.fieldTitle," ")}}function ce(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",52),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessWatchRowOtherCreatedBy&&t.fieldsInfo.accessWatchRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRowOtherCreatedBy?null:t.fieldsInfo.accessWatchRowOtherCreatedBy.fieldTitle," ")}}function re(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",53),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherSiteId=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessCountRowOtherSiteId&&t.fieldsInfo.accessCountRowOtherSiteId.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRowOtherSiteId?null:t.fieldsInfo.accessCountRowOtherSiteId.fieldTitle," ")}}function ue(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessCountRowOtherCreatedBy&&t.fieldsInfo.accessCountRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRowOtherCreatedBy?null:t.fieldsInfo.accessCountRowOtherCreatedBy.fieldTitle," ")}}function me(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",55),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherSiteId=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessEditRowOtherSiteId&&t.fieldsInfo.accessEditRowOtherSiteId.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRowOtherSiteId?null:t.fieldsInfo.accessEditRowOtherSiteId.fieldTitle," ")}}function pe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessEditRowOtherCreatedBy&&t.fieldsInfo.accessEditRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRowOtherCreatedBy?null:t.fieldsInfo.accessEditRowOtherCreatedBy.fieldTitle," ")}}function fe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",57),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessDeleteRowOtherCreatedBy&&t.fieldsInfo.accessDeleteRowOtherCreatedBy.accessAddField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessDeleteRowOtherCreatedBy?null:t.fieldsInfo.accessDeleteRowOtherCreatedBy.fieldTitle," ")}}function _e(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",28)(1,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",59),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormSubmit())}),e._UZ(6,"i",61),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&s){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let ge=(()=>{class s{constructor(t,o,n,l,f,w,q,k){(0,d.Z)(this,"data",void 0),(0,d.Z)(this,"dialogRef",void 0),(0,d.Z)(this,"coreEnumService",void 0),(0,d.Z)(this,"coreUserSupportAccessService",void 0),(0,d.Z)(this,"cmsToastrService",void 0),(0,d.Z)(this,"publicHelper",void 0),(0,d.Z)(this,"cdr",void 0),(0,d.Z)(this,"translate",void 0),(0,d.Z)(this,"formGroup",void 0),(0,d.Z)(this,"fieldsInfo",new Map),(0,d.Z)(this,"fileManagerTree",void 0),(0,d.Z)(this,"appLanguage","fa"),(0,d.Z)(this,"loading",new h.O),(0,d.Z)(this,"dataModelResult",new m.y$4),(0,d.Z)(this,"dataModel",new m.gwb),(0,d.Z)(this,"formInfo",new m.LEF),(0,d.Z)(this,"dataModelEnumRecordStatusResult",new m.y$4),(0,d.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new m.y$4),(0,d.Z)(this,"fileManagerOpenForm",!1),this.data=t,this.dialogRef=o,this.coreEnumService=n,this.coreUserSupportAccessService=l,this.cmsToastrService=f,this.publicHelper=w,this.cdr=q,this.translate=k,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),t&&(this.dataModel.linkSiteId=+t.linkSiteId||0,this.dataModel.linkUserId=+t.linkUserId||0,this.dataModel.moduleName=t.moduleName,this.dataModel.moduleEntityName=t.moduleEntityName)}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.ADD"),this.getEnumManageUserAccessUserTypes(),this.DataGetAccess(),this.getEnumRecordStatus()}getEnumRecordStatus(){var t=this;return(0,v.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceEnumManageUserAccessUserTypes().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}DataGetAccess(){const t=this.constructor.name+"DataGetAccess";this.loading.Start(t),this.coreUserSupportAccessService.ServiceViewModel().subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),console.log(this.fieldsInfo)):this.cmsToastrService.typeErrorGetAccess(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeErrorGetAccess(o),this.loading.Stop(t)}})}DataAddContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreUserSupportAccessService.ServiceAdd(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionSelectorModuleEntitySelect(t){this.dataModel.moduleName="",this.dataModel.moduleEntityName="",t&&t.id>0&&(this.dataModel.moduleName=t.moduleName,this.dataModel.moduleEntityName=t.moduleEntityName)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,d.Z)(s,"\u0275fac",function(t){return new(t||s)(e.Y36(U.WI),e.Y36(U.so),e.Y36(m.FLW),e.Y36(m.fuJ),e.Y36(y.e),e.Y36(L.i),e.Y36(e.sBO),e.Y36(x.sK))}),(0,d.Z)(s,"\u0275cmp",e.Xpm({type:s,selectors:[["app-core-user-support-access-add"]],viewQuery:function(t,o){if(1&t&&e.Gf(c,5),2&t){let n;e.iGM(n=e.CRH())&&(o.formGroup=n.first)}},decls:54,vars:39,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionLoading","optionSelectForce","optionPlaceholder","optionLoadingChange"],[3,"optionDisabled","optionLoading","optionPlaceholder","optionChange","optionLoadingChange"],["class","ntk-full-width mb-1",4,"ngIf"],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessExportFile",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],[1,"ntk-full-width","mb-1"],["matInput","","name","dataModel.moduleName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleName",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["align","start"],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.moduleEntityName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleEntityName",""],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessExportFile",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(l){return o.dataModel.recordStatus=l}),e.YNc(9,u,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,M,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"app-cms-site-selector",11),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(15,"app-cms-user-selector",11),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(16,"app-core-module-entity-selector",12),e.NdJ("optionChange",function(l){return o.onActionSelectorModuleEntitySelect(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.YNc(17,V,16,8,"mat-form-field",13),e.YNc(18,te,16,8,"mat-form-field",13),e._UZ(19,"hr"),e.TgZ(20,"div",5),e.YNc(21,oe,2,3,"mat-slide-toggle",14),e.qZA(),e.TgZ(22,"div",5),e.YNc(23,se,2,3,"mat-slide-toggle",15),e.qZA(),e.TgZ(24,"div",5),e.YNc(25,ne,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(26,"div",5),e.YNc(27,le,2,3,"mat-slide-toggle",17),e.qZA(),e.TgZ(28,"div",5),e.YNc(29,ie,2,3,"mat-slide-toggle",18),e.qZA(),e.TgZ(30,"div",5),e.YNc(31,ae,2,3,"mat-slide-toggle",19),e.qZA(),e.TgZ(32,"div",5),e.YNc(33,de,2,3,"mat-slide-toggle",20),e.qZA(),e.TgZ(34,"div",5),e.YNc(35,ce,2,3,"mat-slide-toggle",21),e.qZA(),e.TgZ(36,"div",5),e.YNc(37,re,2,3,"mat-slide-toggle",22),e.qZA(),e.TgZ(38,"div",5),e.YNc(39,ue,2,3,"mat-slide-toggle",23),e.qZA(),e.TgZ(40,"div",5),e.YNc(41,me,2,3,"mat-slide-toggle",24),e.qZA(),e.TgZ(42,"div",5),e.YNc(43,pe,2,3,"mat-slide-toggle",25),e.qZA(),e.TgZ(44,"div",5),e.YNc(45,fe,2,3,"mat-slide-toggle",26),e.qZA()(),e.TgZ(46,"div",27)(47,"div",28)(48,"small",29),e._uU(49),e.qZA(),e.TgZ(50,"small",30),e._uU(51),e.qZA()()(),e.TgZ(52,"div",31),e.YNc(53,_e,9,7,"div",32),e.qZA()()),2&t){const n=e.MAs(8);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("panelClass","recordStatus-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,37,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessAddField))("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessAddField))("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessAddField))("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.MODULE")),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.moduleName?null:o.fieldsInfo.moduleName.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.moduleEntityName?null:o.fieldsInfo.moduleEntityName.accessWatchField),e.xp6(3),e.Q6J("ngIf",null==o.fieldsInfo.accessDeleteRow?null:o.fieldsInfo.accessDeleteRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRow?null:o.fieldsInfo.accessWatchRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRow?null:o.fieldsInfo.accessCountRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRow?null:o.fieldsInfo.accessEditRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessAddRow?null:o.fieldsInfo.accessAddRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessExportFile?null:o.fieldsInfo.accessExportFile.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRowOtherSiteId?null:o.fieldsInfo.accessWatchRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRowOtherCreatedBy?null:o.fieldsInfo.accessWatchRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRowOtherSiteId?null:o.fieldsInfo.accessCountRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRowOtherCreatedBy?null:o.fieldsInfo.accessCountRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRowOtherSiteId?null:o.fieldsInfo.accessEditRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRowOtherCreatedBy?null:o.fieldsInfo.accessEditRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessDeleteRowOtherCreatedBy?null:o.fieldsInfo.accessDeleteRowOtherCreatedBy.accessWatchField),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display)}},dependencies:[_.sg,_.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.wO,a.nD,a.On,a.F,B.ey,E.KE,E.hX,E.bx,E.TO,E.R9,D.Hw,J.Nt,Q.gD,F.Rr,W.P,G.g,C.O,Z.l,x.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),s})();const he=["vform"];function Ce(s,i){if(1&s&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function Se(s,i){1&s&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Me(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.dataModel.moduleName="")}),e._uU(1,"close"),e.qZA()}}function Ae(s,i){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Ie(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-form-field",34)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",35,36),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleName=n)}),e.qZA(),e.YNc(5,Me,2,0,"mat-icon",37),e.TgZ(6,"mat-icon",38),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",39)(9,"mat-icon",40),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",41),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,Ae,5,4,"mat-error",10),e.qZA()}if(2&s){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.moduleName?null:o.fieldsInfo.moduleName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessEditField)),e.s9C("placeholder",null==o.fieldsInfo.moduleName?null:o.fieldsInfo.moduleName.fieldTitle),e.Q6J("ngModel",o.dataModel.moduleName),e.xp6(2),e.Q6J("ngIf",o.dataModel.moduleName),e.xp6(7),e.Oqu(null==o.fieldsInfo.moduleName?null:o.fieldsInfo.moduleName.fieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Te(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.dataModel.moduleEntityName="")}),e._uU(1,"close"),e.qZA()}}function Ee(s,i){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Ze(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-form-field",34)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",43,44),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.moduleEntityName=n)}),e.qZA(),e.YNc(5,Te,2,0,"mat-icon",37),e.TgZ(6,"mat-icon",38),e._uU(7,"mode_edit"),e.qZA(),e.TgZ(8,"mat-hint",39)(9,"mat-icon",40),e._uU(10,"info"),e.qZA(),e.TgZ(11,"strong",41),e._uU(12),e.qZA()(),e.TgZ(13,"mat-hint",9),e._uU(14),e.qZA(),e.YNc(15,Ee,5,4,"mat-error",10),e.qZA()}if(2&s){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.moduleEntityName?null:o.fieldsInfo.moduleEntityName.fieldTitle),e.xp6(1),e.s9C("disabled",!(null!=o.fieldsInfo.moduleEntityName&&o.fieldsInfo.moduleEntityName.accessEditField)),e.s9C("placeholder",null==o.fieldsInfo.moduleEntityName?null:o.fieldsInfo.moduleEntityName.fieldTitle),e.Q6J("ngModel",o.dataModel.moduleEntityName),e.xp6(2),e.Q6J("ngIf",o.dataModel.moduleEntityName),e.xp6(7),e.Oqu(null==o.fieldsInfo.moduleEntityName?null:o.fieldsInfo.moduleEntityName.fieldDescription),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function we(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRow)("disabled",!(null!=t.fieldsInfo.accessDeleteRow&&t.fieldsInfo.accessDeleteRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessDeleteRow?null:t.fieldsInfo.accessDeleteRow.fieldTitle," ")}}function Re(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRow)("disabled",!(null!=t.fieldsInfo.accessWatchRow&&t.fieldsInfo.accessWatchRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRow?null:t.fieldsInfo.accessWatchRow.fieldTitle," ")}}function Ue(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRow)("disabled",!(null!=t.fieldsInfo.accessCountRow&&t.fieldsInfo.accessCountRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRow?null:t.fieldsInfo.accessCountRow.fieldTitle," ")}}function xe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRow)("disabled",!(null!=t.fieldsInfo.accessEditRow&&t.fieldsInfo.accessEditRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRow?null:t.fieldsInfo.accessEditRow.fieldTitle," ")}}function be(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessAddRow=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessAddRow)("disabled",!(null!=t.fieldsInfo.accessAddRow&&t.fieldsInfo.accessAddRow.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessAddRow?null:t.fieldsInfo.accessAddRow.fieldTitle," ")}}function ye(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessExportFile=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessExportFile)("disabled",!(null!=t.fieldsInfo.accessExportFile&&t.fieldsInfo.accessExportFile.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessExportFile?null:t.fieldsInfo.accessExportFile.fieldTitle," ")}}function Ne(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherSiteId=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessWatchRowOtherSiteId&&t.fieldsInfo.accessWatchRowOtherSiteId.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRowOtherSiteId?null:t.fieldsInfo.accessWatchRowOtherSiteId.fieldTitle," ")}}function ve(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",52),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessWatchRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessWatchRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessWatchRowOtherCreatedBy&&t.fieldsInfo.accessWatchRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRowOtherCreatedBy?null:t.fieldsInfo.accessWatchRowOtherCreatedBy.fieldTitle," ")}}function Oe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",53),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherSiteId=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessCountRowOtherSiteId&&t.fieldsInfo.accessCountRowOtherSiteId.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRowOtherSiteId?null:t.fieldsInfo.accessCountRowOtherSiteId.fieldTitle," ")}}function Le(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessCountRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessCountRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessCountRowOtherCreatedBy&&t.fieldsInfo.accessCountRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessCountRowOtherCreatedBy?null:t.fieldsInfo.accessCountRowOtherCreatedBy.fieldTitle," ")}}function De(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",55),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherSiteId=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherSiteId)("disabled",!(null!=t.fieldsInfo.accessEditRowOtherSiteId&&t.fieldsInfo.accessEditRowOtherSiteId.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRowOtherSiteId?null:t.fieldsInfo.accessEditRowOtherSiteId.fieldTitle," ")}}function Je(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessEditRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessEditRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessEditRowOtherCreatedBy&&t.fieldsInfo.accessEditRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessEditRowOtherCreatedBy?null:t.fieldsInfo.accessEditRowOtherCreatedBy.fieldTitle," ")}}function Fe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",57),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.accessDeleteRowOtherCreatedBy=n)}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngModel",t.dataModel.accessDeleteRowOtherCreatedBy)("disabled",!(null!=t.fieldsInfo.accessDeleteRowOtherCreatedBy&&t.fieldsInfo.accessDeleteRowOtherCreatedBy.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessDeleteRowOtherCreatedBy?null:t.fieldsInfo.accessDeleteRowOtherCreatedBy.fieldTitle," ")}}function qe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",28)(1,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",59),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormSubmit())}),e._UZ(6,"i",61),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&s){e.oxw();const t=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let ke=(()=>{class s{constructor(t,o,n,l,f,w,q,k){(0,d.Z)(this,"data",void 0),(0,d.Z)(this,"dialogRef",void 0),(0,d.Z)(this,"coreEnumService",void 0),(0,d.Z)(this,"coreUserSupportAccessService",void 0),(0,d.Z)(this,"cmsToastrService",void 0),(0,d.Z)(this,"publicHelper",void 0),(0,d.Z)(this,"cdr",void 0),(0,d.Z)(this,"translate",void 0),(0,d.Z)(this,"requestLinkSiteId",0),(0,d.Z)(this,"requestLinkUserId",0),(0,d.Z)(this,"requestModuleName",""),(0,d.Z)(this,"requestModuleEntityName",""),(0,d.Z)(this,"formGroup",void 0),(0,d.Z)(this,"fieldsInfo",new Map),(0,d.Z)(this,"fileManagerTree",void 0),(0,d.Z)(this,"appLanguage","fa"),(0,d.Z)(this,"loading",new h.O),(0,d.Z)(this,"dataModelResult",new m.y$4),(0,d.Z)(this,"dataModel",new m.gwb),(0,d.Z)(this,"formInfo",new m.LEF),(0,d.Z)(this,"dataModelEnumRecordStatusResult",new m.y$4),(0,d.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new m.y$4),(0,d.Z)(this,"fileManagerOpenForm",!1),this.data=t,this.dialogRef=o,this.coreEnumService=n,this.coreUserSupportAccessService=l,this.cmsToastrService=f,this.publicHelper=w,this.cdr=q,this.translate=k,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestLinkSiteId=+t.linkSiteId||0,this.requestLinkUserId=+t.linkUserId||0,this.requestModuleName=t.moduleName,this.requestModuleEntityName=t.moduleEntityName),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(!(this.requestLinkSiteId>0&&this.requestLinkUserId>0&&this.requestModuleName&&this.requestModuleName.length>0&&this.requestModuleEntityName&&this.requestModuleEntityName.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.getEnumManageUserAccessUserTypes(),this.getEnumRecordStatus()}getEnumRecordStatus(){var t=this;return(0,v.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceEnumManageUserAccessUserTypes().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}DataGetOneContent(){if(this.requestLinkSiteId<=0||this.requestLinkUserId<=0||!this.requestModuleName||0==this.requestModuleName.length||!this.requestModuleEntityName||this.requestModuleEntityName.length<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t);const o=new m.Hay;let n=new m.AO3;n.propertyName="LinkSiteId",n.value=this.requestLinkSiteId,o.filters.push(n),n=new m.AO3,n.propertyName="LinkUserId",n.value=this.requestLinkUserId,o.filters.push(n),n=new m.AO3,n.propertyName="ModuleName",n.value=this.requestModuleName,o.filters.push(n),n=new m.AO3,n.propertyName="ModuleEntityName",n.value=this.requestModuleEntityName,o.filters.push(n),this.coreUserSupportAccessService.setAccessLoad(),this.coreUserSupportAccessService.setAccessDataType(m.MZK.Editor),this.coreUserSupportAccessService.ServiceGetAll(o).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?l.listItems&&l.listItems.length>0?(this.dataModel=l.listItems[0],this.formInfo.formAlert=""):this.cmsToastrService.typeError(this.translate.instant("MESSAGE.Module_not_found_for_editing")):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=l.errorMessage,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.sending_information_to_the_server")),this.coreUserSupportAccessService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionSelectorModuleEntitySelect(t){this.dataModel.moduleName="",this.dataModel.moduleEntityName="",t&&t.id>0&&(this.dataModel.moduleName=t.moduleName,this.dataModel.moduleEntityName=t.moduleEntityName)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return(0,d.Z)(s,"\u0275fac",function(t){return new(t||s)(e.Y36(U.WI),e.Y36(U.so),e.Y36(m.FLW),e.Y36(m.fuJ),e.Y36(y.e),e.Y36(L.i),e.Y36(e.sBO),e.Y36(x.sK))}),(0,d.Z)(s,"\u0275cmp",e.Xpm({type:s,selectors:[["app-core-user-support-access-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(he,5),2&t){let n;e.iGM(n=e.CRH())&&(o.formGroup=n.first)}},decls:53,vars:39,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionLoading","optionSelectForce","optionPlaceholder","optionLoadingChange"],[3,"optionDisabled","optionLoading","optionPlaceholder","optionChange","optionLoadingChange"],["class","ntk-full-width mb-1",4,"ngIf"],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessExportFile",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],[1,"ntk-full-width","mb-1"],["matInput","","name","dataModel.moduleName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleName",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["align","start"],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.moduleEntityName","type","text","minlength","3","maxlength","100","required","",3,"ngModel","disabled","placeholder","ngModelChange"],["ModuleEntityName",""],["name","dataModel.accessDeleteRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessAddRow",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessExportFile",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessWatchRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessCountRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherSiteId",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessEditRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["name","dataModel.accessDeleteRowOtherCreatedBy",3,"ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(l){return o.dataModel.recordStatus=l}),e.YNc(9,Ce,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Se,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"app-cms-site-selector",11),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(15,"app-cms-user-selector",11),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(16,"app-core-module-entity-selector",12),e.NdJ("optionChange",function(l){return o.onActionSelectorModuleEntitySelect(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.YNc(17,Ie,16,8,"mat-form-field",13),e.YNc(18,Ze,16,8,"mat-form-field",13),e.TgZ(19,"div",5),e.YNc(20,we,2,3,"mat-slide-toggle",14),e.qZA(),e.TgZ(21,"div",5),e.YNc(22,Re,2,3,"mat-slide-toggle",15),e.qZA(),e.TgZ(23,"div",5),e.YNc(24,Ue,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(25,"div",5),e.YNc(26,xe,2,3,"mat-slide-toggle",17),e.qZA(),e.TgZ(27,"div",5),e.YNc(28,be,2,3,"mat-slide-toggle",18),e.qZA(),e.TgZ(29,"div",5),e.YNc(30,ye,2,3,"mat-slide-toggle",19),e.qZA(),e.TgZ(31,"div",5),e.YNc(32,Ne,2,3,"mat-slide-toggle",20),e.qZA(),e.TgZ(33,"div",5),e.YNc(34,ve,2,3,"mat-slide-toggle",21),e.qZA(),e.TgZ(35,"div",5),e.YNc(36,Oe,2,3,"mat-slide-toggle",22),e.qZA(),e.TgZ(37,"div",5),e.YNc(38,Le,2,3,"mat-slide-toggle",23),e.qZA(),e.TgZ(39,"div",5),e.YNc(40,De,2,3,"mat-slide-toggle",24),e.qZA(),e.TgZ(41,"div",5),e.YNc(42,Je,2,3,"mat-slide-toggle",25),e.qZA(),e.TgZ(43,"div",5),e.YNc(44,Fe,2,3,"mat-slide-toggle",26),e.qZA()(),e.TgZ(45,"div",27)(46,"div",28)(47,"small",29),e._uU(48),e.qZA(),e.TgZ(49,"small",30),e._uU(50),e.qZA()()(),e.TgZ(51,"div",31),e.YNc(52,qe,9,7,"div",32),e.qZA()()),2&t){const n=e.MAs(8);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("panelClass","recordStatus-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,37,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessEditField))("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessEditField))("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!(null!=o.fieldsInfo.moduleName&&o.fieldsInfo.moduleName.accessEditField))("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.MODULE")),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.moduleName?null:o.fieldsInfo.moduleName.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==o.fieldsInfo.moduleEntityName?null:o.fieldsInfo.moduleEntityName.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessDeleteRow?null:o.fieldsInfo.accessDeleteRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRow?null:o.fieldsInfo.accessWatchRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRow?null:o.fieldsInfo.accessCountRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRow?null:o.fieldsInfo.accessEditRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessAddRow?null:o.fieldsInfo.accessAddRow.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessExportFile?null:o.fieldsInfo.accessExportFile.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRowOtherSiteId?null:o.fieldsInfo.accessWatchRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessWatchRowOtherCreatedBy?null:o.fieldsInfo.accessWatchRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRowOtherSiteId?null:o.fieldsInfo.accessCountRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessCountRowOtherCreatedBy?null:o.fieldsInfo.accessCountRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRowOtherSiteId?null:o.fieldsInfo.accessEditRowOtherSiteId.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessEditRowOtherCreatedBy?null:o.fieldsInfo.accessEditRowOtherCreatedBy.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.accessDeleteRowOtherCreatedBy?null:o.fieldsInfo.accessDeleteRowOtherCreatedBy.accessWatchField),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!o.loading.display)}},dependencies:[_.sg,_.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.wO,a.nD,a.On,a.F,B.ey,E.KE,E.hX,E.bx,E.TO,E.R9,D.Hw,J.Nt,Q.gD,F.Rr,W.P,G.g,C.O,Z.l,x.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),s})();var j=r(83914),Be=r(50727),Qe=r(9638),K=r(83319),We=r(53538),$=r(56558),Ge=r(43014),Ye=r(10626),Pe=r(37980),Ke=r(13673),He=r(93817),je=r(39084),$e=r(86639),ze=r(25897),Ve=r(91101);function Xe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonNewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function et(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function tt(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function ot(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&s&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function st(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const nt=function(s){return{display:s}};function lt(s,i){if(1&s&&(e.TgZ(0,"mat-cell",43),e.ALo(1,"statusCellClass"),e._UZ(2,"i",43),e.ALo(3,"statusIconClass"),e._UZ(4,"select",44),e.qZA()),2&s){const t=i.$implicit,o=e.oxw();e.Q6J("ngClass",e.lcZ(1,5,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,7,t.recordStatus)),e.xp6(2),e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(9,nt,t.linkSiteId===o.tableRowSelected.linkSiteId&&t.linkUserId===o.tableRowSelected.linkUserId?"":"none"))}}function it(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function at(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function dt(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function ct(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function rt(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function ut(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.hij(" ",t.moduleName," ")}}function mt(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function pt(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.hij(" ",t.moduleEntityName," ")}}function ft(s,i){1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.Access_Add_Row")," "))}function _t(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessAddRow))}}function gt(s,i){if(1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.accessWatchRow?null:t.fieldsInfo.accessWatchRow.fieldTitle," ")}}function ht(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessWatchRow))}}function Ct(s,i){1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.Access_Edit_Row")," "))}function St(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessEditRow))}}function Mt(s,i){1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.Access_Delete_Row")," "))}function At(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessDeleteRow))}}function It(s,i){1&s&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.Access_Count_Row")," "))}function Tt(s,i){if(1&s&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",43),e.ALo(2,"boolclass"),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.accessCountRow))}}function Et(s,i){1&s&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Zt(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(n))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&s&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function wt(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(n))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&s&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Rt(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-cell",45)(1,"button",46)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,47),e.YNc(6,Zt,6,3,"button",48),e.YNc(7,wt,6,3,"button",48),e.TgZ(8,"button",49),e.NdJ("click",function(){const l=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.onActionbuttonUserList(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"person"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&s){const t=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,4,"ACTION.USERS"))}}function Ut(s,i){1&s&&e._UZ(0,"mat-header-row")}const xt=function(s){return{background:s}};function bt(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"mat-row",50),e.NdJ("click",function(){const l=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.onActionTableRowSelect(l))}),e.qZA()}if(2&s){const t=i.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,xt,t.linkSiteId===o.tableRowSelected.linkSiteId&&t.linkUserId===o.tableRowSelected.linkUserId?"#d3d3da":""))}}const yt=function(){return[5,10,20,100]};let z=(()=>{class s{constructor(t,o,n,l,f,w,q,k,Lt,Dt){if((0,d.Z)(this,"contentService",void 0),(0,d.Z)(this,"publicHelper",void 0),(0,d.Z)(this,"cmsToastrService",void 0),(0,d.Z)(this,"cmsConfirmationDialogService",void 0),(0,d.Z)(this,"router",void 0),(0,d.Z)(this,"tokenHelper",void 0),(0,d.Z)(this,"activatedRoute",void 0),(0,d.Z)(this,"cdr",void 0),(0,d.Z)(this,"translate",void 0),(0,d.Z)(this,"dialog",void 0),(0,d.Z)(this,"requestLinkSiteId",0),(0,d.Z)(this,"requestLinkUserId",0),(0,d.Z)(this,"requestModuleName",""),(0,d.Z)(this,"requestModuleEntityName",""),(0,d.Z)(this,"comment",void 0),(0,d.Z)(this,"author",void 0),(0,d.Z)(this,"dataSource",void 0),(0,d.Z)(this,"flag",!1),(0,d.Z)(this,"tableContentSelected",[]),(0,d.Z)(this,"filteModelContent",new m.Hay),(0,d.Z)(this,"dataModelResult",new m.y$4),(0,d.Z)(this,"optionsSearch",new I.dj),(0,d.Z)(this,"optionsStatist",new S.TV),(0,d.Z)(this,"tokenInfo",new m.OdC),(0,d.Z)(this,"loading",new h.O),(0,d.Z)(this,"tableRowsSelected",[]),(0,d.Z)(this,"tableRowSelected",new m.gwb),(0,d.Z)(this,"tableSource",new A.by),(0,d.Z)(this,"fieldsInfo",new Map),(0,d.Z)(this,"tabledisplayedColumns",[]),(0,d.Z)(this,"tabledisplayedColumnsSource",["RecordStatus","LinkUserId","LinkSiteId","ModuleName","ModuleEntityName","AccessAddRow","AccessWatchRow","AccessEditRow","AccessDeleteRow","AccessCountRow","Action"]),(0,d.Z)(this,"expandedElement",void 0),(0,d.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=n,this.cmsConfirmationDialogService=l,this.router=f,this.tokenHelper=w,this.activatedRoute=q,this.cdr=k,this.translate=Lt,this.dialog=Dt,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestModuleName=this.activatedRoute.snapshot.paramMap.get("ModuleName"),this.requestModuleEntityName=this.activatedRoute.snapshot.paramMap.get("ModuleEntityName"),this.optionsSearch.parentMethods={onSubmit:R=>this.onSubmitOptionsSearch(R)},this.filteModelContent.sortColumn="LinkSiteId",this.filteModelContent.sortType=m.oCf.Descending,this.requestLinkSiteId>0){const R=new m.AO3;R.propertyName="LinkSiteId",R.value=this.requestLinkSiteId,this.filteModelContent.filters.push(R)}if(this.requestLinkUserId>0){const R=new m.AO3;R.propertyName="LinkUserId",R.value=this.requestLinkUserId,this.filteModelContent.filters.push(R)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.tableRowSelected=new m.gwb;const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=m.oCf.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=m.oCf.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=m.oCf.Ascending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(ge,{height:"90%",data:{linkSiteId:this.requestLinkSiteId,linkUserId:this.requestLinkUserId,moduleName:this.requestModuleName,moduleEntityName:this.requestModuleEntityName}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.linkSiteId&&0!==t.linkSiteId&&t.linkUserId&&0!==t.linkUserId?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ke,{height:"90%",data:{linkSiteId:this.tableRowSelected.linkSiteId,linkUserId:this.tableRowSelected.linkUserId,moduleName:this.tableRowSelected.moduleName,moduleEntityName:this.tableRowSelected.moduleEntityName}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.linkSiteId||0===t.linkSiteId||!t.linkUserId||0===t.linkUserId){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.tableRowSelected=t,null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),n=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.linkSiteId+" ) ";this.cmsConfirmationDialogService.confirm(o,n).then(l=>{if(l){const f=this.constructor.name+"main";this.loading.Start(f),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:w=>{w.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(f)},error:w=>{this.cmsToastrService.typeError(w),this.loading.Stop(f)}})}}).catch(()=>{})}onActionbuttonUserList(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)this.tableRowSelected=t,this.router.navigate(["/core/site/userlist/LinkUserSupportAccessId/",this.tableRowSelected.id]);else{const o=this.translate.instant("MESSAGE.no_row_selected_to_display");this.cmsToastrService.typeErrorSelected(o)}}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:f=>{f.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),f.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(f.errorMessage),this.loading.Stop(o)},error:f=>{this.cmsToastrService.typeError(f),this.loading.Stop(o)}});const n=JSON.parse(JSON.stringify(this.filteModelContent)),l=new m.AO3;l.propertyName="RecordStatus",l.value=m.FVU.Available,n.filters.push(l),this.contentService.ServiceGetCount(n).subscribe({next:f=>{f.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),f.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(f.errorMessage),this.loading.Stop(o)},error:f=>{this.cmsToastrService.typeError(f),this.loading.Stop(o)}})}onActionbuttonExport(){this.dialog.open(P.Z,{height:"50%",width:"50%",data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Y.r,{height:"50%",width:"50%",data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(n=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t}}return(0,d.Z)(s,"\u0275fac",function(t){return new(t||s)(e.Y36(m.fuJ),e.Y36(L.i),e.Y36(y.e),e.Y36(j.s),e.Y36(T.F0),e.Y36(Be.v),e.Y36(T.gz),e.Y36(e.sBO),e.Y36(x.sK),e.Y36(U.uw))}),(0,d.Z)(s,"\u0275cmp",e.Xpm({type:s,selectors:[["app-core-user-support-access-list"]],decls:69,vars:29,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-primary","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","RecordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],[4,"matCellDef"],["matColumnDef","LinkUserId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","AccessAddRow"],["matColumnDef","AccessWatchRow"],["matColumnDef","AccessEditRow"],["matColumnDef","AccessDeleteRow"],["matColumnDef","AccessCountRow"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-primary",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,Xe,3,3,"button",4),e.YNc(6,et,3,3,"button",5),e.YNc(7,tt,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(f){return o.optionsSearch.data.show=f}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,ot,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.BQk(),e.ynx(25,13),e.TgZ(26,"app-cms-search-list",14),e.NdJ("optionsChange",function(f){return o.optionsSearch=f}),e.qZA(),e.TgZ(27,"app-cms-statist-list",14),e.NdJ("optionsChange",function(f){return o.optionsStatist=f}),e.qZA(),e.BQk(),e.ynx(28,15),e.TgZ(29,"mat-table",16,17),e.NdJ("matSortChange",function(){e.CHM(n);const f=e.MAs(30);return e.KtG(o.onTableSortData(f))}),e.ynx(31,18),e.YNc(32,st,2,1,"mat-header-cell",19),e.YNc(33,lt,5,11,"mat-cell",20),e.BQk(),e.ynx(34,21),e.YNc(35,it,2,1,"mat-header-cell",19),e.YNc(36,at,4,5,"mat-cell",22),e.BQk(),e.ynx(37,23),e.YNc(38,dt,2,1,"mat-header-cell",19),e.YNc(39,ct,4,5,"mat-cell",22),e.BQk(),e.ynx(40,24),e.YNc(41,rt,2,1,"mat-header-cell",19),e.YNc(42,ut,2,1,"mat-cell",22),e.BQk(),e.ynx(43,25),e.YNc(44,mt,2,1,"mat-header-cell",19),e.YNc(45,pt,2,1,"mat-cell",22),e.BQk(),e.ynx(46,26),e.YNc(47,ft,3,3,"mat-header-cell",19),e.YNc(48,_t,3,3,"mat-cell",22),e.BQk(),e.ynx(49,27),e.YNc(50,gt,2,1,"mat-header-cell",19),e.YNc(51,ht,3,3,"mat-cell",22),e.BQk(),e.ynx(52,28),e.YNc(53,Ct,3,3,"mat-header-cell",19),e.YNc(54,St,3,3,"mat-cell",22),e.BQk(),e.ynx(55,29),e.YNc(56,Mt,3,3,"mat-header-cell",19),e.YNc(57,At,3,3,"mat-cell",22),e.BQk(),e.ynx(58,30),e.YNc(59,It,3,3,"mat-header-cell",19),e.YNc(60,Tt,3,3,"mat-cell",22),e.BQk(),e.ynx(61,31),e.YNc(62,Et,3,3,"mat-header-cell",32),e.YNc(63,Rt,14,6,"mat-cell",33),e.BQk(),e.YNc(64,Ut,1,0,"mat-header-row",34),e.YNc(65,bt,1,3,"mat-row",35),e.qZA(),e.BQk(),e.ynx(66,36),e.TgZ(67,"mat-paginator",37,38),e.NdJ("page",function(f){return o.onTablePageingData(f)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&o.tableRowSelected.linkSiteId>0&&o.tableRowSelected.linkUserId>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&o.tableRowSelected.linkSiteId>0&&o.tableRowSelected.linkUserId>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,20,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,22,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,24,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,26,"ACTION.RELOAD")),e.xp6(4),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(35),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(28,yt)))},dependencies:[_.mk,_.O5,_.PC,a.JJ,a.On,Qe.RK,D.Hw,J.Nt,K.VK,K.OP,K.p6,We.NW,F.Rr,$.YE,$.nU,A.BZ,A.fO,A.as,A.w1,A.Dz,A.nj,A.ge,A.ev,A.XQ,A.Gk,Ge.y,Ye.q,Pe.Z,Ke.G,_.Ov,x.X$,He.J,je.Y,$e.G,ze.Y,Ve.r],encapsulation:2})),s})();const Nt=[{path:"",children:[{path:"",component:z},{path:"list/LinkSiteId/:LinkSiteId/LinkUserId/:LinkUserId",component:z}]}];let vt=(()=>{class s{}return(0,d.Z)(s,"\u0275fac",function(t){return new(t||s)}),(0,d.Z)(s,"\u0275mod",e.oAB({type:s})),(0,d.Z)(s,"\u0275inj",e.cJS({imports:[T.Bz.forChild(Nt),T.Bz]})),s})(),Ot=(()=>{class s{}return(0,d.Z)(s,"\u0275fac",function(t){return new(t||s)}),(0,d.Z)(s,"\u0275mod",e.oAB({type:s})),(0,d.Z)(s,"\u0275inj",e.cJS({providers:[m.fuJ,j.s,m.EAm],imports:[_.ez,a.u5,vt,a.UX.withConfig({warnOnNgModelWithFormControl:"never"}),g.m.forRoot(),O.CoreModuleEntityModule]})),s})()},39084:(H,N,r)=>{r.d(N,{Y:()=>O});var d=r(86889),_=r(87241),a=r(27969),m=r(64537),g=r(34511);let O=(()=>{class T{constructor(I){(0,d.Z)(this,"service",void 0),this.service=I}transform(I){return!I||I<=0?new _.y:this.service.ServiceGetOneById(I).pipe((0,a.U)(S=>{var h="";return S.isSuccess&&(S.item.title&&S.item.title.length>0&&(h=S.item.title),S.item.id&&S.item.id>0&&(h.length>0&&(h+=" | "),h+=S.item.id),S.item.domain&&S.item.domain.length>0&&S.item.subDomain&&S.item.subDomain.length>0?(h.length>0&&(h+=" | "),h=h+S.item.subDomain+"."+S.item.domain):S.item.domain&&S.item.domain.length>0&&(h.length>0&&(h+=" | "),h+=S.item.domain)),0===h.length&&(h=I.toString()),h},S=>I.toString()))}}return(0,d.Z)(T,"\u0275fac",function(I){return new(I||T)(m.Y36(g._0e,16))}),(0,d.Z)(T,"\u0275pipe",m.Yjl({name:"cmssiteinfo",type:T,pure:!0})),T})()},63181:(H,N,r)=>{r.d(N,{g:()=>G});var d=r(8239),_=r(86889),a=r(64537),m=r(20092),g=r(34511),O=r(57445),T=r(51927),A=r(83151),I=r(42147),S=r(61528),h=r(27969),Y=r(60656),P=r(56707),v=r(88692),U=r(61637),e=r(1379),y=r(88659),L=r(83331),x=r(39665),B=r(75738),E=r(81418);function D(C,Z){if(1&C&&(a._UZ(0,"img",9),a.ALo(1,"cmsthumbnail")),2&C){const c=a.oxw();a.s9C("src",a.lcZ(1,1,c.dataModelSelect.linkMainImageIdSrc),a.LSH)}}function J(C,Z){if(1&C&&(a._UZ(0,"img",9),a.ALo(1,"cmsthumbnail")),2&C){const c=a.oxw().$implicit;a.s9C("src",a.lcZ(1,1,c.linkMainImageIdSrc),a.LSH)}}function Q(C,Z){if(1&C&&(a.TgZ(0,"mat-option",10),a.YNc(1,J,2,3,"img",11),a.TgZ(2,"span"),a._uU(3),a.qZA()()),2&C){const c=Z.$implicit,u=a.oxw();a.Q6J("value",c)("disabled",u.optionDisabled),a.xp6(1),a.Q6J("ngIf",c.linkMainImageIdSrc),a.xp6(2),a.Oqu(u.displayOption(c))}}function F(C,Z){if(1&C){const c=a.EpF();a.TgZ(0,"mat-icon",12),a.NdJ("click",function(){a.CHM(c);const M=a.oxw();return a.KtG(M.onActionSelectClear())}),a._uU(1,"close"),a.qZA()}}const W=["*"];let G=(()=>{class C{constructor(c,u,M,b){(0,_.Z)(this,"coreEnumService",void 0),(0,_.Z)(this,"cdr",void 0),(0,_.Z)(this,"translate",void 0),(0,_.Z)(this,"categoryService",void 0),(0,_.Z)(this,"id",++C.nextId),(0,_.Z)(this,"dataModelResult",new g.y$4),(0,_.Z)(this,"dataModelSelect",new g.NCo),(0,_.Z)(this,"loading",new Y.O),(0,_.Z)(this,"formControl",new m.NI),(0,_.Z)(this,"filteredOptions",void 0),(0,_.Z)(this,"optionDisabled",!1),(0,_.Z)(this,"optionSelectFirstItem",!1),(0,_.Z)(this,"optionPlaceholder",""),(0,_.Z)(this,"optionChange",new a.vpe),(0,_.Z)(this,"optionReload",()=>this.onActionReload()),this.coreEnumService=c,this.cdr=u,this.translate=M,this.categoryService=b,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}get optionLoading(){return this.loading}set optionLoading(c){this.loading=c}set optionSelectForce(c){this.onActionSelectForce(c)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,T.O)(""),(0,A.b)(1500),(0,I.x)(),(0,S.w)(c=>this.DataGetAll("string"==typeof c||"number"==typeof c?c:"")))}displayFn(c){let u="";return c&&(c.username&&c.username.length>0&&(u=u+" "+c.username),c.name&&c.name.length>0&&(u=u+" "+c.name),c.lastName&&c.lastName.length>0&&(u=u+" "+c.lastName),u=u+"#:"+c.id),u}displayOption(c){let u="";return c&&(c.username&&c.username.length>0&&(u=u+" "+c.username),c.name&&c.name.length>0&&(u=u+" "+c.name),c.lastName&&c.lastName.length>0&&(u=u+" "+c.lastName),u=u+"#:"+c.id),u}DataGetAll(c){var u=this;return(0,d.Z)(function*(){const M=new g.Hay;if(M.rowPerPage=20,M.accessLoad=!0,c&&c.length>0){let p=new g.AO3;p=new g.AO3,p.propertyName="username",p.value=c,p.searchType=g.b3P.Contains,p.clauseType=g.KT6.Or,M.filters.push(p),p=new g.AO3,p.propertyName="name",p.value=c,p.searchType=g.b3P.Contains,p.clauseType=g.KT6.Or,M.filters.push(p),p=new g.AO3,p.propertyName="email",p.value=c,p.searchType=g.b3P.Contains,p.clauseType=g.KT6.Or,M.filters.push(p),p=new g.AO3,p.propertyName="lastname",p.value=c,p.searchType=g.b3P.Contains,p.clauseType=g.KT6.Or,M.filters.push(p),c&&"number"==typeof+c&&+c>0&&(p=new g.AO3,p.propertyName="Id",p.value=c,p.searchType=g.b3P.Equal,p.clauseType=g.KT6.Or,M.filters.push(p))}const b=u.constructor.name+"main";return u.loading.Start(b),yield(0,O.z)(u.categoryService.ServiceGetAll(M)).then(p=>(u.dataModelResult=p,u.optionSelectFirstItem&&(!u.dataModelSelect||!u.dataModelSelect.id||u.dataModelSelect.id<=0)&&u.dataModelResult.listItems.length>0&&(u.optionSelectFirstItem=!1,setTimeout(()=>{u.formControl.setValue(u.dataModelResult.listItems[0])},1e3),u.onActionSelect(u.dataModelResult.listItems[0])),u.loading.Stop(b),p.listItems))})()}onActionSelect(c){this.optionDisabled||(this.dataModelSelect=c,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.formControl.setValue(null),this.optionChange.emit(null))}push(c){return this.filteredOptions.pipe((0,h.U)(u=>(u.find(M=>M.id===c.id)||u.push(c),u)))}onActionSelectForce(c){if("number"==typeof c&&c>0){if(this.dataModelSelect&&this.dataModelSelect.id===c)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(u=>u.id===c)){const u=this.dataModelResult.listItems.find(M=>M.id===c);return this.dataModelSelect=u,void this.formControl.setValue(u)}this.categoryService.ServiceGetOneById(c).subscribe(u=>{u.isSuccess&&(this.filteredOptions=this.push(u.item),this.dataModelSelect=u.item,this.formControl.setValue(u.item),this.optionChange.emit(u.item))})}else{if(typeof c==typeof g.NCo)return this.filteredOptions=this.push(c),this.dataModelSelect=c,void this.formControl.setValue(c);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new g.NCo,this.loadOptions()}}return(0,_.Z)(C,"nextId",0),(0,_.Z)(C,"\u0275fac",function(c){return new(c||C)(a.Y36(g.FLW),a.Y36(a.sBO),a.Y36(P.sK),a.Y36(g.k$Z))}),(0,_.Z)(C,"\u0275cmp",a.Xpm({type:C,selectors:[["app-cms-user-selector"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:W,decls:12,vars:11,consts:[[1,"ntk-full-width"],[3,"options"],["matPrefix",""],["class","ntk-hover-zoom","style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto35","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(c,u){if(1&c&&(a.F$t(),a.TgZ(0,"mat-form-field",0),a._UZ(1,"app-progress-spinner",1),a.TgZ(2,"span",2),a.YNc(3,D,2,3,"img",3),a._uU(4," \xa0"),a.qZA(),a._UZ(5,"input",4),a.TgZ(6,"mat-autocomplete",5,6),a.NdJ("optionSelected",function(b){return u.onActionSelect(b.option.value)}),a.YNc(8,Q,4,4,"mat-option",7),a.ALo(9,"async"),a.qZA(),a.YNc(10,F,2,0,"mat-icon",8),a.Hsn(11),a.qZA()),2&c){const M=a.MAs(7);a.xp6(1),a.Q6J("options",u.loading),a.xp6(2),a.Q6J("ngIf",u.dataModelSelect&&u.dataModelSelect.linkMainImageIdSrc),a.xp6(2),a.s9C("placeholder",u.optionPlaceholder),a.Q6J("formControl",u.formControl)("matAutocomplete",M),a.uIk("disabled",!!u.optionDisabled||null),a.xp6(1),a.Q6J("displayWith",u.displayFn),a.xp6(2),a.Q6J("ngForOf",a.lcZ(9,9,u.filteredOptions)),a.xp6(2),a.Q6J("ngIf",u.dataModelSelect.id)}},dependencies:[v.sg,v.O5,m.Fj,m.JJ,m.oH,U.XC,e.ey,U.ZL,y.KE,y.qo,y.R9,L.Hw,x.Nt,B.O,v.Ov,E.v],encapsulation:2})),C})()}}]);