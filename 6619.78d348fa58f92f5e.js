"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[6619],{16619:(_e,re,f)=>{f.r(re),f.d(re,{CoreTokenModule:()=>Wl});var s=f(86889),_=f(88692),g=f(20092),c=f(34511),U=f(83914),ue=f(6087),k=f(26114),u=f(80418),N=f(8918),D=f(97147),M=f(60656),Y=f(76997),G=f(57154),Q=f(8239),b=f(54536),e=f(64537),v=f(32607),w=f(50727),T=f(56707),E=f(94032),H=f(1379),Z=f(88659),B=f(18033),F=f(56599),P=f(63181),x=f(75738);const he=["vform"];function fe(n,a){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function ge(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Te(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",11)(1,"button",17),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",18),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Ce=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenActivationService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.$4t),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenActivationService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=C,this.translate=S,this.publicHelper=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,Q.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(c.dR.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.x6v),e.Y36(v.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(E.i))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(he,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:22,vars:21,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(r){return o.dataModel.recordStatus=r}),e.YNc(7,fe,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,ge,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"app-cms-site-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(13,"app-cms-user-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA()(),e.TgZ(14,"div",10)(15,"div",11)(16,"small",12),e._uU(17),e.qZA(),e.TgZ(18,"small",13),e._uU(19),e.qZA()()(),e.TgZ(20,"div",14),e.YNc(21,Te,5,3,"div",15),e.qZA()),2&t){const l=e.MAs(6);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,19,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.mk,_.sg,_.O5,g.JJ,g.Q7,g.On,H.ey,Z.KE,Z.bx,Z.TO,B.gD,F.P,P.g,x.O,T.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();var j=f(42370);const Se=["vform"];function Ae(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let be=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenActivationService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.$4t),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenActivationService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=C,this.publicHelper=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.x6v),e.Y36(v.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(E.i),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(Se,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Ae,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,x.O,j.v,T.X$]})),a})();var h=f(92340),$=f(9638),q=f(83331),J=f(39665),I=f(83319),V=f(53538),O=f(64639),L=f(56558),K=f(43014),W=f(10626),z=f(37980),ne=f(13673),X=f(99654),ee=f(93817),te=f(39084),ie=f(86639),se=f(25897),oe=f(91101);function Ze(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function ke(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function Me(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function ve(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function we(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Ee(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function Ie(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function xe(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function Le(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function Re(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function Ue(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function ye(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberUserId?null:i.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Ne(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberUserId," ")}}function De(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.recordStatus?null:i.fieldsInfo.recordStatus.fieldTitle," ")}}const qe=function(n){return{display:n}};function Oe(n,a){if(1&n&&e._UZ(0,"select",49),2&n){const i=e.oxw().$implicit,t=e.oxw();e.Q6J("contentService",t.contentService)("row",i)("ngStyle",e.VKq(3,qe,i.id===t.tableRowSelected.id?"":"none"))}}function Je(n,a){if(1&n&&(e.TgZ(0,"mat-cell",47),e.ALo(1,"statusCellClass"),e._UZ(2,"i",47),e.ALo(3,"statusIconClass"),e.YNc(4,Oe,1,5,"select",48),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,i.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,i.recordStatus)),e.xp6(2),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow)}}function Ye(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ge(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Qe(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userType?null:i.fieldsInfo.userType.fieldTitle," ")}}function He(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userType,t.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Be(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Fe(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToAllData))}}function Pe(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function je(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToProfessionalData))}}function $e(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ve(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.rememberOnDevice))}}function Ke(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function We(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function ze(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.expireDate?null:i.fieldsInfo.expireDate.fieldTitle," ")}}function Xe(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.expireDate)," ")}}function et(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function tt(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function ot(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function nt(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,52),e.YNc(6,tt,6,3,"button",53),e.YNc(7,ot,6,3,"button",53),e.TgZ(8,"button",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const i=e.MAs(5),t=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",t.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function it(n,a){1&n&&e._UZ(0,"mat-header-row")}const st=function(n){return{background:n}};function at(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",55),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,st,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const lt=function(){return[5,10,20,100]};let rt=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A,R){if((0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new N.dj),(0,s.Z)(this,"optionsStatist",new D.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.$4t),(0,s.Z)(this,"tableSource",new u.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=d,this.dialog=p,this.tokenHelper=C,this.cdr=S,this.translate=A,this.router=R,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const m=new c.AO3;m.propertyName="LinkCmsSiteId",m.value=this.requestLinkSiteId,this.filteModelContent.filters.push(m)}if(this.requestLinkUserId>0){const m=new c.AO3;m.propertyName="LinkUserId",m.value=this.requestLinkUserId,this.filteModelContent.filters.push(m)}if(this.requestLinkDeviceId>0){const m=new c.AO3;m.propertyName="LinkDeviceId",m.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(m)}this.optionsSearch.parentMethods={onSubmit:m=>this.onSubmitOptionsSearch(m)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.$4t);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(be,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Ce,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"main";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(G.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(l=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Y.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.x6v),e.Y36(E.i),e.Y36(v.e),e.Y36(U.s),e.Y36(k.gz),e.Y36(b.uw),e.Y36(w.v),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(k.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:76,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,Ze,3,3,"button",4),e.YNc(6,ke,3,3,"button",5),e.YNc(7,Me,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,ve,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,we,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(31);return e.KtG(o.onTableSortData(d))}),e.ynx(32,19),e.YNc(33,Ee,2,1,"mat-header-cell",20),e.YNc(34,Ie,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,xe,2,1,"mat-header-cell",20),e.YNc(37,Le,4,5,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,Re,2,1,"mat-header-cell",20),e.YNc(40,Ue,4,5,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,ye,2,1,"mat-header-cell",20),e.YNc(43,Ne,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,De,2,1,"mat-header-cell",20),e.YNc(46,Je,5,7,"mat-cell",26),e.BQk(),e.ynx(47,27),e.YNc(48,Ye,2,1,"mat-header-cell",20),e.YNc(49,Ge,3,4,"mat-cell",21),e.BQk(),e.ynx(50,28),e.YNc(51,Qe,2,1,"mat-header-cell",20),e.YNc(52,He,3,4,"mat-cell",21),e.BQk(),e.ynx(53,29),e.YNc(54,Be,2,1,"mat-header-cell",20),e.YNc(55,Fe,3,3,"mat-cell",21),e.BQk(),e.ynx(56,30),e.YNc(57,Pe,2,1,"mat-header-cell",20),e.YNc(58,je,3,3,"mat-cell",21),e.BQk(),e.ynx(59,31),e.YNc(60,$e,2,1,"mat-header-cell",20),e.YNc(61,Ve,3,3,"mat-cell",21),e.BQk(),e.ynx(62,32),e.YNc(63,Ke,2,1,"mat-header-cell",20),e.YNc(64,We,2,1,"mat-cell",21),e.BQk(),e.ynx(65,33),e.YNc(66,ze,2,1,"mat-header-cell",20),e.YNc(67,Xe,2,1,"mat-cell",21),e.BQk(),e.ynx(68,34),e.YNc(69,et,3,3,"mat-header-cell",35),e.YNc(70,nt,20,9,"mat-cell",36),e.BQk(),e.YNc(71,it,1,0,"mat-header-row",37),e.YNc(72,at,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(73,39),e.TgZ(74,"mat-paginator",40,41),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,lt)))},dependencies:[_.mk,_.O5,_.PC,g.JJ,g.On,$.RK,q.Hw,J.Nt,I.VK,I.OP,I.p6,V.NW,O.Rr,L.YE,L.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,K.y,W.q,z.Z,ne.G,_.Ov,T.X$,X.B,ee.J,te.Y,ie.G,se.Y,oe.r],encapsulation:2})),a})(),ct=(()=>{var n;class a{constructor(){}ngOnInit(){}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-token"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},dependencies:[k.lC],encapsulation:2})),a})();const dt=["vform"];function mt(n,a){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function ut(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function pt(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",11)(1,"button",17),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",18),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let _t=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenMicroServiceLogService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.BKj),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenMicroServiceLogService=r,this.cmsToastrService=d,this.publicHelper=p,this.cdr=C,this.tokenHelper=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,Q.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.setAccessDataType(c.dR.Editor),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.qOP),e.Y36(v.e),e.Y36(E.i),e.Y36(e.sBO),e.Y36(w.v),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(dt,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:22,vars:21,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(r){return o.dataModel.recordStatus=r}),e.YNc(7,mt,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,ut,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"app-cms-site-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(13,"app-cms-user-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA()(),e.TgZ(14,"div",10)(15,"div",11)(16,"small",12),e._uU(17),e.qZA(),e.TgZ(18,"small",13),e._uU(19),e.qZA()()(),e.TgZ(20,"div",14),e.YNc(21,pt,5,3,"div",15),e.qZA()),2&t){const l=e.MAs(6);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,19,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.mk,_.sg,_.O5,g.JJ,g.Q7,g.On,H.ey,Z.KE,Z.bx,Z.TO,B.gD,F.P,P.g,x.O,T.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();const ht=["vform"];function ft(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let gt=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenMicroServiceLogService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.BKj),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenMicroServiceLogService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=C,this.publicHelper=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.qOP),e.Y36(v.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(E.i),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(ht,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,ft,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,x.O,j.v,T.X$],encapsulation:2})),a})();function Tt(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function Ct(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function St(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function At(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function bt(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Zt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function kt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function Mt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function vt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function wt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function Et(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function It(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberUserId?null:i.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function xt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberUserId," ")}}function Lt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.recordStatus?null:i.fieldsInfo.recordStatus.fieldTitle," ")}}const Rt=function(n){return{display:n}};function Ut(n,a){if(1&n&&e._UZ(0,"select",49),2&n){const i=e.oxw().$implicit,t=e.oxw();e.Q6J("contentService",t.contentService)("row",i)("ngStyle",e.VKq(3,Rt,i.id===t.tableRowSelected.id?"":"none"))}}function yt(n,a){if(1&n&&(e.TgZ(0,"mat-cell",47),e.ALo(1,"statusCellClass"),e._UZ(2,"i",47),e.ALo(3,"statusIconClass"),e.YNc(4,Ut,1,5,"select",48),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,i.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,i.recordStatus)),e.xp6(2),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow)}}function Nt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Dt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function qt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userType?null:i.fieldsInfo.userType.fieldTitle," ")}}function Ot(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userType,t.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Jt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Yt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToAllData))}}function Gt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Qt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToProfessionalData))}}function Ht(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Bt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.rememberOnDevice))}}function Ft(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function Pt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function jt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.expireDate?null:i.fieldsInfo.expireDate.fieldTitle," ")}}function $t(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.expireDate)," ")}}function Vt(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Kt(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Wt(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function zt(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,52),e.YNc(6,Kt,6,3,"button",53),e.YNc(7,Wt,6,3,"button",53),e.TgZ(8,"button",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const i=e.MAs(5),t=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",t.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function Xt(n,a){1&n&&e._UZ(0,"mat-header-row")}const eo=function(n){return{background:n}};function to(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",55),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,eo,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const oo=function(){return[5,10,20,100]};let no=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A,R){if((0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new N.dj),(0,s.Z)(this,"optionsStatist",new D.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.BKj),(0,s.Z)(this,"tableSource",new u.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=d,this.dialog=p,this.tokenHelper=C,this.cdr=S,this.translate=A,this.router=R,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const m=new c.AO3;m.propertyName="LinkCmsSiteId",m.value=this.requestLinkSiteId,this.filteModelContent.filters.push(m)}if(this.requestLinkUserId>0){const m=new c.AO3;m.propertyName="LinkUserId",m.value=this.requestLinkUserId,this.filteModelContent.filters.push(m)}if(this.requestLinkDeviceId>0){const m=new c.AO3;m.propertyName="LinkDeviceId",m.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(m)}this.optionsSearch.parentMethods={onSubmit:m=>this.onSubmitOptionsSearch(m)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.BKj);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(gt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(_t,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"main";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(G.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(l=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Y.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.qOP),e.Y36(E.i),e.Y36(v.e),e.Y36(U.s),e.Y36(k.gz),e.Y36(b.uw),e.Y36(w.v),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(k.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservicelog-list"]],decls:76,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,Tt,3,3,"button",4),e.YNc(6,Ct,3,3,"button",5),e.YNc(7,St,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,At,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,bt,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(31);return e.KtG(o.onTableSortData(d))}),e.ynx(32,19),e.YNc(33,Zt,2,1,"mat-header-cell",20),e.YNc(34,kt,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,Mt,2,1,"mat-header-cell",20),e.YNc(37,vt,4,5,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,wt,2,1,"mat-header-cell",20),e.YNc(40,Et,4,5,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,It,2,1,"mat-header-cell",20),e.YNc(43,xt,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,Lt,2,1,"mat-header-cell",20),e.YNc(46,yt,5,7,"mat-cell",26),e.BQk(),e.ynx(47,27),e.YNc(48,Nt,2,1,"mat-header-cell",20),e.YNc(49,Dt,3,4,"mat-cell",21),e.BQk(),e.ynx(50,28),e.YNc(51,qt,2,1,"mat-header-cell",20),e.YNc(52,Ot,3,4,"mat-cell",21),e.BQk(),e.ynx(53,29),e.YNc(54,Jt,2,1,"mat-header-cell",20),e.YNc(55,Yt,3,3,"mat-cell",21),e.BQk(),e.ynx(56,30),e.YNc(57,Gt,2,1,"mat-header-cell",20),e.YNc(58,Qt,3,3,"mat-cell",21),e.BQk(),e.ynx(59,31),e.YNc(60,Ht,2,1,"mat-header-cell",20),e.YNc(61,Bt,3,3,"mat-cell",21),e.BQk(),e.ynx(62,32),e.YNc(63,Ft,2,1,"mat-header-cell",20),e.YNc(64,Pt,2,1,"mat-cell",21),e.BQk(),e.ynx(65,33),e.YNc(66,jt,2,1,"mat-header-cell",20),e.YNc(67,$t,2,1,"mat-cell",21),e.BQk(),e.ynx(68,34),e.YNc(69,Vt,3,3,"mat-header-cell",35),e.YNc(70,zt,20,9,"mat-cell",36),e.BQk(),e.YNc(71,Xt,1,0,"mat-header-row",37),e.YNc(72,to,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(73,39),e.TgZ(74,"mat-paginator",40,41),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,oo)))},dependencies:[_.mk,_.O5,_.PC,g.JJ,g.On,$.RK,q.Hw,J.Nt,I.VK,I.OP,I.p6,V.NW,O.Rr,L.YE,L.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,K.y,W.q,z.Z,ne.G,_.Ov,T.X$,X.B,ee.J,te.Y,ie.G,se.Y,oe.r],encapsulation:2})),a})();var le=f(98838);const io=["vform"];function so(n,a){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function ao(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function lo(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",17),e.ALo(2,"prettyjson"),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,i.dataModel),e.oJD)}}function ro(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",11)(1,"button",18),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",19),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let co=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenMicroServiceService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.xyf),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenMicroServiceService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=C,this.publicHelper=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,Q.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(c.dR.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.mPJ),e.Y36(v.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(E.i),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(io,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:23,vars:22,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(r){return o.dataModel.recordStatus=r}),e.YNc(7,so,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,ao,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"app-cms-site-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(13,"app-cms-user-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.YNc(14,lo,3,3,"div",8),e.qZA(),e.TgZ(15,"div",10)(16,"div",11)(17,"small",12),e._uU(18),e.qZA(),e.TgZ(19,"small",13),e._uU(20),e.qZA()()(),e.TgZ(21,"div",14),e.YNc(22,ro,5,3,"div",15),e.qZA()),2&t){const l=e.MAs(6);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,20,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.mk,_.sg,_.O5,g.JJ,g.Q7,g.On,H.ey,Z.KE,Z.bx,Z.TO,B.gD,F.P,P.g,x.O,T.X$,le.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();const mo=["vform"];function uo(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let po=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenMicroServiceService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.xyf),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenMicroServiceService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=C,this.publicHelper=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.mPJ),e.Y36(v.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(E.i),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(mo,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,uo,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,x.O,j.v,T.X$]})),a})();function _o(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function ho(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function fo(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function go(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function To(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Co(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function So(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function Ao(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function bo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function Zo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function ko(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function Mo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberUserId?null:i.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function vo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberUserId," ")}}function wo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.recordStatus?null:i.fieldsInfo.recordStatus.fieldTitle," ")}}const Eo=function(n){return{display:n}};function Io(n,a){if(1&n&&e._UZ(0,"select",49),2&n){const i=e.oxw().$implicit,t=e.oxw();e.Q6J("contentService",t.contentService)("row",i)("ngStyle",e.VKq(3,Eo,i.id===t.tableRowSelected.id?"":"none"))}}function xo(n,a){if(1&n&&(e.TgZ(0,"mat-cell",47),e.ALo(1,"statusCellClass"),e._UZ(2,"i",47),e.ALo(3,"statusIconClass"),e.YNc(4,Io,1,5,"select",48),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,i.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,i.recordStatus)),e.xp6(2),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow)}}function Lo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ro(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Uo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userType?null:i.fieldsInfo.userType.fieldTitle," ")}}function yo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userType,t.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function No(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Do(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToAllData))}}function qo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Oo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToProfessionalData))}}function Jo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Yo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.rememberOnDevice))}}function Go(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function Qo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function Ho(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.expireDate?null:i.fieldsInfo.expireDate.fieldTitle," ")}}function Bo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.expireDate)," ")}}function Fo(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Po(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function jo(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function $o(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,52),e.YNc(6,Po,6,3,"button",53),e.YNc(7,jo,6,3,"button",53),e.TgZ(8,"button",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const i=e.MAs(5),t=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",t.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function Vo(n,a){1&n&&e._UZ(0,"mat-header-row")}const Ko=function(n){return{background:n}};function Wo(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",55),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,Ko,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const zo=function(){return[5,10,20,100]};let Xo=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A,R){if((0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new N.dj),(0,s.Z)(this,"optionsStatist",new D.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.xyf),(0,s.Z)(this,"tableSource",new u.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=d,this.dialog=p,this.tokenHelper=C,this.cdr=S,this.translate=A,this.router=R,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const m=new c.AO3;m.propertyName="LinkCmsSiteId",m.value=this.requestLinkSiteId,this.filteModelContent.filters.push(m)}if(this.requestLinkUserId>0){const m=new c.AO3;m.propertyName="LinkUserId",m.value=this.requestLinkUserId,this.filteModelContent.filters.push(m)}if(this.requestLinkDeviceId>0){const m=new c.AO3;m.propertyName="LinkDeviceId",m.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(m)}this.optionsSearch.parentMethods={onSubmit:m=>this.onSubmitOptionsSearch(m)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.xyf);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(po,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(co,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"main";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(G.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(l=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Y.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.mPJ),e.Y36(E.i),e.Y36(v.e),e.Y36(U.s),e.Y36(k.gz),e.Y36(b.uw),e.Y36(w.v),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(k.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-microservice-list"]],decls:76,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,_o,3,3,"button",4),e.YNc(6,ho,3,3,"button",5),e.YNc(7,fo,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,go,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,To,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(31);return e.KtG(o.onTableSortData(d))}),e.ynx(32,19),e.YNc(33,Co,2,1,"mat-header-cell",20),e.YNc(34,So,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,Ao,2,1,"mat-header-cell",20),e.YNc(37,bo,4,5,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,Zo,2,1,"mat-header-cell",20),e.YNc(40,ko,4,5,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,Mo,2,1,"mat-header-cell",20),e.YNc(43,vo,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,wo,2,1,"mat-header-cell",20),e.YNc(46,xo,5,7,"mat-cell",26),e.BQk(),e.ynx(47,27),e.YNc(48,Lo,2,1,"mat-header-cell",20),e.YNc(49,Ro,3,4,"mat-cell",21),e.BQk(),e.ynx(50,28),e.YNc(51,Uo,2,1,"mat-header-cell",20),e.YNc(52,yo,3,4,"mat-cell",21),e.BQk(),e.ynx(53,29),e.YNc(54,No,2,1,"mat-header-cell",20),e.YNc(55,Do,3,3,"mat-cell",21),e.BQk(),e.ynx(56,30),e.YNc(57,qo,2,1,"mat-header-cell",20),e.YNc(58,Oo,3,3,"mat-cell",21),e.BQk(),e.ynx(59,31),e.YNc(60,Jo,2,1,"mat-header-cell",20),e.YNc(61,Yo,3,3,"mat-cell",21),e.BQk(),e.ynx(62,32),e.YNc(63,Go,2,1,"mat-header-cell",20),e.YNc(64,Qo,2,1,"mat-cell",21),e.BQk(),e.ynx(65,33),e.YNc(66,Ho,2,1,"mat-header-cell",20),e.YNc(67,Bo,2,1,"mat-cell",21),e.BQk(),e.ynx(68,34),e.YNc(69,Fo,3,3,"mat-header-cell",35),e.YNc(70,$o,20,9,"mat-cell",36),e.BQk(),e.YNc(71,Vo,1,0,"mat-header-row",37),e.YNc(72,Wo,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(73,39),e.TgZ(74,"mat-paginator",40,41),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,zo)))},dependencies:[_.mk,_.O5,_.PC,g.JJ,g.On,$.RK,q.Hw,J.Nt,I.VK,I.OP,I.p6,V.NW,O.Rr,L.YE,L.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,K.y,W.q,z.Z,ne.G,_.Ov,T.X$,X.B,ee.J,te.Y,ie.G,se.Y,oe.r],encapsulation:2})),a})();var ae=f(83704),pe=f(51797);const en=["vform"];function tn(n,a){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function on(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function nn(n,a){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function sn(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," LinkMemberId is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function an(n,a){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function ln(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function rn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-slide-toggle",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToAllData=o)}),e._uU(1),e.qZA()}if(2&n){const i=e.oxw();e.Q6J("ngModel",i.dataModel.userAccessAdminAllowToAllData)("disabled",!(null!=i.fieldsInfo.userAccessAdminAllowToAllData&&i.fieldsInfo.userAccessAdminAllowToAllData.accessEditField)),e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function cn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-slide-toggle",42),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToProfessionalData=o)}),e._uU(1),e.qZA()}if(2&n){const i=e.oxw();e.Q6J("ngModel",i.dataModel.userAccessAdminAllowToProfessionalData)("disabled",!(null!=i.fieldsInfo.userAccessAdminAllowToProfessionalData&&i.fieldsInfo.userAccessAdminAllowToProfessionalData.accessEditField)),e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function dn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-slide-toggle",43),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.rememberOnDevice=o)}),e._uU(1),e.qZA()}if(2&n){const i=e.oxw();e.Q6J("ngModel",i.dataModel.rememberOnDevice)("disabled",!(null!=i.fieldsInfo.rememberOnDevice&&i.fieldsInfo.rememberOnDevice.accessEditField)),e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function mn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.browserLanguage="")}),e._uU(1,"close"),e.qZA()}}function un(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.userLanguage=null)}),e._uU(1,"close"),e.qZA()}}function pn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.deviceClientMAC=null)}),e._uU(1,"close"),e.qZA()}}function _n(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.token=null)}),e._uU(1,"close"),e.qZA()}}function hn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.linkDeviceId=null)}),e._uU(1,"close"),e.qZA()}}function fn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.linkApplicationId=null)}),e._uU(1,"close"),e.qZA()}}function gn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw(2);return e.KtG(o.dataModel.tokenExpireDate=null)}),e._uU(1,"close"),e.qZA()}}function Tn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-form-field",5)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.tokenExpireDate=o)}),e.qZA(),e.YNc(4,gn,2,0,"mat-icon",21),e._UZ(5,"mat-datepicker-toggle",46)(6,"mat-datepicker",47,48),e.qZA()}if(2&n){const i=e.MAs(7),t=e.oxw();e.xp6(2),e.Oqu(null==t.fieldsInfo.tokenExpireDate?null:t.fieldsInfo.tokenExpireDate.fieldTitle),e.xp6(1),e.Q6J("matDatepicker",i)("ngModel",t.dataModel.tokenExpireDate),e.xp6(1),e.Q6J("ngIf",t.dataModel.tokenExpireDate&&(null==t.fieldsInfo.tokenExpireDate?null:t.fieldsInfo.tokenExpireDate.accessEditField)),e.xp6(1),e.Q6J("for",i)}}function Cn(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",49),e.ALo(2,"prettyjson"),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,i.dataModel),e.oJD)}}function Sn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",35)(1,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",51),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",52),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormSubmit())}),e._UZ(6,"i",53),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){e.oxw();const i=e.MAs(1);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!i.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let An=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenUserService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.amQ),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenUserService=r,this.cmsToastrService=d,this.tokenHelper=p,this.publicHelper=C,this.cdr=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,Q.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(c.dR.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.sending_information_to_the_server")),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorEdit(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onActionSiteSelect(t){t&&t.id>0&&(this.dataModel.linkSiteId=t.id)}onActionUserSelect(t){t&&t.id>0&&(this.dataModel.linkUserId=t.id)}onActionMemberSelect(t){t&&t.id.length>0&&(this.dataModel.linkMemberId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.O0p),e.Y36(v.e),e.Y36(w.v),e.Y36(E.i),e.Y36(e.sBO),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(en,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:99,vars:62,consts:[[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["name","dataModel.linkMemberId","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["LinkMemberId","ngModel"],["name","dataModel.userAccessAreaType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"optionDisabled","optionLoading","optionSelectForce","optionPlaceholder","optionChange","optionLoadingChange"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["matInput","","name","dataModel.browserLanguage","type","text","placeholder","BrowserLanguage",3,"ngModel","ngModelChange"],["BrowserLanguage",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.userLanguage","type","text","placeholder","UserLanguage",3,"ngModel","ngModelChange"],["UserLanguage",""],["matInput","","name","dataModel.deviceClientMAC","type","text","placeholder","DeviceClientMAC",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],["matInput","","name","dataModel.token","type","text","placeholder","Token",3,"ngModel","ngModelChange"],["Token",""],["matInput","","name","dataModel.linkDeviceId","type","text","placeholder","LinkDeviceId",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["matInput","","name","dataModel.linkApplicationId","type","text","placeholder","LinkApplicationId",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["class","ntk-full-width",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.tokenExpireDate",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["touchUi",""],["tokenExpireDate",""],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"],["type","submit",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-progress-spinner",4),e.TgZ(6,"mat-form-field",5)(7,"mat-select",6,7),e.NdJ("ngModelChange",function(r){return o.dataModel.recordStatus=r}),e.YNc(9,tn,2,2,"mat-option",8),e.qZA(),e.TgZ(10,"mat-hint",9),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,on,5,3,"mat-error",10),e.qZA(),e.TgZ(14,"mat-form-field",5)(15,"mat-select",11,12),e.NdJ("ngModelChange",function(r){return o.dataModel.linkMemberId=r}),e.ALo(17,"translate"),e.YNc(18,nn,2,2,"mat-option",8),e.qZA(),e.TgZ(19,"mat-hint",9),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.YNc(22,sn,5,3,"mat-error",10),e.qZA(),e.TgZ(23,"mat-form-field",5)(24,"mat-select",13,14),e.NdJ("ngModelChange",function(r){return o.dataModel.userAccessAreaType=r}),e.ALo(26,"translate"),e.YNc(27,an,2,2,"mat-option",8),e.qZA(),e.TgZ(28,"mat-hint",9),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.YNc(31,ln,5,3,"mat-error",10),e.qZA(),e.TgZ(32,"app-cms-site-selector",15),e.NdJ("optionChange",function(r){return o.onActionSiteSelect(r)})("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(33,"app-cms-user-selector",15),e.NdJ("optionChange",function(r){return o.onActionUserSelect(r)})("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(34,"app-cms-member-selector",15),e.NdJ("optionChange",function(r){return o.onActionMemberSelect(r)})("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(35,"div",5),e.YNc(36,rn,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(37,"div",5),e.YNc(38,cn,2,3,"mat-slide-toggle",17),e.qZA(),e.TgZ(39,"div",5),e.YNc(40,dn,2,3,"mat-slide-toggle",18),e.qZA(),e.TgZ(41,"mat-form-field",5)(42,"mat-label"),e._uU(43,"BrowserLanguage"),e.qZA(),e.TgZ(44,"input",19,20),e.NdJ("ngModelChange",function(r){return o.dataModel.browserLanguage=r}),e.qZA(),e.YNc(46,mn,2,0,"mat-icon",21),e.TgZ(47,"mat-icon",22),e._uU(48,"mode_edit"),e.qZA()(),e.TgZ(49,"mat-form-field",5)(50,"mat-label"),e._uU(51,"UserLanguage"),e.qZA(),e.TgZ(52,"input",23,24),e.NdJ("ngModelChange",function(r){return o.dataModel.userLanguage=r}),e.qZA(),e.YNc(54,un,2,0,"mat-icon",21),e.TgZ(55,"mat-icon",22),e._uU(56,"mode_edit"),e.qZA()(),e.TgZ(57,"mat-form-field",5)(58,"mat-label"),e._uU(59,"DeviceClientMAC"),e.qZA(),e.TgZ(60,"input",25,26),e.NdJ("ngModelChange",function(r){return o.dataModel.deviceClientMAC=r}),e.qZA(),e.YNc(62,pn,2,0,"mat-icon",21),e.TgZ(63,"mat-icon",22),e._uU(64,"mode_edit"),e.qZA()(),e.TgZ(65,"mat-form-field",5)(66,"mat-label"),e._uU(67,"Token"),e.qZA(),e.TgZ(68,"input",27,28),e.NdJ("ngModelChange",function(r){return o.dataModel.token=r}),e.qZA(),e.YNc(70,_n,2,0,"mat-icon",21),e.TgZ(71,"mat-icon",22),e._uU(72,"mode_edit"),e.qZA()(),e.TgZ(73,"mat-form-field",5)(74,"mat-label"),e._uU(75,"LinkDeviceId"),e.qZA(),e.TgZ(76,"input",29,30),e.NdJ("ngModelChange",function(r){return o.dataModel.linkDeviceId=r}),e.qZA(),e.YNc(78,hn,2,0,"mat-icon",21),e.TgZ(79,"mat-icon",22),e._uU(80,"mode_edit"),e.qZA()(),e.TgZ(81,"mat-form-field",5)(82,"mat-label"),e._uU(83,"LinkApplicationId"),e.qZA(),e.TgZ(84,"input",31,32),e.NdJ("ngModelChange",function(r){return o.dataModel.linkApplicationId=r}),e.qZA(),e.YNc(86,fn,2,0,"mat-icon",21),e.TgZ(87,"mat-icon",22),e._uU(88,"mode_edit"),e.qZA()(),e.YNc(89,Tn,8,5,"mat-form-field",33),e.YNc(90,Cn,3,3,"div",10),e.qZA(),e.TgZ(91,"div",34)(92,"div",35)(93,"small",36),e._uU(94),e.qZA(),e.TgZ(95,"small",37),e._uU(96),e.qZA()()(),e.TgZ(97,"div",38),e.YNc(98,Sn,9,7,"div",39),e.qZA()()),2&t){const l=e.MAs(8),r=e.MAs(16),d=e.MAs(25);e.xp6(3),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(12,52,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(17,54,"TITLE.Status")),e.MGl("panelClass","LinkMemberId-",o.dataModel.linkMemberId,""),e.Q6J("ngModel",o.dataModel.linkMemberId),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessUserTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(21,56,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==r.errors?null:r.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(26,58,"TITLE.Status")),e.MGl("panelClass","UserAccessAreaType-",o.dataModel.userAccessAreaType,""),e.Q6J("ngModel",o.dataModel.userAccessAreaType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(30,60,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==d.errors?null:d.errors.required),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkMemberId)("optionPlaceholder",o.translate.instant("TITLE.Member")),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToAllData?null:o.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToProfessionalData?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.rememberOnDevice?null:o.fieldsInfo.rememberOnDevice.accessWatchField),e.xp6(4),e.Q6J("ngModel",o.dataModel.browserLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.browserLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.userLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.userLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.deviceClientMAC),e.xp6(2),e.Q6J("ngIf",o.dataModel.deviceClientMAC),e.xp6(6),e.Q6J("ngModel",o.dataModel.token),e.xp6(2),e.Q6J("ngIf",o.dataModel.token),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkDeviceId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkDeviceId),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkApplicationId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkApplicationId),e.xp6(3),e.Q6J("ngIf",null==o.fieldsInfo.tokenExpireDate?null:o.fieldsInfo.tokenExpireDate.accessWatchField),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.mk,_.sg,_.O5,g._Y,g.Fj,g.JJ,g.JL,g.Q7,g.On,g.F,H.ey,ae.Mq,ae.hl,ae.nW,Z.KE,Z.hX,Z.bx,Z.TO,Z.R9,q.Hw,J.Nt,B.gD,O.Rr,F.P,P.g,pe.a,x.O,T.X$,le.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();const bn=["vform"];function Zn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let kn=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenUserService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.amQ),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenUserService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=C,this.publicHelper=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.O0p),e.Y36(v.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(E.i),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(bn,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Zn,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,x.O,j.v,T.X$]})),a})();var Mn=f(35952);function vn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function wn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function En(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function In(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",12),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function xn(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Ln(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function Rn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function Un(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function yn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function Nn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function Dn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function qn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberId?null:i.fieldsInfo.linkMemberId.fieldTitle," ")}}function On(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberId," ")}}function Jn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.recordStatus?null:i.fieldsInfo.recordStatus.fieldTitle," ")}}const Yn=function(n){return{display:n}};function Gn(n,a){if(1&n&&e._UZ(0,"select",50),2&n){const i=e.oxw().$implicit,t=e.oxw();e.Q6J("contentService",t.contentService)("row",i)("ngStyle",e.VKq(3,Yn,i.id===t.tableRowSelected.id?"":"none"))}}function Qn(n,a){if(1&n&&(e.TgZ(0,"mat-cell",48),e.ALo(1,"statusCellClass"),e._UZ(2,"i",48),e.ALo(3,"statusIconClass"),e.YNc(4,Gn,1,5,"select",49),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,i.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,i.recordStatus)),e.xp6(2),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow)}}function Hn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Bn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Fn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userType?null:i.fieldsInfo.userType.fieldTitle," ")}}function Pn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userType,t.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function jn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function $n(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",48),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToAllData))}}function Vn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Kn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",48),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToProfessionalData))}}function Wn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function zn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",48),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.rememberOnDevice))}}function Xn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function ei(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function ti(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",47),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.tokenExpireDate?null:i.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function oi(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.tokenExpireDate)," ")}}function ni(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function ii(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function si(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function ai(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,53),e.YNc(6,ii,6,3,"button",54),e.YNc(7,si,6,3,"button",54),e.TgZ(8,"button",55),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",55),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"button",55),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewMemberRow(l))}),e.TgZ(21,"mat-icon"),e._uU(22,"assignment_ind"),e.qZA(),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"button",55),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewDeviceRow(l))}),e.TgZ(27,"mat-icon"),e._uU(28,"device_unknown"),e.qZA(),e.TgZ(29,"span"),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()}if(2&n){const i=e.MAs(5),t=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",t.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,7,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,9,"ACTION.USER")),e.xp6(6),e.Oqu(e.lcZ(25,11,"ACTION.MEMBER")),e.xp6(6),e.Oqu(e.lcZ(31,13,"ACTION.DEVICE"))}}function li(n,a){1&n&&e._UZ(0,"mat-header-row")}const ri=function(n){return{background:n}};function ci(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",56),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,ri,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const di=function(){return[5,10,20,100]};let ce=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A,R){if((0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new N.dj),(0,s.Z)(this,"optionsStatist",new D.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.amQ),(0,s.Z)(this,"tableSource",new u.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=d,this.tokenHelper=p,this.dialog=C,this.cdr=S,this.translate=A,this.router=R,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const m=new c.AO3;m.propertyName="LinkCmsSiteId",m.value=this.requestLinkSiteId,this.filteModelContent.filters.push(m)}if(this.requestLinkUserId>0){const m=new c.AO3;m.propertyName="LinkUserId",m.value=this.requestLinkUserId,this.filteModelContent.filters.push(m)}if(this.requestLinkDeviceId>0){const m=new c.AO3;m.propertyName="LinkDeviceId",m.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(m)}this.optionsSearch.parentMethods={onSubmit:m=>this.onSubmitOptionsSearch(m)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.amQ);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(kn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(An,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"main";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(G.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(l=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Y.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.O0p),e.Y36(E.i),e.Y36(v.e),e.Y36(U.s),e.Y36(k.gz),e.Y36(w.v),e.Y36(b.uw),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(k.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:77,vars:32,consts:[[3,"Key","svg"],[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e._UZ(0,"app-cms-guide-notice",0),e.TgZ(1,"app-cms-html-list",1),e.ynx(2,2),e._uU(3," -------------------------------------- "),e.BQk(),e.GkF(4,3),e.ynx(5,4),e.YNc(6,vn,3,3,"button",5),e.YNc(7,wn,3,3,"button",6),e.YNc(8,En,3,3,"button",7),e.TgZ(9,"a",8)(10,"mat-slide-toggle",9),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"a",8)(14,"mat-slide-toggle",10),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"button",11),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(18,"mat-icon",12),e.ALo(19,"translate"),e._uU(20,"cloud_download"),e.qZA()(),e.YNc(21,In,4,3,"button",13),e.TgZ(22,"button",11),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(23,"mat-icon",12),e.ALo(24,"translate"),e._uU(25,"refresh"),e.qZA()(),e.YNc(26,xn,3,3,"button",14),e.BQk(),e.ynx(27,15),e.TgZ(28,"app-cms-search-list",16),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(29,"app-cms-statist-list",16),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(30,17),e.TgZ(31,"mat-table",18,19),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(32);return e.KtG(o.onTableSortData(d))}),e.ynx(33,20),e.YNc(34,Ln,2,1,"mat-header-cell",21),e.YNc(35,Rn,2,1,"mat-cell",22),e.BQk(),e.ynx(36,23),e.YNc(37,Un,2,1,"mat-header-cell",21),e.YNc(38,yn,4,5,"mat-cell",22),e.BQk(),e.ynx(39,24),e.YNc(40,Nn,2,1,"mat-header-cell",21),e.YNc(41,Dn,4,5,"mat-cell",22),e.BQk(),e.ynx(42,25),e.YNc(43,qn,2,1,"mat-header-cell",21),e.YNc(44,On,2,1,"mat-cell",22),e.BQk(),e.ynx(45,26),e.YNc(46,Jn,2,1,"mat-header-cell",21),e.YNc(47,Qn,5,7,"mat-cell",27),e.BQk(),e.ynx(48,28),e.YNc(49,Hn,2,1,"mat-header-cell",21),e.YNc(50,Bn,3,4,"mat-cell",22),e.BQk(),e.ynx(51,29),e.YNc(52,Fn,2,1,"mat-header-cell",21),e.YNc(53,Pn,3,4,"mat-cell",22),e.BQk(),e.ynx(54,30),e.YNc(55,jn,2,1,"mat-header-cell",21),e.YNc(56,$n,3,3,"mat-cell",22),e.BQk(),e.ynx(57,31),e.YNc(58,Vn,2,1,"mat-header-cell",21),e.YNc(59,Kn,3,3,"mat-cell",22),e.BQk(),e.ynx(60,32),e.YNc(61,Wn,2,1,"mat-header-cell",21),e.YNc(62,zn,3,3,"mat-cell",22),e.BQk(),e.ynx(63,33),e.YNc(64,Xn,2,1,"mat-header-cell",21),e.YNc(65,ei,2,1,"mat-cell",22),e.BQk(),e.ynx(66,34),e.YNc(67,ti,2,1,"mat-header-cell",21),e.YNc(68,oi,2,1,"mat-cell",22),e.BQk(),e.ynx(69,35),e.YNc(70,ni,3,3,"mat-header-cell",36),e.YNc(71,ai,32,15,"mat-cell",37),e.BQk(),e.YNc(72,li,1,0,"mat-header-row",38),e.YNc(73,ci,1,3,"mat-row",39),e.qZA(),e.BQk(),e.ynx(74,40),e.TgZ(75,"mat-paginator",41,42),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("Key","report.user.list")("svg","assets/media/svg/icons/General/Notifications1.svg"),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(12,23,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(16,25,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(19,27,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(24,29,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(31,di)))},dependencies:[_.mk,_.O5,_.PC,g.JJ,g.On,$.RK,q.Hw,J.Nt,I.VK,I.OP,I.p6,V.NW,O.Rr,L.YE,L.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,K.y,W.q,Mn.v,z.Z,ne.G,_.Ov,T.X$,X.B,ee.J,te.Y,ie.G,se.Y,oe.r],encapsulation:2})),a})();const mi=["vform"];function ui(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.usedUsername=null)}),e._uU(1,"close"),e.qZA()}}function pi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.usedPwd=null)}),e._uU(1,"close"),e.qZA()}}function _i(n,a){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function hi(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function fi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.linkDeviceId=null)}),e._uU(1,"close"),e.qZA()}}function gi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.linkApplicationId=null)}),e._uU(1,"close"),e.qZA()}}function Ti(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",28),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.deviceClientMAC=null)}),e._uU(1,"close"),e.qZA()}}function Ci(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",30),e.ALo(2,"prettyjson"),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,i.dataModel),e.oJD)}}function Si(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",23)(1,"button",31),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",32),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Ai=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenUserBadLoginService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.u1Z),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenUserBadLoginService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=C,this.publicHelper=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,Q.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(c.dR.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.Q0Y),e.Y36(v.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(E.i),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(mi,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:65,vars:38,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["matInput","","name","dataModel.usedUsername","type","text","placeholder","UsedUsername",3,"ngModel","ngModelChange"],["UsedUsername",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.usedPwd","type","text","placeholder","UsedPwd",3,"ngModel","ngModelChange"],["UsedPwd",""],["name","dataModel.userAccessAreaType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["matInput","","name","dataModel.linkDeviceId","type","text","placeholder","LinkDeviceId",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["matInput","","name","dataModel.linkApplicationId","type","text","placeholder","LinkApplicationId",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["matInput","","name","dataModel.deviceClientMAC","type","text","placeholder","DeviceClientMAC",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-label"),e._uU(6,"UsedUsername"),e.qZA(),e.TgZ(7,"input",4,5),e.NdJ("ngModelChange",function(r){return o.dataModel.usedUsername=r}),e.qZA(),e.YNc(9,ui,2,0,"mat-icon",6),e.TgZ(10,"mat-icon",7),e._uU(11,"mode_edit"),e.qZA()(),e.TgZ(12,"mat-form-field",3)(13,"mat-label"),e._uU(14,"UsedPwd"),e.qZA(),e.TgZ(15,"input",8,9),e.NdJ("ngModelChange",function(r){return o.dataModel.usedPwd=r}),e.qZA(),e.YNc(17,pi,2,0,"mat-icon",6),e.TgZ(18,"mat-icon",7),e._uU(19,"mode_edit"),e.qZA()(),e.TgZ(20,"mat-form-field",3)(21,"mat-select",10,11),e.NdJ("ngModelChange",function(r){return o.dataModel.userAccessAreaType=r}),e.ALo(23,"translate"),e.YNc(24,_i,2,2,"mat-option",12),e.qZA(),e.TgZ(25,"mat-hint",13),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.YNc(28,hi,5,3,"mat-error",14),e.qZA(),e.TgZ(29,"app-cms-site-selector",15),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(30,"app-cms-user-selector",15),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(31,"app-cms-member-selector",15),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(32,"mat-form-field",3)(33,"mat-label"),e._uU(34,"LinkDeviceId"),e.qZA(),e.TgZ(35,"input",16,17),e.NdJ("ngModelChange",function(r){return o.dataModel.linkDeviceId=r}),e.qZA(),e.YNc(37,fi,2,0,"mat-icon",6),e.TgZ(38,"mat-icon",7),e._uU(39,"mode_edit"),e.qZA()(),e.TgZ(40,"mat-form-field",3)(41,"mat-label"),e._uU(42,"LinkApplicationId"),e.qZA(),e.TgZ(43,"input",18,19),e.NdJ("ngModelChange",function(r){return o.dataModel.linkApplicationId=r}),e.qZA(),e.YNc(45,gi,2,0,"mat-icon",6),e.TgZ(46,"mat-icon",7),e._uU(47,"mode_edit"),e.qZA()(),e.TgZ(48,"mat-form-field",3)(49,"mat-label"),e._uU(50,"DeviceClientMAC"),e.qZA(),e.TgZ(51,"input",20,21),e.NdJ("ngModelChange",function(r){return o.dataModel.deviceClientMAC=r}),e.qZA(),e.YNc(53,Ti,2,0,"mat-icon",6),e.TgZ(54,"mat-icon",7),e._uU(55,"mode_edit"),e.qZA()(),e.YNc(56,Ci,3,3,"div",14),e.qZA(),e.TgZ(57,"div",22)(58,"div",23)(59,"small",24),e._uU(60),e.qZA(),e.TgZ(61,"small",25),e._uU(62),e.qZA()()(),e.TgZ(63,"div",26),e.YNc(64,Si,5,3,"div",27),e.qZA()),2&t){const l=e.MAs(22);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(4),e.Q6J("ngModel",o.dataModel.usedUsername),e.xp6(2),e.Q6J("ngIf",o.dataModel.usedUsername),e.xp6(6),e.Q6J("ngModel",o.dataModel.usedPwd),e.xp6(2),e.Q6J("ngIf",o.dataModel.usedPwd),e.xp6(4),e.s9C("placeholder",e.lcZ(23,34,"TITLE.Status")),e.MGl("panelClass","UserAccessAreaType-",o.dataModel.userAccessAreaType,""),e.Q6J("ngModel",o.dataModel.userAccessAreaType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(27,36,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.Member")),e.xp6(4),e.Q6J("ngModel",o.dataModel.linkDeviceId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkDeviceId),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkApplicationId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkApplicationId),e.xp6(6),e.Q6J("ngModel",o.dataModel.deviceClientMAC),e.xp6(2),e.Q6J("ngIf",o.dataModel.deviceClientMAC),e.xp6(3),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.sg,_.O5,g.Fj,g.JJ,g.Q7,g.On,H.ey,Z.KE,Z.hX,Z.bx,Z.TO,Z.R9,q.Hw,J.Nt,B.gD,F.P,P.g,pe.a,x.O,T.X$,le.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();const bi=["vform"];function Zi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ki=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenUserBadLoginService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.u1Z),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenUserBadLoginService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=C,this.publicHelper=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.Q0Y),e.Y36(v.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(E.i),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(bi,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Zi,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,x.O,j.v,T.X$]})),a})();function Mi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function vi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function wi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Ei(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function Ii(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function xi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function Li(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function Ri(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ui(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function yi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function Ni(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function Di(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberId?null:i.fieldsInfo.linkMemberId.fieldTitle," ")}}function qi(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberId," ")}}function Oi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ji(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Yi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.usedUsername?null:i.fieldsInfo.usedUsername.fieldTitle," ")}}function Gi(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.usedUsername," ")}}function Qi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",40),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function Hi(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function Bi(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Fi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Pi(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function ji(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-cell",41)(1,"button",42)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,43),e.YNc(6,Fi,6,3,"button",44),e.YNc(7,Pi,6,3,"button",44),e.TgZ(8,"button",45),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",45),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"button",45),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewMemberRow(l))}),e.TgZ(21,"mat-icon"),e._uU(22,"assignment_ind"),e.qZA(),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"button",45),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewDeviceRow(l))}),e.TgZ(27,"mat-icon"),e._uU(28,"device_unknown"),e.qZA(),e.TgZ(29,"span"),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()}if(2&n){const i=e.MAs(5),t=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",t.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,7,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,9,"ACTION.USER")),e.xp6(6),e.Oqu(e.lcZ(25,11,"ACTION.MEMBER")),e.xp6(6),e.Oqu(e.lcZ(31,13,"ACTION.DEVICE"))}}function $i(n,a){1&n&&e._UZ(0,"mat-header-row")}const Vi=function(n){return{background:n}};function Ki(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",46),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,Vi,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const Wi=function(){return[5,10,20,100]};let de=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A,R,m){if((0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new N.dj),(0,s.Z)(this,"optionsStatist",new D.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.u1Z),(0,s.Z)(this,"tableSource",new u.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.coreEnumService=t,this.contentService=o,this.publicHelper=l,this.cmsToastrService=r,this.cmsConfirmationDialogService=d,this.activatedRoute=p,this.dialog=C,this.tokenHelper=S,this.cdr=A,this.translate=R,this.router=m,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const y=new c.AO3;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}if(this.requestLinkUserId>0){const y=new c.AO3;y.propertyName="LinkUserId",y.value=this.requestLinkUserId,this.filteModelContent.filters.push(y)}if(this.requestLinkDeviceId>0){const y=new c.AO3;y.propertyName="LinkDeviceId",y.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.u1Z);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ki,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Ai,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"main";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(G.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(l=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Y.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.FLW),e.Y36(c.Q0Y),e.Y36(E.i),e.Y36(v.e),e.Y36(U.s),e.Y36(k.gz),e.Y36(b.uw),e.Y36(w.v),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(k.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:61,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,Mi,3,3,"button",4),e.YNc(6,vi,3,3,"button",5),e.YNc(7,wi,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,Ei,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,Ii,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(31);return e.KtG(o.onTableSortData(d))}),e.ynx(32,19),e.YNc(33,xi,2,1,"mat-header-cell",20),e.YNc(34,Li,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,Ri,2,1,"mat-header-cell",20),e.YNc(37,Ui,4,5,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,yi,2,1,"mat-header-cell",20),e.YNc(40,Ni,4,5,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,Di,2,1,"mat-header-cell",20),e.YNc(43,qi,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,Oi,2,1,"mat-header-cell",20),e.YNc(46,Ji,3,4,"mat-cell",21),e.BQk(),e.ynx(47,26),e.YNc(48,Yi,2,1,"mat-header-cell",20),e.YNc(49,Gi,2,1,"mat-cell",21),e.BQk(),e.ynx(50,27),e.YNc(51,Qi,2,1,"mat-header-cell",20),e.YNc(52,Hi,2,1,"mat-cell",21),e.BQk(),e.ynx(53,28),e.YNc(54,Bi,3,3,"mat-header-cell",29),e.YNc(55,ji,32,15,"mat-cell",30),e.BQk(),e.YNc(56,$i,1,0,"mat-header-row",31),e.YNc(57,Ki,1,3,"mat-row",32),e.qZA(),e.BQk(),e.ynx(58,33),e.TgZ(59,"mat-paginator",34,35),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(26),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,Wi)))},dependencies:[_.O5,_.PC,g.JJ,g.On,$.RK,q.Hw,I.VK,I.OP,I.p6,V.NW,O.Rr,L.YE,L.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,K.y,W.q,z.Z,_.Ov,T.X$,X.B,ee.J,te.Y],encapsulation:2})),a})();const zi=["vform"];function Xi(n,a){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function es(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function ts(n,a){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function os(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," LinkMemberId is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function ns(n,a){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function is(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function ss(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-slide-toggle",39),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToAllData=o)}),e._uU(1),e.qZA()}if(2&n){const i=e.oxw();e.Q6J("ngModel",i.dataModel.userAccessAdminAllowToAllData)("disabled",!(null!=i.fieldsInfo.userAccessAdminAllowToAllData&&i.fieldsInfo.userAccessAdminAllowToAllData.accessEditField)),e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function as(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-slide-toggle",40),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToProfessionalData=o)}),e._uU(1),e.qZA()}if(2&n){const i=e.oxw();e.Q6J("ngModel",i.dataModel.userAccessAdminAllowToProfessionalData)("disabled",!(null!=i.fieldsInfo.userAccessAdminAllowToProfessionalData&&i.fieldsInfo.userAccessAdminAllowToProfessionalData.accessEditField)),e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function ls(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-slide-toggle",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.rememberOnDevice=o)}),e._uU(1),e.qZA()}if(2&n){const i=e.oxw();e.Q6J("ngModel",i.dataModel.rememberOnDevice)("disabled",!(null!=i.fieldsInfo.rememberOnDevice&&i.fieldsInfo.rememberOnDevice.accessEditField)),e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function rs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.browserLanguage="")}),e._uU(1,"close"),e.qZA()}}function cs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.userLanguage=null)}),e._uU(1,"close"),e.qZA()}}function ds(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.linkDeviceId=null)}),e._uU(1,"close"),e.qZA()}}function ms(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.linkApplicationId=null)}),e._uU(1,"close"),e.qZA()}}function us(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.deviceClientMAC=null)}),e._uU(1,"close"),e.qZA()}}function ps(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dataModel.token=null)}),e._uU(1,"close"),e.qZA()}}function _s(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw(2);return e.KtG(o.dataModel.tokenExpireDate=null)}),e._uU(1,"close"),e.qZA()}}function hs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-form-field",3)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",43),e.NdJ("ngModelChange",function(o){e.CHM(i);const l=e.oxw();return e.KtG(l.dataModel.tokenExpireDate=o)}),e.qZA(),e.YNc(4,_s,2,0,"mat-icon",19),e._UZ(5,"mat-datepicker-toggle",44)(6,"mat-datepicker",45,46),e.qZA()}if(2&n){const i=e.MAs(7),t=e.oxw();e.xp6(2),e.Oqu(null==t.fieldsInfo.tokenExpireDate?null:t.fieldsInfo.tokenExpireDate.fieldTitle),e.xp6(1),e.Q6J("matDatepicker",i)("ngModel",t.dataModel.tokenExpireDate),e.xp6(1),e.Q6J("ngIf",t.dataModel.tokenExpireDate&&(null==t.fieldsInfo.tokenExpireDate?null:t.fieldsInfo.tokenExpireDate.accessEditField)),e.xp6(1),e.Q6J("for",i)}}function fs(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",47),e.ALo(2,"prettyjson"),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,i.dataModel),e.oJD)}}function gs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",33)(1,"button",48),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",49),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Ts=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenUserLogService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.nZM),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenUserLogService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=C,this.publicHelper=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,Q.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.setAccessDataType(c.dR.Editor),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.AMA),e.Y36(v.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(E.i),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(zi,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:97,vars:62,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["name","dataModel.linkMemberId","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["LinkMemberId","ngModel"],["name","dataModel.userAccessAreaType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["matInput","","name","dataModel.browserLanguage","type","text","placeholder","BrowserLanguage",3,"ngModel","ngModelChange"],["BrowserLanguage",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.userLanguage","type","text","placeholder","UserLanguage",3,"ngModel","ngModelChange"],["UserLanguage",""],["matInput","","name","dataModel.linkDeviceId","type","text","placeholder","LinkDeviceId",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["matInput","","name","dataModel.linkApplicationId","type","text","placeholder","LinkApplicationId",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["matInput","","name","dataModel.deviceClientMAC","type","text","placeholder","DeviceClientMAC",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],["matInput","","name","dataModel.token","type","text","placeholder","Token",3,"ngModel","ngModelChange"],["Token",""],["class","ntk-full-width",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.tokenExpireDate",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["touchUi",""],["tokenExpireDate",""],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(r){return o.dataModel.recordStatus=r}),e.YNc(7,Xi,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,es,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field",3)(13,"mat-select",9,10),e.NdJ("ngModelChange",function(r){return o.dataModel.linkMemberId=r}),e.ALo(15,"translate"),e.YNc(16,ts,2,2,"mat-option",6),e.qZA(),e.TgZ(17,"mat-hint",7),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,os,5,3,"mat-error",8),e.qZA(),e.TgZ(21,"mat-form-field",3)(22,"mat-select",11,12),e.NdJ("ngModelChange",function(r){return o.dataModel.userAccessAreaType=r}),e.ALo(24,"translate"),e.YNc(25,ns,2,2,"mat-option",6),e.qZA(),e.TgZ(26,"mat-hint",7),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.YNc(29,is,5,3,"mat-error",8),e.qZA(),e.TgZ(30,"app-cms-site-selector",13),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(31,"app-cms-user-selector",13),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(32,"app-cms-member-selector",13),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(33,"div",3),e.YNc(34,ss,2,3,"mat-slide-toggle",14),e.qZA(),e.TgZ(35,"div",3),e.YNc(36,as,2,3,"mat-slide-toggle",15),e.qZA(),e.TgZ(37,"div",3),e.YNc(38,ls,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(39,"mat-form-field",3)(40,"mat-label"),e._uU(41,"BrowserLanguage"),e.qZA(),e.TgZ(42,"input",17,18),e.NdJ("ngModelChange",function(r){return o.dataModel.browserLanguage=r}),e.qZA(),e.YNc(44,rs,2,0,"mat-icon",19),e.TgZ(45,"mat-icon",20),e._uU(46,"mode_edit"),e.qZA()(),e.TgZ(47,"mat-form-field",3)(48,"mat-label"),e._uU(49,"UserLanguage"),e.qZA(),e.TgZ(50,"input",21,22),e.NdJ("ngModelChange",function(r){return o.dataModel.userLanguage=r}),e.qZA(),e.YNc(52,cs,2,0,"mat-icon",19),e.TgZ(53,"mat-icon",20),e._uU(54,"mode_edit"),e.qZA()(),e.TgZ(55,"mat-form-field",3)(56,"mat-label"),e._uU(57,"LinkDeviceId"),e.qZA(),e.TgZ(58,"input",23,24),e.NdJ("ngModelChange",function(r){return o.dataModel.linkDeviceId=r}),e.qZA(),e.YNc(60,ds,2,0,"mat-icon",19),e.TgZ(61,"mat-icon",20),e._uU(62,"mode_edit"),e.qZA()(),e.TgZ(63,"mat-form-field",3)(64,"mat-label"),e._uU(65,"LinkApplicationId"),e.qZA(),e.TgZ(66,"input",25,26),e.NdJ("ngModelChange",function(r){return o.dataModel.linkApplicationId=r}),e.qZA(),e.YNc(68,ms,2,0,"mat-icon",19),e.TgZ(69,"mat-icon",20),e._uU(70,"mode_edit"),e.qZA()(),e.TgZ(71,"mat-form-field",3)(72,"mat-label"),e._uU(73,"DeviceClientMAC"),e.qZA(),e.TgZ(74,"input",27,28),e.NdJ("ngModelChange",function(r){return o.dataModel.deviceClientMAC=r}),e.qZA(),e.YNc(76,us,2,0,"mat-icon",19),e.TgZ(77,"mat-icon",20),e._uU(78,"mode_edit"),e.qZA()(),e.TgZ(79,"mat-form-field",3)(80,"mat-label"),e._uU(81,"Token"),e.qZA(),e.TgZ(82,"input",29,30),e.NdJ("ngModelChange",function(r){return o.dataModel.token=r}),e.qZA(),e.YNc(84,ps,2,0,"mat-icon",19),e.TgZ(85,"mat-icon",20),e._uU(86,"mode_edit"),e.qZA()(),e.YNc(87,hs,8,5,"mat-form-field",31),e.YNc(88,fs,3,3,"div",8),e.qZA(),e.TgZ(89,"div",32)(90,"div",33)(91,"small",34),e._uU(92),e.qZA(),e.TgZ(93,"small",35),e._uU(94),e.qZA()()(),e.TgZ(95,"div",36),e.YNc(96,gs,5,3,"div",37),e.qZA()),2&t){const l=e.MAs(6),r=e.MAs(14),d=e.MAs(23);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,52,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(15,54,"TITLE.Status")),e.MGl("panelClass","LinkMemberId-",o.dataModel.linkMemberId,""),e.Q6J("ngModel",o.dataModel.linkMemberId),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessUserTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(19,56,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==r.errors?null:r.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(24,58,"TITLE.Status")),e.MGl("panelClass","UserAccessAreaType-",o.dataModel.userAccessAreaType,""),e.Q6J("ngModel",o.dataModel.userAccessAreaType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(28,60,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==d.errors?null:d.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.Member")),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToAllData?null:o.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToProfessionalData?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.rememberOnDevice?null:o.fieldsInfo.rememberOnDevice.accessWatchField),e.xp6(4),e.Q6J("ngModel",o.dataModel.browserLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.browserLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.userLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.userLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkDeviceId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkDeviceId),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkApplicationId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkApplicationId),e.xp6(6),e.Q6J("ngModel",o.dataModel.deviceClientMAC),e.xp6(2),e.Q6J("ngIf",o.dataModel.deviceClientMAC),e.xp6(6),e.Q6J("ngModel",o.dataModel.token),e.xp6(2),e.Q6J("ngIf",o.dataModel.token),e.xp6(3),e.Q6J("ngIf",null==o.fieldsInfo.tokenExpireDate?null:o.fieldsInfo.tokenExpireDate.accessWatchField),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.mk,_.sg,_.O5,g.Fj,g.JJ,g.Q7,g.On,H.ey,ae.Mq,ae.hl,ae.nW,Z.KE,Z.hX,Z.bx,Z.TO,Z.R9,q.Hw,J.Nt,B.gD,O.Rr,F.P,P.g,pe.a,x.O,T.X$,le.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();const Cs=["vform"];function Ss(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let As=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenUserLogService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.nZM),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenUserLogService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=C,this.publicHelper=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.AMA),e.Y36(v.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(E.i),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(Cs,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Ss,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,x.O,j.v,T.X$]})),a})();function bs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function Zs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function ks(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Ms(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function vs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function ws(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function Es(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function Is(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.description?null:i.fieldsInfo.description.fieldTitle," ")}}function xs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.description," ")}}function Ls(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function Rs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function Us(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function ys(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function Ns(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberUserId?null:i.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Ds(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberUserId," ")}}function qs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Os(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Js(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userType?null:i.fieldsInfo.userType.fieldTitle," ")}}function Ys(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userType,t.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Gs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Qs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",45),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToAllData))}}function Hs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Bs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",45),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToProfessionalData))}}function Fs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ps(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",45),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.rememberOnDevice))}}function js(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",44),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function $s(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function Vs(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Ks(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Ws(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function zs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewSiteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"web"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.SITE")))}function Xs(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewUserRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"supervisor_account"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.USER")))}function ea(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewMemberRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"assignment_ind"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.MEMBER")))}function ta(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewDeviceRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"device_unknown"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DEVICE")))}function oa(n,a){if(1&n&&(e.TgZ(0,"mat-cell",46)(1,"button",47)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,48),e.YNc(6,Ks,6,3,"button",49),e.YNc(7,Ws,6,3,"button",49),e.YNc(8,zs,6,3,"button",49),e.YNc(9,Xs,6,3,"button",49),e.YNc(10,ea,6,3,"button",49),e.YNc(11,ta,6,3,"button",49),e.qZA()()),2&n){const i=a.$implicit,t=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",i.linkSiteId>0),e.xp6(1),e.Q6J("ngIf",i.linkUserId>0),e.xp6(1),e.Q6J("ngIf",i.linkMemberUserId>0),e.xp6(1),e.Q6J("ngIf",(null==i.deviceClientMAC?null:i.deviceClientMAC.length)>0)}}function na(n,a){1&n&&e._UZ(0,"mat-header-row")}const ia=function(n){return{background:n}};function sa(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",51),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,ia,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const aa=function(){return[5,10,20,100]};let me=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A,R){if((0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new N.dj),(0,s.Z)(this,"optionsStatist",new D.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.nZM),(0,s.Z)(this,"tableSource",new u.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","Description","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=d,this.dialog=p,this.tokenHelper=C,this.cdr=S,this.translate=A,this.router=R,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const m=new c.AO3;m.propertyName="LinkCmsSiteId",m.value=this.requestLinkSiteId,this.filteModelContent.filters.push(m)}if(this.requestLinkUserId>0){const m=new c.AO3;m.propertyName="LinkUserId",m.value=this.requestLinkUserId,this.filteModelContent.filters.push(m)}if(this.requestLinkDeviceId>0){const m=new c.AO3;m.propertyName="LinkDeviceId",m.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(m)}this.optionsSearch.parentMethods={onSubmit:m=>this.onSubmitOptionsSearch(m)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.nZM);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(As,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Ts,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"ServiceDelete";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(G.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(l=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Y.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.AMA),e.Y36(E.i),e.Y36(v.e),e.Y36(U.s),e.Y36(k.gz),e.Y36(b.uw),e.Y36(w.v),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(k.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:73,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,bs,3,3,"button",4),e.YNc(6,Zs,3,3,"button",5),e.YNc(7,ks,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,Ms,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,vs,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(31);return e.KtG(o.onTableSortData(d))}),e.ynx(32,19),e.YNc(33,ws,2,1,"mat-header-cell",20),e.YNc(34,Es,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,Is,2,1,"mat-header-cell",20),e.YNc(37,xs,2,1,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,Ls,2,1,"mat-header-cell",20),e.YNc(40,Rs,4,5,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,Us,2,1,"mat-header-cell",20),e.YNc(43,ys,4,5,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,Ns,2,1,"mat-header-cell",20),e.YNc(46,Ds,2,1,"mat-cell",21),e.BQk(),e.ynx(47,26),e.YNc(48,qs,2,1,"mat-header-cell",20),e.YNc(49,Os,3,4,"mat-cell",21),e.BQk(),e.ynx(50,27),e.YNc(51,Js,2,1,"mat-header-cell",20),e.YNc(52,Ys,3,4,"mat-cell",21),e.BQk(),e.ynx(53,28),e.YNc(54,Gs,2,1,"mat-header-cell",20),e.YNc(55,Qs,3,3,"mat-cell",21),e.BQk(),e.ynx(56,29),e.YNc(57,Hs,2,1,"mat-header-cell",20),e.YNc(58,Bs,3,3,"mat-cell",21),e.BQk(),e.ynx(59,30),e.YNc(60,Fs,2,1,"mat-header-cell",20),e.YNc(61,Ps,3,3,"mat-cell",21),e.BQk(),e.ynx(62,31),e.YNc(63,js,2,1,"mat-header-cell",20),e.YNc(64,$s,2,1,"mat-cell",21),e.BQk(),e.ynx(65,32),e.YNc(66,Vs,3,3,"mat-header-cell",33),e.YNc(67,oa,12,7,"mat-cell",34),e.BQk(),e.YNc(68,na,1,0,"mat-header-row",35),e.YNc(69,sa,1,3,"mat-row",36),e.qZA(),e.BQk(),e.ynx(70,37),e.TgZ(71,"mat-paginator",38,39),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(38),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,aa)))},dependencies:[_.mk,_.O5,_.PC,g.JJ,g.On,$.RK,q.Hw,I.VK,I.OP,I.p6,V.NW,O.Rr,L.YE,L.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,K.y,W.q,z.Z,_.Ov,T.X$,X.B,ee.J,te.Y,oe.r],encapsulation:2})),a})();const la=["vform"];function ra(n,a){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function ca(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function da(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",17),e.ALo(2,"prettyjson"),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,i.dataModel),e.oJD)}}function ma(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",11)(1,"button",18),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",19),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ua=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenNotificationService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.zjJ),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenNotificationService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=C,this.publicHelper=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,Q.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.setAccessDataType(c.dR.Editor),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.Ozq),e.Y36(v.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(E.i),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(la,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:23,vars:22,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(r){return o.dataModel.recordStatus=r}),e.YNc(7,ra,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,ca,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"app-cms-site-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(13,"app-cms-user-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.YNc(14,da,3,3,"div",8),e.qZA(),e.TgZ(15,"div",10)(16,"div",11)(17,"small",12),e._uU(18),e.qZA(),e.TgZ(19,"small",13),e._uU(20),e.qZA()()(),e.TgZ(21,"div",14),e.YNc(22,ma,5,3,"div",15),e.qZA()),2&t){const l=e.MAs(6);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,20,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.mk,_.sg,_.O5,g.JJ,g.Q7,g.On,H.ey,Z.KE,Z.bx,Z.TO,B.gD,F.P,P.g,x.O,T.X$,le.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();const pa=["vform"];function _a(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ha=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenNotificationService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.zjJ),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenNotificationService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=C,this.publicHelper=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.Ozq),e.Y36(v.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(E.i),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-notification-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(pa,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,_a,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,x.O,j.v,T.X$]})),a})();function fa(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function ga(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function Ta(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Ca(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function Sa(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Aa(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function ba(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function Za(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function ka(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function Ma(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function va(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function wa(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberUserId?null:i.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Ea(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberUserId," ")}}function Ia(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.recordStatus?null:i.fieldsInfo.recordStatus.fieldTitle," ")}}const xa=function(n){return{display:n}};function La(n,a){if(1&n&&e._UZ(0,"select",49),2&n){const i=e.oxw().$implicit,t=e.oxw();e.Q6J("contentService",t.contentService)("row",i)("ngStyle",e.VKq(3,xa,i.id===t.tableRowSelected.id?"":"none"))}}function Ra(n,a){if(1&n&&(e.TgZ(0,"mat-cell",47),e.ALo(1,"statusCellClass"),e._UZ(2,"i",47),e.ALo(3,"statusIconClass"),e.YNc(4,La,1,5,"select",48),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,i.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,i.recordStatus)),e.xp6(2),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow)}}function Ua(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ya(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Na(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userType?null:i.fieldsInfo.userType.fieldTitle," ")}}function Da(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userType,t.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function qa(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Oa(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToAllData))}}function Ja(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ya(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToProfessionalData))}}function Ga(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Qa(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.rememberOnDevice))}}function Ha(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function Ba(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function Fa(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.expireDate?null:i.fieldsInfo.expireDate.fieldTitle," ")}}function Pa(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.expireDate)," ")}}function ja(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function $a(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Va(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Ka(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,52),e.YNc(6,$a,6,3,"button",53),e.YNc(7,Va,6,3,"button",53),e.TgZ(8,"button",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const i=e.MAs(5),t=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",t.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function Wa(n,a){1&n&&e._UZ(0,"mat-header-row")}const za=function(n){return{background:n}};function Xa(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",55),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,za,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const el=function(){return[5,10,20,100]};let tl=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A,R){if((0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new N.dj),(0,s.Z)(this,"optionsStatist",new D.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.zjJ),(0,s.Z)(this,"tableSource",new u.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=d,this.dialog=p,this.tokenHelper=C,this.cdr=S,this.translate=A,this.router=R,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const m=new c.AO3;m.propertyName="LinkCmsSiteId",m.value=this.requestLinkSiteId,this.filteModelContent.filters.push(m)}if(this.requestLinkUserId>0){const m=new c.AO3;m.propertyName="LinkUserId",m.value=this.requestLinkUserId,this.filteModelContent.filters.push(m)}if(this.requestLinkDeviceId>0){const m=new c.AO3;m.propertyName="LinkDeviceId",m.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(m)}this.optionsSearch.parentMethods={onSubmit:m=>this.onSubmitOptionsSearch(m)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.zjJ);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ha,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ua,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"main";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(G.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(l=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Y.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.Ozq),e.Y36(E.i),e.Y36(v.e),e.Y36(U.s),e.Y36(k.gz),e.Y36(b.uw),e.Y36(w.v),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(k.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-notification-list"]],decls:76,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,fa,3,3,"button",4),e.YNc(6,ga,3,3,"button",5),e.YNc(7,Ta,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,Ca,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,Sa,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(31);return e.KtG(o.onTableSortData(d))}),e.ynx(32,19),e.YNc(33,Aa,2,1,"mat-header-cell",20),e.YNc(34,ba,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,Za,2,1,"mat-header-cell",20),e.YNc(37,ka,4,5,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,Ma,2,1,"mat-header-cell",20),e.YNc(40,va,4,5,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,wa,2,1,"mat-header-cell",20),e.YNc(43,Ea,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,Ia,2,1,"mat-header-cell",20),e.YNc(46,Ra,5,7,"mat-cell",26),e.BQk(),e.ynx(47,27),e.YNc(48,Ua,2,1,"mat-header-cell",20),e.YNc(49,ya,3,4,"mat-cell",21),e.BQk(),e.ynx(50,28),e.YNc(51,Na,2,1,"mat-header-cell",20),e.YNc(52,Da,3,4,"mat-cell",21),e.BQk(),e.ynx(53,29),e.YNc(54,qa,2,1,"mat-header-cell",20),e.YNc(55,Oa,3,3,"mat-cell",21),e.BQk(),e.ynx(56,30),e.YNc(57,Ja,2,1,"mat-header-cell",20),e.YNc(58,Ya,3,3,"mat-cell",21),e.BQk(),e.ynx(59,31),e.YNc(60,Ga,2,1,"mat-header-cell",20),e.YNc(61,Qa,3,3,"mat-cell",21),e.BQk(),e.ynx(62,32),e.YNc(63,Ha,2,1,"mat-header-cell",20),e.YNc(64,Ba,2,1,"mat-cell",21),e.BQk(),e.ynx(65,33),e.YNc(66,Fa,2,1,"mat-header-cell",20),e.YNc(67,Pa,2,1,"mat-cell",21),e.BQk(),e.ynx(68,34),e.YNc(69,ja,3,3,"mat-header-cell",35),e.YNc(70,Ka,20,9,"mat-cell",36),e.BQk(),e.YNc(71,Wa,1,0,"mat-header-row",37),e.YNc(72,Xa,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(73,39),e.TgZ(74,"mat-paginator",40,41),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,el)))},dependencies:[_.mk,_.O5,_.PC,g.JJ,g.On,$.RK,q.Hw,J.Nt,I.VK,I.OP,I.p6,V.NW,O.Rr,L.YE,L.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,K.y,W.q,z.Z,ne.G,_.Ov,T.X$,X.B,ee.J,te.Y,ie.G,se.Y,oe.r],encapsulation:2})),a})();const ol=["vform"];function nl(n,a){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.description)}}function il(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function sl(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",11)(1,"button",17),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",18),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let al=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenNotificationLogService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.VMP),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumRecordStatusResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenNotificationLogService=r,this.cmsToastrService=d,this.publicHelper=p,this.cdr=C,this.tokenHelper=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumRecordStatus(),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEnumRecordStatus(){var t=this;return(0,Q.Z)(function*(){t.dataModelEnumRecordStatusResult=yield t.publicHelper.getEnumRecordStatus()})()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.setAccessDataType(c.dR.Editor),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.b9F),e.Y36(v.e),e.Y36(E.i),e.Y36(e.sBO),e.Y36(w.v),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(ol,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:22,vars:21,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[1,"ntk-full-width"],["name","dataModel.recordStatus","required","",3,"placeholder","ngModel","ngClass","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"mat-form-field",3)(5,"mat-select",4,5),e.NdJ("ngModelChange",function(r){return o.dataModel.recordStatus=r}),e.YNc(7,nl,2,2,"mat-option",6),e.qZA(),e.TgZ(8,"mat-hint",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,il,5,3,"mat-error",8),e.qZA(),e.TgZ(12,"app-cms-site-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA(),e.TgZ(13,"app-cms-user-selector",9),e.NdJ("optionLoadingChange",function(r){return o.loading=r}),e.qZA()(),e.TgZ(14,"div",10)(15,"div",11)(16,"small",12),e._uU(17),e.qZA(),e.TgZ(18,"small",13),e._uU(19),e.qZA()()(),e.TgZ(20,"div",14),e.YNc(21,sl,5,3,"div",15),e.qZA()),2&t){const l=e.MAs(6);e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.fieldTitle),e.MGl("ngClass","cms-RecordStatusEnum-selector-",o.dataModel.recordStatus,""),e.Q6J("ngModel",o.dataModel.recordStatus),e.xp6(2),e.Q6J("ngForOf",o.dataModelEnumRecordStatusResult.listItems),e.xp6(2),e.Oqu(e.lcZ(10,19,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.mk,_.sg,_.O5,g.JJ,g.Q7,g.On,H.ey,Z.KE,Z.bx,Z.TO,B.gD,F.P,P.g,x.O,T.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})),a})();const ll=["vform"];function rl(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let cl=(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A){(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"dialogRef",void 0),(0,s.Z)(this,"coreEnumService",void 0),(0,s.Z)(this,"coreTokenNotificationLogService",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"requestId",""),(0,s.Z)(this,"formGroup",void 0),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"dataModel",new c.VMP),(0,s.Z)(this,"formInfo",new c.LEF),(0,s.Z)(this,"dataModelEnumSendSmsStatusTypeResult",new c.y$4),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"fileManagerOpenForm",!1),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.data=t,this.dialogRef=o,this.coreEnumService=l,this.coreTokenNotificationLogService=r,this.cmsToastrService=d,this.tokenHelper=p,this.cdr=C,this.publicHelper=S,this.translate=A,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(b.WI),e.Y36(b.so),e.Y36(c.FLW),e.Y36(c.b9F),e.Y36(v.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(E.i),e.Y36(T.sK))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(ll,5),2&t){let l;e.iGM(l=e.CRH())&&(o.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"ft-x"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,rl,5,3,"div",9),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,x.O,j.v,T.X$],encapsulation:2})),a})();function dl(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function ml(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function ul(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function pl(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity())}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function _l(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function hl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.id?null:i.fieldsInfo.id.fieldTitle," ")}}function fl(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.id," ")}}function gl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkSiteId?null:i.fieldsInfo.linkSiteId.fieldTitle," ")}}function Tl(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkSiteId))," ")}}function Cl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkUserId?null:i.fieldsInfo.linkUserId.fieldTitle," ")}}function Sl(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.linkUserId))," ")}}function Al(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.linkMemberUserId?null:i.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function bl(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.hij(" ",i.linkMemberUserId," ")}}function Zl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.recordStatus?null:i.fieldsInfo.recordStatus.fieldTitle," ")}}const kl=function(n){return{display:n}};function Ml(n,a){if(1&n&&e._UZ(0,"select",49),2&n){const i=e.oxw().$implicit,t=e.oxw();e.Q6J("contentService",t.contentService)("row",i)("ngStyle",e.VKq(3,kl,i.id===t.tableRowSelected.id?"":"none"))}}function vl(n,a){if(1&n&&(e.TgZ(0,"mat-cell",47),e.ALo(1,"statusCellClass"),e._UZ(2,"i",47),e.ALo(3,"statusIconClass"),e.YNc(4,Ml,1,5,"select",48),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,i.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,i.recordStatus)),e.xp6(2),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow)}}function wl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAreaType?null:i.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function El(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userAccessAreaType,t.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Il(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userType?null:i.fieldsInfo.userType.fieldTitle," ")}}function xl(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.userType,t.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ll(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToAllData?null:i.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Rl(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToAllData))}}function Ul(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.userAccessAdminAllowToProfessionalData?null:i.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function yl(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.userAccessAdminAllowToProfessionalData))}}function Nl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.rememberOnDevice?null:i.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Dl(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const i=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,i.rememberOnDevice))}}function ql(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.createdDate?null:i.fieldsInfo.createdDate.fieldTitle," ")}}function Ol(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.createdDate)," ")}}function Jl(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",null==i.fieldsInfo.expireDate?null:i.fieldsInfo.expireDate.fieldTitle," ")}}function Yl(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const i=a.$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.publicHelper.LocaleDateTime(i.expireDate)," ")}}function Gl(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Ql(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Hl(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Bl(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,52),e.YNc(6,Ql,6,3,"button",53),e.YNc(7,Hl,6,3,"button",53),e.TgZ(8,"button",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewSiteRow(l))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",54),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionbuttonViewUserRow(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const i=e.MAs(5),t=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",t.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",t.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function Fl(n,a){1&n&&e._UZ(0,"mat-header-row")}const Pl=function(n){return{background:n}};function jl(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"mat-row",55),e.NdJ("click",function(){const l=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.Q6J("ngStyle",e.VKq(1,Pl,i.id===t.tableRowSelected.id?"#d3d3da":""))}}const $l=function(){return[5,10,20,100]},Vl=[{path:"",component:ct,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:ce,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:ce,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:ce,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:ce,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:me,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:me,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:me,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:me,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:de,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:de,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:de,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:de,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:rt,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:Xo,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:no,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:tl,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:(()=>{var n;class a{constructor(t,o,l,r,d,p,C,S,A,R){if((0,s.Z)(this,"contentService",void 0),(0,s.Z)(this,"publicHelper",void 0),(0,s.Z)(this,"cmsToastrService",void 0),(0,s.Z)(this,"cmsConfirmationDialogService",void 0),(0,s.Z)(this,"activatedRoute",void 0),(0,s.Z)(this,"dialog",void 0),(0,s.Z)(this,"tokenHelper",void 0),(0,s.Z)(this,"cdr",void 0),(0,s.Z)(this,"translate",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"requestLinkSiteId",0),(0,s.Z)(this,"requestLinkUserId",0),(0,s.Z)(this,"requestLinkDeviceId",0),(0,s.Z)(this,"comment",void 0),(0,s.Z)(this,"author",void 0),(0,s.Z)(this,"dataSource",void 0),(0,s.Z)(this,"flag",!1),(0,s.Z)(this,"tableContentSelected",[]),(0,s.Z)(this,"filteModelContent",new c.Hay),(0,s.Z)(this,"dataModelResult",new c.y$4),(0,s.Z)(this,"optionsSearch",new N.dj),(0,s.Z)(this,"optionsStatist",new D.TV),(0,s.Z)(this,"tokenInfo",new c.OdC),(0,s.Z)(this,"loading",new M.O),(0,s.Z)(this,"tableRowsSelected",[]),(0,s.Z)(this,"tableRowSelected",new c.VMP),(0,s.Z)(this,"tableSource",new u.by),(0,s.Z)(this,"tabledisplayedColumns",[]),(0,s.Z)(this,"tabledisplayedColumnsSource",["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"]),(0,s.Z)(this,"fieldsInfo",new Map),(0,s.Z)(this,"dataModelEnumManageUserAccessAreaTypesResult",new c.y$4),(0,s.Z)(this,"dataModelEnumManageUserAccessUserTypesResult",new c.y$4),(0,s.Z)(this,"expandedElement",void 0),(0,s.Z)(this,"cmsApiStoreSubscribe",void 0),this.contentService=t,this.publicHelper=o,this.cmsToastrService=l,this.cmsConfirmationDialogService=r,this.activatedRoute=d,this.dialog=p,this.tokenHelper=C,this.cdr=S,this.translate=A,this.router=R,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const m=new c.AO3;m.propertyName="LinkCmsSiteId",m.value=this.requestLinkSiteId,this.filteModelContent.filters.push(m)}if(this.requestLinkUserId>0){const m=new c.AO3;m.propertyName="LinkUserId",m.value=this.requestLinkUserId,this.filteModelContent.filters.push(m)}if(this.requestLinkDeviceId>0){const m=new c.AO3;m.propertyName="LinkDeviceId",m.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(m)}this.optionsSearch.parentMethods={onSubmit:m=>this.onSubmitOptionsSearch(m)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.VMP);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(t)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(cl,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(al,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const r=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(r)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const o=this.translate.instant("MESSAGE.Please_Confirm"),l=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(o,l).then(r=>{if(r){const d=this.constructor.name+"main";this.loading.Start(d),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(d)},error:p=>{this.cmsToastrService.typeError(p),this.loading.Stop(d)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const o=this.constructor.name+".ServiceStatist";this.loading.Start(o,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new c.AO3;r.propertyName="RecordStatus",r.value=c.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.loading.Stop(o)},error:d=>{this.cmsToastrService.typeError(d),this.loading.Stop(o)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(G.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(l=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Y.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:h.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:h.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)(e.Y36(c.b9F),e.Y36(E.i),e.Y36(v.e),e.Y36(U.s),e.Y36(k.gz),e.Y36(b.uw),e.Y36(w.v),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(k.F0))}),(0,s.Z)(a,"\u0275cmp",e.Xpm({type:n,selectors:[["app-coretoken-notificationlog-list"]],decls:76,vars:30,consts:[[3,"optionLoading","optionTreeDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-text","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-warning","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","box-shadow-button","btn-outline-info","btn-sm","BTN-text"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-secondary","BTN-icon",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn box-shadow-button btn-outline-secondary BTN-icon",3,"click",4,"ngIf"],["type","button","class","btn box-shadow-button btn-outline-success BTN-text",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary","BTN-text",3,"click"],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-warning",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-danger",3,"click"],["type","button",1,"btn","box-shadow-button","btn-outline-success","BTN-text",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"ngStyle","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,dl,3,3,"button",4),e.YNc(6,ml,3,3,"button",5),e.YNc(7,ul,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(d){return o.optionsSearch.data.show=d}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.YNc(20,pl,4,3,"button",12),e.TgZ(21,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",11),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,_l,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"app-cms-search-list",15),e.NdJ("optionsChange",function(d){return o.optionsSearch=d}),e.qZA(),e.TgZ(28,"app-cms-statist-list",15),e.NdJ("optionsChange",function(d){return o.optionsStatist=d}),e.qZA(),e.BQk(),e.ynx(29,16),e.TgZ(30,"mat-table",17,18),e.NdJ("matSortChange",function(){e.CHM(l);const d=e.MAs(31);return e.KtG(o.onTableSortData(d))}),e.ynx(32,19),e.YNc(33,hl,2,1,"mat-header-cell",20),e.YNc(34,fl,2,1,"mat-cell",21),e.BQk(),e.ynx(35,22),e.YNc(36,gl,2,1,"mat-header-cell",20),e.YNc(37,Tl,4,5,"mat-cell",21),e.BQk(),e.ynx(38,23),e.YNc(39,Cl,2,1,"mat-header-cell",20),e.YNc(40,Sl,4,5,"mat-cell",21),e.BQk(),e.ynx(41,24),e.YNc(42,Al,2,1,"mat-header-cell",20),e.YNc(43,bl,2,1,"mat-cell",21),e.BQk(),e.ynx(44,25),e.YNc(45,Zl,2,1,"mat-header-cell",20),e.YNc(46,vl,5,7,"mat-cell",26),e.BQk(),e.ynx(47,27),e.YNc(48,wl,2,1,"mat-header-cell",20),e.YNc(49,El,3,4,"mat-cell",21),e.BQk(),e.ynx(50,28),e.YNc(51,Il,2,1,"mat-header-cell",20),e.YNc(52,xl,3,4,"mat-cell",21),e.BQk(),e.ynx(53,29),e.YNc(54,Ll,2,1,"mat-header-cell",20),e.YNc(55,Rl,3,3,"mat-cell",21),e.BQk(),e.ynx(56,30),e.YNc(57,Ul,2,1,"mat-header-cell",20),e.YNc(58,yl,3,3,"mat-cell",21),e.BQk(),e.ynx(59,31),e.YNc(60,Nl,2,1,"mat-header-cell",20),e.YNc(61,Dl,3,3,"mat-cell",21),e.BQk(),e.ynx(62,32),e.YNc(63,ql,2,1,"mat-header-cell",20),e.YNc(64,Ol,2,1,"mat-cell",21),e.BQk(),e.ynx(65,33),e.YNc(66,Jl,2,1,"mat-header-cell",20),e.YNc(67,Yl,2,1,"mat-cell",21),e.BQk(),e.ynx(68,34),e.YNc(69,Gl,3,3,"mat-header-cell",35),e.YNc(70,Bl,20,9,"mat-cell",36),e.BQk(),e.YNc(71,Fl,1,0,"mat-header-row",37),e.YNc(72,jl,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(73,39),e.TgZ(74,"mat-paginator",40,41),e.NdJ("page",function(d){return o.onTablePageingData(d)}),e.qZA(),e.BQk(),e.qZA()}2&t&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.Oqu(e.lcZ(11,21,"ACTION.SEARCH")),e.xp6(4),e.hij("",e.lcZ(15,23,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,25,"ACTION.EXPORTFILE")),e.xp6(3),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.s9C("title",e.lcZ(23,27,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,$l)))},dependencies:[_.mk,_.O5,_.PC,g.JJ,g.On,$.RK,q.Hw,J.Nt,I.VK,I.OP,I.p6,V.NW,O.Rr,L.YE,L.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,K.y,W.q,z.Z,ne.G,_.Ov,T.X$,X.B,ee.J,te.Y,ie.G,se.Y,oe.r],encapsulation:2})),a})(),data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}];let Kl=(()=>{var n;class a{}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)}),(0,s.Z)(a,"\u0275mod",e.oAB({type:n})),(0,s.Z)(a,"\u0275inj",e.cJS({imports:[k.Bz.forChild(Vl),k.Bz]})),a})(),Wl=(()=>{var n;class a{}return n=a,(0,s.Z)(a,"\u0275fac",function(t){return new(t||n)}),(0,s.Z)(a,"\u0275mod",e.oAB({type:n})),(0,s.Z)(a,"\u0275inj",e.cJS({providers:[c.EAm,c.FLW,c.O0p,c.AMA,c.Q0Y,c.x6v,c.mPJ,c.qOP,c.Ozq,c.b9F,c.k$Z,U.s],imports:[Kl,_.ez,g.u5,g.UX.withConfig({warnOnNgModelWithFormControl:"never"}),ue.m.forRoot()]})),a})()},99654:(_e,re,f)=>{f.d(re,{B:()=>g});var s=f(86889),_=f(64537);let g=(()=>{var c;class U{transform(k,u){if(!u||0===u.length)return"";const N=u.find(D=>D.key===k||D.value===k);return N?N.description:""}}return c=U,(0,s.Z)(U,"\u0275fac",function(k){return new(k||c)}),(0,s.Z)(U,"\u0275pipe",_.Yjl({name:"enums",type:c,pure:!0})),U})()}}]);