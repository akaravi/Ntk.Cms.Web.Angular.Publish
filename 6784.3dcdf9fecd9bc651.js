"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[6784,918,9907],{13673:(b,v,a)=>{a.d(v,{G:()=>f});var o=a(8239),e=a(86889),m=a(88692),_=a(34511),r=a(64537),c=a(94032),n=a(32607);let f=(()=>{var g;class p{constructor(t,s,l,C,S,E){(0,e.Z)(this,"elRef",void 0),(0,e.Z)(this,"renderer",void 0),(0,e.Z)(this,"publicHelper",void 0),(0,e.Z)(this,"cmsToastrService",void 0),(0,e.Z)(this,"cdr",void 0),(0,e.Z)(this,"document",void 0),(0,e.Z)(this,"row",void 0),(0,e.Z)(this,"contentService",void 0),this.elRef=t,this.renderer=s,this.publicHelper=l,this.cmsToastrService=C,this.cdr=S,this.document=E,this.getEnumRecordStatus()}getEnumRecordStatus(){var t=this;return(0,o.Z)(function*(){(yield t.publicHelper.getEnumRecordStatus()).listItems.forEach(l=>{const C=document.createElement("option");C.innerHTML=" "+l.title+' <i Class="'+t.iconStatus(l.value)+'"></i>',C.value=l.value.toString(),t.elRef.nativeElement.add(C)}),t.elRef.nativeElement.options.length>0&&t.row&&t.row.recordStatus&&t.renderer.setProperty(t.elRef.nativeElement,"value",t.row.recordStatus)})()}onChange(){const t=this.elRef.nativeElement,s=t.value;this.addLoader(t),this.contentService.setAccessDataType(_.dR.Editor),this.contentService.ServiceSetStatus(this.row.id,s).subscribe(l=>{l.isSuccess?(this.handleSuccessCase(t),this.cmsToastrService.typeSuccessSetStatus(l.errorMessage),this.row.recordStatus=0|s,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeErrorSetStatus(l.errorMessage),this.handleErrorCase(t))},l=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeError(l),this.handleErrorCase(t)})}handleSuccessCase(t){this.removeBackground(t),this.addSuccess(t),setTimeout(()=>{this.removeBackground(t)},1e3)}handleErrorCase(t){this.removeBackground(t);const s=this.document.createElement("img");s.style.width="20px",s.src="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png";const l=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(l,s),setTimeout(()=>{this.renderer.removeChild(l,s)},1e3)}addLoader(t){this.addBackground(t,"https://replit.com/public/images/loading_dots.gif",20)}addSuccess(t){this.addBackground(t,"https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",20)}addBackground(t,s,l){t.style.background=`#fff url("${s}") no-repeat right 20px center`,t.style.backgroundSize=`${l}px`}removeBackground(t){t.style.background="none"}iconStatus(t){let s="";switch(t){case 1:default:s="fa fa-check";break;case 2:s="fa fa-eye-slash";break;case 3:s="fa fa-times";break;case 4:s="fa fa-hourglass-half";break;case 5:s="far fa-thumbs-down";break;case 6:s="fa fa-archive"}return s}}return g=p,(0,e.Z)(p,"\u0275fac",function(t){return new(t||g)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(c.i),r.Y36(n.e),r.Y36(r.sBO),r.Y36(m.K0))}),(0,e.Z)(p,"\u0275dir",r.lG2({type:g,selectors:[["","cmsRecordStatusSelfSave",""]],hostBindings:function(t,s){1&t&&r.NdJ("change",function(){return s.onChange()})},inputs:{row:"row",contentService:"contentService"}})),p})()},81418:(b,v,a)=>{a.d(v,{v:()=>m});var o=a(86889),e=a(64537);let m=(()=>{var _;class r{transform(n){return(n+="").replace("/images/","/thumbnails/")}}return _=r,(0,o.Z)(r,"\u0275fac",function(n){return new(n||_)}),(0,o.Z)(r,"\u0275pipe",e.Yjl({name:"cmsthumbnail",type:_,pure:!0})),r})()},86639:(b,v,a)=>{a.d(v,{G:()=>_});var o=a(86889),e=a(64537),m=a(5998);let _=(()=>{var r;class c{constructor(u){(0,o.Z)(this,"sanitizer",void 0),this.sanitizer=u}transform(u,d=!1){let i="";switch(u){case 1:default:i="fa fa-check";break;case 2:i="fa fa-times";break;case 3:i="fa fa-trash";break;case 4:i="fa fa-hourglass-half";break;case 5:i="far fa-thumbs-down";break;case 6:i="fa fa-archive"}return i}}return r=c,(0,o.Z)(c,"\u0275fac",function(u){return new(u||r)(e.Y36(m.H7,16))}),(0,o.Z)(c,"\u0275pipe",e.Yjl({name:"statusIconClass",type:r,pure:!0})),c})()},83914:(b,v,a)=>{a.d(v,{s:()=>r});var o=a(86889),e=a(64537),m=a(58219);let _=(()=>{var c;class n{constructor(d){(0,o.Z)(this,"activeModal",void 0),(0,o.Z)(this,"id",++n.nextId),(0,o.Z)(this,"title",void 0),(0,o.Z)(this,"message",void 0),(0,o.Z)(this,"btnOkText",void 0),(0,o.Z)(this,"btnCancelText",void 0),this.activeModal=d}ngOnInit(){}decline(){this.activeModal.close(!1)}accept(){this.activeModal.close(!0)}dismiss(){this.activeModal.dismiss()}}return c=n,(0,o.Z)(n,"nextId",0),(0,o.Z)(n,"\u0275fac",function(d){return new(d||c)(e.Y36(m.Kz))}),(0,o.Z)(n,"\u0275cmp",e.Xpm({type:c,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText",btnCancelText:"btnCancelText"},decls:12,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(d,i){1&d&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return i.dismiss()}),e.TgZ(4,"span",3),e._uU(5,"\xd7"),e.qZA()()(),e._UZ(6,"div",4),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return i.decline()}),e._uU(9),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return i.accept()}),e._uU(11),e.qZA()()),2&d&&(e.xp6(2),e.Oqu(i.title),e.xp6(4),e.Q6J("innerHTML",i.message,e.oJD),e.xp6(3),e.Oqu(i.btnCancelText),e.xp6(2),e.Oqu(i.btnOkText))},encapsulation:2})),n})(),r=(()=>{var c;class n{constructor(d){(0,o.Z)(this,"modalService",void 0),this.modalService=d}confirm(d,i,f="OK",g="Cancel",p="sm"){const h=this.modalService.open(_,{size:p});return h.componentInstance.title=d,h.componentInstance.message=i,h.componentInstance.btnOkText=f,h.componentInstance.btnCancelText=g,h.result}}return c=n,(0,o.Z)(n,"\u0275fac",function(d){return new(d||c)(e.LFG(m.FF))}),(0,o.Z)(n,"\u0275prov",e.Yz7({token:c,factory:c.\u0275fac})),n})()}}]);