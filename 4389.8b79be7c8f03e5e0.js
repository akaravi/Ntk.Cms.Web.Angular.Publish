"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[4389,6784,918,9907],{46272:(S,f,o)=>{o.r(f),o.d(f,{WebDesignerBuilderModule:()=>N});var t=o(86889),n=o(27165),b=o(88692),g=o(20092),c=o(88659),s=o(83331),v=o(80707),_=o(4721),d=o(53794),Z=o(4467),l=o(34511),C=o(6087),T=o(17360),i=o(26114);class r{constructor(){(0,t.Z)(this,"configRouteTemplateFileImage",void 0),(0,t.Z)(this,"configRouteFileStorage",void 0),(0,t.Z)(this,"cmsSite",void 0),(0,t.Z)(this,"cmsPage",void 0),(0,t.Z)(this,"cmsParentPage",void 0),(0,t.Z)(this,"cmsPageTemplate",void 0),(0,t.Z)(this,"moduleInfoes",void 0),(0,t.Z)(this,"templateConfig",void 0),(0,t.Z)(this,"bodySetting",void 0)}}var m=o(60656),e=o(64537),D=o(50727),E=o(56707),O=o(32607),k=o(94032),I=o(75738);const M=[{path:"",component:(()=>{class u{constructor(h,a,p,R,P,y){(0,t.Z)(this,"tokenHelper",void 0),(0,t.Z)(this,"cdr",void 0),(0,t.Z)(this,"translate",void 0),(0,t.Z)(this,"cmsToastrService",void 0),(0,t.Z)(this,"publicHelper",void 0),(0,t.Z)(this,"webDesignerMainPageService",void 0),(0,t.Z)(this,"requestId",""),(0,t.Z)(this,"cmsApiStoreSubscribe",void 0),(0,t.Z)(this,"tokenInfo",new l.OdC),(0,t.Z)(this,"loading",new m.O),(0,t.Z)(this,"fieldsInfo",new Map),(0,t.Z)(this,"dataModel",new r),(0,t.Z)(this,"dataPageModel",new l.RIQ),(0,t.Z)(this,"dataModelResult",new l.y$4),this.tokenHelper=h,this.cdr=a,this.translate=p,this.cmsToastrService=R,this.publicHelper=P,this.webDesignerMainPageService=y,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}ngOnInit(){this.tokenHelper.getCurrentToken().then(h=>{this.tokenInfo=h,this.DataGetOneContent(),this.tokenHelper.CheckIsAdmin()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(h=>{this.tokenInfo=h,this.DataGetOneContent(),this.tokenHelper.CheckIsAdmin()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){const h=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.loading.Start(h),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(l.dR.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe(a=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(a.access),this.dataPageModel=a.item,a.isSuccess||this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(h)},a=>{this.cmsToastrService.typeError(a),this.loading.Stop(h)})}onActionAdd(){}}return(0,t.Z)(u,"\u0275fac",function(h){return new(h||u)(e.Y36(D.v),e.Y36(e.sBO),e.Y36(E.sK),e.Y36(O.e),e.Y36(k.i),e.Y36(l.SUF))}),(0,t.Z)(u,"\u0275cmp",e.Xpm({type:u,selectors:[["app-web-designer-builder"]],decls:60,vars:37,consts:[[1,"row"],["Class","col-xl-2"],[1,"ntk-cms-html-tree-header"],["type","button",1,"btn","btn-outline-primary",2,"width","98%",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"ntk-cms-html-tree-body"],[1,"ntk-cms-html-tree-footer"],["Class","col-xl-10"],[1,"ntk-cms-html-list-header"],[3,"options"],[1,"ntk-cms-html-list-footer"]],template:function(h,a){1&h&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return a.onActionAdd()}),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"button",3),e.NdJ("click",function(){return a.onActionAdd()}),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",3),e.NdJ("click",function(){return a.onActionAdd()}),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"button",3),e.NdJ("click",function(){return a.onActionAdd()}),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"button",3),e.NdJ("click",function(){return a.onActionAdd()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"button",3),e.NdJ("click",function(){return a.onActionAdd()}),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"button",3),e.NdJ("click",function(){return a.onActionAdd()}),e._uU(22),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",2),e._uU(25),e.ALo(26,"translate"),e._UZ(27,"br"),e.TgZ(28,"button",4),e.NdJ("click",function(){return a.onActionAdd()}),e._uU(29,"lg"),e.qZA(),e.TgZ(30,"button",4),e.NdJ("click",function(){return a.onActionAdd()}),e._uU(31,"md"),e.qZA(),e.TgZ(32,"button",4),e.NdJ("click",function(){return a.onActionAdd()}),e._uU(33,"sm"),e.qZA(),e.TgZ(34,"button",4),e.NdJ("click",function(){return a.onActionAdd()}),e._uU(35,"xs"),e.qZA()(),e.TgZ(36,"div",2),e._uU(37),e.ALo(38,"translate"),e._UZ(39,"br"),e.TgZ(40,"button",3),e.NdJ("click",function(){return a.onActionAdd()}),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"button",3),e.NdJ("click",function(){return a.onActionAdd()}),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",5),e._uU(47," body "),e.qZA(),e.TgZ(48,"div",6),e._uU(49," tree-footer "),e.qZA()(),e.TgZ(50,"div",7)(51,"div",8)(52,"button",4),e.NdJ("click",function(){return a.onActionAdd()}),e._uU(53),e.ALo(54,"translate"),e.qZA()(),e.TgZ(55,"div"),e._UZ(56,"app-progress-spinner",9),e._uU(57," Body "),e.qZA(),e.TgZ(58,"div",10),e._uU(59," footer "),e.qZA()()()),2&h&&(e.xp6(4),e.Oqu(e.lcZ(5,13,"ACTION.SAVE_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(8,15,"ACTION.DELETE_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(11,17,"ACTION.LOADING_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(14,19,"ACTION.ASSUMPTION_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(17,21,"ACTION.INTERNALIZATION_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(20,23,"ACTION.OUTFLOW_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(23,25,"ACTION.HISTORY_CONTENT")),e.xp6(3),e.hij(" ",e.lcZ(26,27,"TITLE.DISPLAY_SIZE")," "),e.xp6(12),e.hij(" ",e.lcZ(38,29,"TITLE.DISPLAY")," "),e.xp6(4),e.Oqu(e.lcZ(42,31,"TITLE.Preview")),e.xp6(3),e.Oqu(e.lcZ(45,33,"TITLE.Preview_MOTHER")),e.xp6(9),e.Oqu(e.lcZ(54,35,"TITLE.CREATE_ROW")),e.xp6(3),e.Q6J("options",a.loading))},dependencies:[I.O,E.X$]})),u})(),data:{title:"ROUTE.WEBDESIGNERBUILDER"},children:[]}];let B=(()=>{class u{}return(0,t.Z)(u,"\u0275fac",function(h){return new(h||u)}),(0,t.Z)(u,"\u0275mod",e.oAB({type:u})),(0,t.Z)(u,"\u0275inj",e.cJS({imports:[i.Bz.forChild(M),i.Bz]})),u})(),N=(()=>{class u{}return(0,t.Z)(u,"\u0275fac",function(h){return new(h||u)}),(0,t.Z)(u,"\u0275mod",e.oAB({type:u})),(0,t.Z)(u,"\u0275inj",e.cJS({providers:[l.EAm,l.FLW,l.Z8z,l.dF2,l.PwI,l.VqD,l.UIH,l.zef,l.KQH,l.SUF,l.eck,l.BeA,l.cW6,l.qgh],imports:[b.ez,B,g.u5,g.UX.withConfig({warnOnNgModelWithFormControl:"never"}),C.m.forRoot(),_.UM,s.Ps,c.lN,v.T5,d.e4,Z.FR,n._t,T.CoreModuleModule]})),u})()},13673:(S,f,o)=>{o.d(f,{G:()=>l});var t=o(8239),n=o(86889),b=o(88692),g=o(34511),c=o(64537),s=o(94032),v=o(32607);let l=(()=>{class C{constructor(i,r,m,e,D,E){(0,n.Z)(this,"elRef",void 0),(0,n.Z)(this,"renderer",void 0),(0,n.Z)(this,"publicHelper",void 0),(0,n.Z)(this,"cmsToastrService",void 0),(0,n.Z)(this,"cdr",void 0),(0,n.Z)(this,"document",void 0),(0,n.Z)(this,"row",void 0),(0,n.Z)(this,"contentService",void 0),this.elRef=i,this.renderer=r,this.publicHelper=m,this.cmsToastrService=e,this.cdr=D,this.document=E,this.getEnumRecordStatus()}getEnumRecordStatus(){var i=this;return(0,t.Z)(function*(){(yield i.publicHelper.getEnumRecordStatus()).listItems.forEach(m=>{const e=document.createElement("option");e.innerHTML=" "+m.title+' <i Class="'+i.iconStatus(m.value)+'"></i>',e.value=m.value.toString(),i.elRef.nativeElement.add(e)}),i.elRef.nativeElement.options.length>0&&i.row&&i.row.recordStatus&&i.renderer.setProperty(i.elRef.nativeElement,"value",i.row.recordStatus)})()}onChange(){const i=this.elRef.nativeElement,r=i.value;this.addLoader(i),this.contentService.setAccessDataType(g.dR.Editor),this.contentService.ServiceSetStatus(this.row.id,r).subscribe(m=>{m.isSuccess?(this.handleSuccessCase(i),this.cmsToastrService.typeSuccessSetStatus(m.errorMessage),this.row.recordStatus=0|r,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeErrorSetStatus(m.errorMessage),this.handleErrorCase(i))},m=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeError(m),this.handleErrorCase(i)})}handleSuccessCase(i){this.removeBackground(i),this.addSuccess(i),setTimeout(()=>{this.removeBackground(i)},1e3)}handleErrorCase(i){this.removeBackground(i);const r=this.document.createElement("img");r.style.width="20px",r.src="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png";const m=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(m,r),setTimeout(()=>{this.renderer.removeChild(m,r)},1e3)}addLoader(i){this.addBackground(i,"https://replit.com/public/images/loading_dots.gif",20)}addSuccess(i){this.addBackground(i,"https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",20)}addBackground(i,r,m){i.style.background=`#fff url("${r}") no-repeat right 20px center`,i.style.backgroundSize=`${m}px`}removeBackground(i){i.style.background="none"}iconStatus(i){let r="";switch(i){case 1:default:r="fa fa-check";break;case 2:r="fa fa-eye-slash";break;case 3:r="fa fa-times";break;case 4:r="fa fa-hourglass-half";break;case 5:r="far fa-thumbs-down";break;case 6:r="fa fa-archive"}return r}}return(0,n.Z)(C,"\u0275fac",function(i){return new(i||C)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(s.i),c.Y36(v.e),c.Y36(c.sBO),c.Y36(b.K0))}),(0,n.Z)(C,"\u0275dir",c.lG2({type:C,selectors:[["","cmsRecordStatusSelfSave",""]],hostBindings:function(i,r){1&i&&c.NdJ("change",function(){return r.onChange()})},inputs:{row:"row",contentService:"contentService"}})),C})()},81418:(S,f,o)=>{o.d(f,{v:()=>b});var t=o(86889),n=o(64537);let b=(()=>{class g{transform(s){return(s+="").replace("/images/","/thumbnails/")}}return(0,t.Z)(g,"\u0275fac",function(s){return new(s||g)}),(0,t.Z)(g,"\u0275pipe",n.Yjl({name:"cmsthumbnail",type:g,pure:!0})),g})()},86639:(S,f,o)=>{o.d(f,{G:()=>g});var t=o(86889),n=o(64537),b=o(5998);let g=(()=>{class c{constructor(v){(0,t.Z)(this,"sanitizer",void 0),this.sanitizer=v}transform(v,_=!1){let d="";switch(v){case 1:default:d="fa fa-check";break;case 2:d="fa fa-times";break;case 3:d="fa fa-trash";break;case 4:d="fa fa-hourglass-half";break;case 5:d="far fa-thumbs-down";break;case 6:d="fa fa-archive"}return d}}return(0,t.Z)(c,"\u0275fac",function(v){return new(v||c)(n.Y36(b.H7,16))}),(0,t.Z)(c,"\u0275pipe",n.Yjl({name:"statusIconClass",type:c,pure:!0})),c})()},83914:(S,f,o)=>{o.d(f,{s:()=>c});var t=o(86889),n=o(64537),b=o(58219);let g=(()=>{class s{constructor(_){(0,t.Z)(this,"activeModal",void 0),(0,t.Z)(this,"id",++s.nextId),(0,t.Z)(this,"title",void 0),(0,t.Z)(this,"message",void 0),(0,t.Z)(this,"btnOkText",void 0),(0,t.Z)(this,"btnCancelText",void 0),this.activeModal=_}ngOnInit(){}decline(){this.activeModal.close(!1)}accept(){this.activeModal.close(!0)}dismiss(){this.activeModal.dismiss()}}return(0,t.Z)(s,"nextId",0),(0,t.Z)(s,"\u0275fac",function(_){return new(_||s)(n.Y36(b.Kz))}),(0,t.Z)(s,"\u0275cmp",n.Xpm({type:s,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText",btnCancelText:"btnCancelText"},decls:12,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(_,d){1&_&&(n.TgZ(0,"div",0)(1,"h4",1),n._uU(2),n.qZA(),n.TgZ(3,"button",2),n.NdJ("click",function(){return d.dismiss()}),n.TgZ(4,"span",3),n._uU(5,"\xd7"),n.qZA()()(),n._UZ(6,"div",4),n.TgZ(7,"div",5)(8,"button",6),n.NdJ("click",function(){return d.decline()}),n._uU(9),n.qZA(),n.TgZ(10,"button",7),n.NdJ("click",function(){return d.accept()}),n._uU(11),n.qZA()()),2&_&&(n.xp6(2),n.Oqu(d.title),n.xp6(4),n.Q6J("innerHTML",d.message,n.oJD),n.xp6(3),n.Oqu(d.btnCancelText),n.xp6(2),n.Oqu(d.btnOkText))},encapsulation:2})),s})(),c=(()=>{class s{constructor(_){(0,t.Z)(this,"modalService",void 0),this.modalService=_}confirm(_,d,Z="OK",l="Cancel",C="sm"){const T=this.modalService.open(g,{size:C});return T.componentInstance.title=_,T.componentInstance.message=d,T.componentInstance.btnOkText=Z,T.componentInstance.btnCancelText=l,T.result}}return(0,t.Z)(s,"\u0275fac",function(_){return new(_||s)(n.LFG(b.FF))}),(0,t.Z)(s,"\u0275prov",n.Yz7({token:s,factory:s.\u0275fac})),s})()}}]);